/*! For license information please see main.54b14c13.js.LICENSE.txt */
(()=>{var e={110:(e,t,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=d(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===v)},t.typeOf=w},309:(e,t,n)=>{"use strict";e.exports=n(746)},198:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Null]",u="[object Object]",h="[object Proxy]",d="[object Undefined]",f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[o]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[a]=m["[object Map]"]=m["[object Number]"]=m[u]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=t&&!t.nodeType&&t,_=b&&e&&!e.nodeType&&e,w=_&&_.exports===b,S=w&&g.process,k=function(){try{var e=_&&_.require&&_.require("util").types;return e||S&&S.binding&&S.binding("util")}catch(t){}}(),x=k&&k.isTypedArray;var C,E,T=Array.prototype,I=Function.prototype,P=Object.prototype,R=y["__core-js_shared__"],A=I.toString,N=P.hasOwnProperty,D=function(){var e=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=P.toString,M=A.call(Object),L=RegExp("^"+A.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=w?y.Buffer:void 0,j=y.Symbol,z=y.Uint8Array,V=F?F.allocUnsafe:void 0,U=(C=Object.getPrototypeOf,E=Object,function(e){return C(E(e))}),B=Object.create,q=P.propertyIsEnumerable,W=T.splice,H=j?j.toStringTag:void 0,K=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),G=F?F.isBuffer:void 0,Q=Math.max,$=Date.now,Y=ye(y,"Map"),X=ye(Object,"create"),J=function(){function e(){}return function(t){if(!Re(t))return{};if(B)return B(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t){var n=Ce(e),r=!n&&xe(e),i=!n&&!r&&Te(e),o=!n&&!r&&!i&&Ne(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!N.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,l))||a.push(c);return a}function ie(e,t,n){(void 0!==n&&!ke(e[t],n)||void 0===n&&!(t in e))&&ae(e,t,n)}function oe(e,t,n){var r=e[t];N.call(e,t)&&ke(r,n)&&(void 0!==n||t in e)||ae(e,t,n)}function se(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function ae(e,t,n){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Z.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(X){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:N.call(t,e)},Z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=X&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return se(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(Y||ee),string:new Z}},te.prototype.delete=function(e){var t=ve(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return ve(this,e).get(e)},te.prototype.has=function(e){return ve(this,e).has(e)},te.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!Y||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var le,ce=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[le?s:++r];if(!1===t(i[a],a,i))break}return e};function ue(e){return null==e?void 0===e?d:c:H&&H in Object(e)?function(e){var t=N.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(o){}var i=O.call(e);r&&(t?e[H]=n:delete e[H]);return i}(e):function(e){return O.call(e)}(e)}function he(e){return Ae(e)&&ue(e)==o}function de(e){return!(!Re(e)||function(e){return!!D&&D in e}(e))&&(Ie(e)?L:f).test(function(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function fe(e){if(!Re(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=_e(e),n=[];for(var r in e)("constructor"!=r||!t&&N.call(e,r))&&n.push(r);return n}function pe(e,t,n,r,i){e!==t&&ce(t,(function(o,s){if(i||(i=new ne),Re(o))!function(e,t,n,r,i,o,s){var a=we(e,n),l=we(t,n),c=s.get(l);if(c)return void ie(e,n,c);var h=o?o(a,l,n+"",e,t,s):void 0,d=void 0===h;if(d){var f=Ce(l),p=!f&&Te(l),m=!f&&!p&&Ne(l);h=l,f||p||m?Ce(a)?h=a:Ae(g=a)&&Ee(g)?h=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(a):p?(d=!1,h=function(e,t){if(t)return e.slice();var n=e.length,r=V?V(n):new e.constructor(n);return e.copy(r),r}(l,!0)):m?(d=!1,h=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new z(t).set(new z(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!0)):h=[]:function(e){if(!Ae(e)||ue(e)!=u)return!1;var t=U(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==M}(l)||xe(l)?(h=a,xe(a)?h=function(e){return function(e,t,n,r){var i=!n;n||(n={});var o=-1,s=t.length;for(;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?ae(n,a,l):oe(n,a,l)}return n}(e,De(e))}(a):Re(a)&&!Ie(a)||(h=function(e){return"function"!=typeof e.constructor||_e(e)?{}:J(U(e))}(l))):d=!1}var g;d&&(s.set(l,h),i(h,l,r,o,s),s.delete(l));ie(e,n,h)}(e,t,s,n,pe,r,i);else{var a=r?r(we(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),ie(e,s,a)}}),De)}function me(e,t){return Se(function(e,t,n){return t=Q(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Q(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,Le),e+"")}var ge=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Le;function ve(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function we(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=$(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ge);function ke(e,t){return e===t||e!==e&&t!==t}var xe=he(function(){return arguments}())?he:function(e){return Ae(e)&&N.call(e,"callee")&&!q.call(e,"callee")},Ce=Array.isArray;function Ee(e){return null!=e&&Pe(e.length)&&!Ie(e)}var Te=G||function(){return!1};function Ie(e){if(!Re(e))return!1;var t=ue(e);return t==a||t==l||t==s||t==h}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Re(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Ne=x?function(e){return function(t){return e(t)}}(x):function(e){return Ae(e)&&Pe(e.length)&&!!m[ue(e)]};function De(e){return Ee(e)?re(e,!0):fe(e)}var Oe,Me=(Oe=function(e,t,n,r){pe(e,t,n,r)},me((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Oe.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Re(n))return!1;var r=typeof t;return!!("number"==r?Ee(n)&&be(t,n.length):"string"==r&&t in n)&&ke(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&Oe(e,s,n,i)}return e})));function Le(e){return e}e.exports=Me},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,xe=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ee(e){ke?xe?xe.push(e):xe=[e]:ke=e}function Te(){if(ke){var e=ke,t=xe;if(xe=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==ke||null!==xe)&&(Pe(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,ze=null,Ve={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,xt,Ct,Et=!1,Tt=[],It=null,Pt=null,Rt=null,At=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Rt&&jt(Rt)&&(Rt=null),At.forEach(zt),Nt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Pt&&Ut(Pt,e),null!==Rt&&Ut(Rt,e),At.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return xn}var En=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},xr={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return kr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Pr=Cr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=we(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Er:case Tr:case Ir:l=vn;break;case Pr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ne(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?_i(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Si=[],ki=-1;function xi(e){return{current:e}}function Ci(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ei(e,t){ki++,Si[ki]=e.current,e.current=t}var Ti={},Ii=xi(Ti),Pi=xi(!1),Ri=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Pi),Ci(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(o(168));Ei(Ii,t),Ei(Pi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Ei(Ii,e),Ei(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(Ii),Ei(Ii,e)):Ci(Pi),Ei(Pi,n)}var ji=null,zi=!1,Vi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=xi(null),bo=null,_o=null,wo=null;function So(){wo=_o=bo=null}function ko(e){var t=yo.current;Ci(yo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var To=null;function Io(e){null===To?To=[e]:To.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ao=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=Ni(t)?Ri:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=Ni(t)?Ri:Ii.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),io&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&$o(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},es=xi(Zo),ts=xi(Zo),ns=xi(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ei(ns,t),Ei(ts,e),Ei(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(es),Ei(es,t)}function os(){Ci(es),Ci(ts),Ci(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ei(ts,e),Ei(es,n))}function as(e){ts.current===e&&(Ci(es),Ci(ts))}var ls=xi(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=_.ReactCurrentDispatcher,fs=_.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,_s=0,ws=0;function Ss(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function xs(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,_s=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,ds.current=ca,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function Cs(){var e=0!==_s;return _s=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Ts(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Is(e,t){return"function"===typeof t?t(e):t}function Ps(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ms.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function As(){}function Ns(e,t){var n=ms,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,_a=!0),r=r.queue,Ws(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,zs(9,Os.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&ps)||Ds(n,t,i)}return i}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Ro(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return Ts().memoizedState}function Us(e,t,n,r){var i=Es();ms.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}ms.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function qs(e,t){return Us(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function Ks(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function $s(){}function Ys(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Po(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Eo,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Eo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:js,useDebugValue:$s,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Es();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&ps)||Ds(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ms.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Rl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Eo,useCallback:Ys,useContext:Eo,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Ps,useRef:Vs,useState:function(){return Ps(Is)},useDebugValue:$s,useDeferredValue:function(e){return Js(Ts(),gs.memoizedState,e)},useTransition:function(){return[Ps(Is)[0],Ts().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Eo,useCallback:Ys,useContext:Eo,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Rs,useRef:Vs,useState:function(){return Rs(Is)},useDebugValue:$s,useDeferredValue:function(e){var t=Ts();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Rs(Is)[0],Ts().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=_.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=xs(e,t,n,r,o,i),n=Cs(),null===e||_a?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ta(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ni(n)?Ri:Ii.current;return o=Ai(t,o),Co(t,i),n=xs(e,t,n,r,o,i),r=Cs(),null===e||_a?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(Ni(n)){var o=!0;Li(t)}else o=!1;if(Co(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ai(t,c=Ni(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),Ao=!1;var d=t.memoizedState;s.state=d,jo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Ao?("function"===typeof u&&(Uo(t,n,u,r),l=t.memoizedState),(a=Ao||qo(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ai(t,l=Ni(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ho(t,s,r,l),Ao=!1,d=t.memoizedState,s.state=d,jo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Ao?("function"===typeof f&&(Uo(t,n,f,r),p=t.memoizedState),(c=Ao||qo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),is(e,t.containerInfo)}function Aa(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Na,Da,Oa,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ni(t.type)&&Di(),Ga(t),null;case 3:return r=t.stateNode,os(),Ci(Pi),Ci(Ii),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Da(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ci(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Da(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return ko(t.type._context),Ga(t),null;case 19:if(Ci(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Xe()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ei(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $a(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ci(Pi),Ci(Ii),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ci(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ls),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Za=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Cc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=s,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,Za=l):kl(i);for(;null!==o;)Za=o,_l(o,t,n),o=o.sibling;Za=i,Ya=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var xl,Cl=Math.ceil,El=_.ReactCurrentDispatcher,Tl=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Pl=0,Rl=null,Al=null,Nl=0,Dl=0,Ol=xi(0),Ml=0,Ll=null,Fl=0,jl=0,zl=0,Vl=null,Ul=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,$l=null,Yl=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Rl||(e===Rl&&(0===(2&Pl)&&(jl|=n),4===Ml&&lc(e,Nl)),ic(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(ql=Xe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Rl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),si((function(){0===(6&Pl)&&Bi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Pl;Pl|=2;var s=mc();for(Rl===e&&Nl===t||(Wl=null,ql=Xe()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),El.current=s,Pl=i,null!==Al?t=0:(Rl=null,Nl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Ul,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Ul,Wl),t);break}Sc(e,Ul,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Ul,Wl),r);break}Sc(e,Ul,Wl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pl))throw Error(o(327));kc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,Wl),ic(e,Xe()),null}function uc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(ql=Xe()+500,zi&&Bi())}}function hc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&kc();var t=Pl;Pl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Pl=t))&&Bi()}}function dc(){Dl=Ol.current,Ci(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:os(),Ci(Pi),Ci(Ii),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ci(ls);break;case 10:ko(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=e,Al=e=Oc(e.current,null),Nl=Dl=t,Ml=0,Ll=null,zl=jl=Fl=0,Ul=Vl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Al;try{if(So(),ds.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,_s=0,Tl.current=null,null===n||null===n.return){Ml=1,Ll=t,Al=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(_){t=_,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=sa,null===e?sa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Rl,Nl)}function vc(e,t){var n=Pl;Pl|=2;var r=mc();for(Rl===e&&Nl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Pl=n,El.current=r,null!==Al)throw Error(o(261));return Rl=null,Nl=0,Ml}function yc(){for(;null!==Al;)_c(Al)}function bc(){for(;null!==Al&&!$e();)_c(Al)}function _c(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dl)))return void(Al=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==$l);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Al=Rl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,(function(){return kc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Pl=l,bt=a,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,$l=e,Yl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function kc(){if(null!==$l){var e=_t(Yl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var _=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Za=_;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Cc(l,l.return,S)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Pl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function xc(e,t,n){e=Mo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>Xe()-Bl?fc(e,0):zl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ro(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,i,s,t);case x:a=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case P:return(e=Nc(13,n,t,i)).elementType=P,e.lanes=s,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=s,e;case D:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case I:a=11;break e;case A:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=Uc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),po();break;case 5:ss(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ei(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ei(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Ha(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Co(t,n),i=xs(null,t,r,e,i,n);var s=Cs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Pa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Pi.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Oo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Eo(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),ka(e,t,r,i=vo(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Co(t,n),Wo(t,r,i),Ko(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Pl)&&(ql=Xe()+500,Bi()))}break;case 13:hc((function(){var t=Ro(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ro(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},xt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Pe=hc;var tu={usingClientEntryPoint:!1,Events:[bi,_i,wi,Ee,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=P(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,x=!1,C=null,E=-1,T=5,I=-1;function P(){return!(t.unstable_now()-I<T)}function R(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?k():(x=!1,C=null)}}else x=!1}if("function"===typeof b)k=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=R,k=function(){N.postMessage(null)}}else k=function(){v(R,0)};function D(e){C=e,x||(x=!0,k())}function O(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,O(w,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},637:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var h=s(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(o=e,s=n)}var o,s,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=o(e,h[0],h[1]);return a((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},995:(e,t,n)=>{"use strict";e.exports=n(637)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=!1,t=!1,r="${JSCORE_VERSION}",i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+r+") INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new l;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=s(e);return a.encodeByteArray(t,!0)},u=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}const p=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,m=()=>{try{return p()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},g=e=>{var t,n;return null===(n=null===(t=m())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},v=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=m())||void 0===t?void 0:t["_".concat(e)]};class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(o)),""].join(".")}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){return!0===e||!0===t}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,o,t)}}const I=/\{\$([^}]+)}/g;function P(e){return JSON.parse(e)}function R(e){return JSON.stringify(e)}const A=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=P(h(o[0])||""),n=P(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(F(n)&&F(o)){if(!L(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}function j(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class U{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}function W(e,t){return"".concat(e," failed: ").concat(t," argument ")}const H=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function K(e){return e&&e._delegate?e._delegate:e}class G{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Q="[DEFAULT]";class ${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(qC){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(qC){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?e:Q:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Y(e){return e===Q?void 0:e}class X{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const J=[];var Z;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Z||(Z={}));const ee={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},te=Z.INFO,ne={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},re=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ne[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ie{constructor(e){this.name=e,this._logLevel=te,this._logHandler=re,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...t),this._logHandler(this,Z.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...t),this._logHandler(this,Z.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.INFO,...t),this._logHandler(this,Z.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.WARN,...t),this._logHandler(this,Z.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...t),this._logHandler(this,Z.ERROR,...t)}}const oe=(e,t)=>t.some((t=>e instanceof t));let se,ae;const le=new WeakMap,ce=new WeakMap,ue=new WeakMap,he=new WeakMap,de=new WeakMap;let fe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ce.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ue.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ge(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ve(this),n),ge(le.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(e.apply(ve(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ve(this),t,...r);return ue.set(o,t.sort?t.sort():[t]),ge(o)}}function me(e){return"function"===typeof e?pe(e):(e instanceof IDBTransaction&&function(e){if(ce.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ce.set(e,t)}(e),oe(e,se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fe):e)}function ge(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ge(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&le.set(t,e)})).catch((()=>{})),de.set(t,e),t}(e);if(he.has(e))return he.get(e);const t=me(e);return t!==e&&(he.set(e,t),de.set(t,e)),t}const ve=e=>de.get(e);const ye=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],_e=new Map;function we(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_e.get(t))return _e.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ye.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return _e.set(t,o),o}fe=(e=>({...e,get:(t,n,r)=>we(t,n)||e.get(t,n,r),has:(t,n)=>!!we(t,n)||e.has(t,n)}))(fe);class Se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ke="@firebase/app",xe="0.9.25",Ce=new ie("@firebase/app"),Ee="[DEFAULT]",Te={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ie=new Map,Pe=new Map;function Re(e,t){try{e.container.addComponent(t)}catch(n){Ce.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ae(e){const t=e.name;if(Pe.has(t))return Ce.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pe.set(t,e);for(const n of Ie.values())Re(n,e);return!0}function Ne(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const De=new T("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new G("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}const Me="10.7.1";function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ee,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw De.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw De.create("no-options");const o=Ie.get(i);if(o){if(L(n,o.options)&&L(r,o.config))return o;throw De.create("duplicate-app",{appName:i})}const s=new X(i);for(const l of Pe.values())s.addComponent(l);const a=new Oe(n,r,s);return Ie.set(i,a),a}function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;const t=Ie.get(e);if(!t&&e===Ee&&y())return Le();if(!t)throw De.create("no-app",{appName:e});return t}function je(e,t,n){var r;let i=null!==(r=Te[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ce.warn(e.join(" "))}Ae(new G("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const ze="firebase-heartbeat-database",Ve=1,Ue="firebase-heartbeat-store";let Be=null;function qe(){return Be||(Be=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ge(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ge(s.result),e.oldVersion,e.newVersion,ge(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(ze,Ve,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ue)}}).catch((e=>{throw De.create("idb-open",{originalErrorMessage:e.message})}))),Be}async function We(e,t){try{const n=(await qe()).transaction(Ue,"readwrite"),r=n.objectStore(Ue);await r.put(t,He(e)),await n.done}catch(n){if(n instanceof E)Ce.warn(n.message);else{const e=De.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ce.warn(e.message)}}}function He(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ke{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ge();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ge(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),$e(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ge(){return(new Date).toISOString().substring(0,10)}class Qe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(gt){t(gt)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await qe();return await t.transaction(Ue).objectStore(Ue).get(He(e))}catch(t){if(t instanceof E)Ce.warn(t.message);else{const e=De.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ce.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return We(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $e(e){return u(JSON.stringify({version:2,heartbeats:e})).length}var Ye;Ye="",Ae(new G("platform-logger",(e=>new Se(e)),"PRIVATE")),Ae(new G("heartbeat",(e=>new Ke(e)),"PRIVATE")),je(ke,xe,Ye),je(ke,xe,"esm2017"),je("fire-js","");je("firebase","10.7.1","app");const Xe={apiKey:"AIzaSyCQfZ-4mrkpgJHgFLqbOh4c0_KuLT04tho",authDomain:"chat-1eaa8.firebaseapp.com",databaseURL:"https://chat-1eaa8-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-1eaa8",storageBucket:"chat-1eaa8.appspot.com",messagingSenderId:"239869217140",appId:"1:239869217140:web:e6b18b63a860cc7a5e4421"},Je=(Le(Xe),"@firebase/database"),Ze="1.0.2";let et="";function tt(e){et=e}class nt{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),R(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:P(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return N(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const it=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nt(t)}}catch(t){}return new rt},ot=it("localStorage"),st=it("sessionStorage"),at=new ie("@firebase/database"),lt=function(){let e=1;return function(){return e++}}(),ct=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new U;n.update(t);const r=n.digest();return a.encodeByteArray(r)},ut=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ut.apply(null,n):e+="object"===typeof n?R(n):n,e+=" "}return e};let ht=null,dt=!0;const ft=function(e,t){i(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(at.logLevel=Z.VERBOSE,ht=at.log.bind(at),t&&st.set("logging_enabled",!0)):"function"===typeof e?ht=e:(ht=null,st.remove("logging_enabled"))},pt=function(){if(!0===dt&&(dt=!1,null===ht&&!0===st.get("logging_enabled")&&ft(!0)),ht){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ut.apply(null,t);ht(r)}},mt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];pt(e,...n)}},gt=function(){const e="FIREBASE INTERNAL ERROR: "+ut(...arguments);at.error(e)},vt=function(){const e="FIREBASE FATAL ERROR: ".concat(ut(...arguments));throw at.error(e),new Error(e)},yt=function(){const e="FIREBASE WARNING: "+ut(...arguments);at.warn(e)},bt=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_t="[MIN_NAME]",wt="[MAX_NAME]",St=function(e,t){if(e===t)return 0;if(e===_t||t===wt)return-1;if(t===_t||e===wt)return 1;{const n=Rt(e),r=Rt(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},kt=function(e,t){return e===t?0:e<t?-1:1},xt=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+R(t))},Ct=function(e){if("object"!==typeof e||null===e)return R(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=R(t[r]),n+=":",n+=Ct(e[t[r]]);return n+="}",n},Et=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Tt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const It=function(e){i(!bt(e),"Invalid JSON number");const t=1023;let n,r,o,s,a;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,o=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const l=[];for(a=52;a;a-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(a=11;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const c=l.join("");let u="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const Pt=new RegExp("^-?(0*)\\d{1,10}$"),Rt=function(e){if(Pt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},At=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw yt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Nt=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Dt{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){yt('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ot{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Mt{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mt.OWNER="owner";const Lt="5",Ft=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jt="ac",zt="websocket",Vt="long_polling";class Ut{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ot.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ot.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Bt(e,t,n){let r;if(i("string"===typeof t,"typeof type must == string"),i("object"===typeof n,"typeof params must == object"),t===zt)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Vt)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return Tt(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class qt{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;N(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return d(this.counters_)}}const Wt={},Ht={};function Kt(e){const t=e.toString();return Wt[t]||(Wt[t]=new qt),Wt[t]}class Gt{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&At((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Qt="start";class $t{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mt(e),this.stats_=Kt(t),this.urlFn=e=>(this.appCheckToken&&(e[jt]=this.appCheckToken),Bt(t,Vt,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Gt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(C()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yt((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Qt)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Qt]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Lt,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[jt]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Ft.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$t.forceAllow_=!0}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){return!C()&&(!!$t.forceAllow_||!$t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=c(t),r=Et(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(C())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=R(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Yt{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,C())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=lt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Yt.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){pt("frame writing exception"),i.stack&&pt(i.stack),pt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){C()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Xt=null;"undefined"!==typeof MozWebSocket?Xt=MozWebSocket:"undefined"!==typeof WebSocket&&(Xt=WebSocket);class Jt{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mt(this.connId),this.stats_=Kt(t),this.connURL=Jt.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Lt,!C()&&"undefined"!==typeof location&&location.hostname&&Ft.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[jt]=r),i&&(o.p=i),Bt(e,zt,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ot.set("previous_websocket_failure",!0);try{let e;if(C()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Lt,"/").concat(et,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Xt(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Jt.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Xt&&!Jt.forceDisallow_}static previouslyFailed(){return ot.isInMemoryStorage||!0===ot.get("previous_websocket_failure")}markConnectionHealthy(){ot.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=P(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(i(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=R(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Et(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jt.responsesRequiredToBeHealthy=2,Jt.healthyTimeout=3e4;class Zt{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$t,Jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Jt&&Jt.isAvailable();let n=t&&!Jt.previouslyFailed();if(e.webSocketOnly&&(t||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Jt];else{const e=this.transports_=[];for(const t of Zt.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Zt.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zt.globalTransportInitialized_=!1;class en{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mt("c:"+this.id+":"),this.transportManager_=new Zt(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Nt((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xt("t",e),n=xt("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xt("t",e),n=xt("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xt("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?gt("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gt("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Lt!==n&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Nt((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nt((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ot.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tn{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class nn{constructor(e){this.allowedEvents_=e,this.listeners_={},i(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){i(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class rn extends nn{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||k()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new rn}getInitialEvent(e){return i("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const on=32,sn=768;class an{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ln(){return new an("")}function cn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function un(e){return e.pieces_.length-e.pieceNum_}function hn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new an(e.pieces_,t)}function dn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function pn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new an(t,0)}function mn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof an)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new an(n,0)}function gn(e){return e.pieceNum_>=e.pieces_.length}function vn(e,t){const n=cn(e),r=cn(t);if(null===n)return t;if(n===r)return vn(hn(e),hn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yn(e,t){if(un(e)!==un(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function bn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(un(e)>un(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _n{constructor(e,t){this.errorPrefix_=t,this.parts_=fn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=H(this.parts_[n]);wn(this)}}function wn(e){if(e.byteLength_>sn)throw new Error(e.errorPrefix_+"has a key path longer than "+sn+" bytes ("+e.byteLength_+").");if(e.parts_.length>on)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+on+") or object contains a cycle "+Sn(e))}function Sn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class kn extends nn{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new kn}getInitialEvent(e){return i("visible"===e,"Unknown event type: "+e),[this.visible_]}}const xn=1e3;class Cn extends tn{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Cn.nextPersistentConnectionId_++,this.log_=mt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!C())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kn.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(R(o)),i(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new _,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),i(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),i(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Cn.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&N(e,"w")){const n=D(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();yt("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=A(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=A(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),i(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+R(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):gt("Unrecognized action received from server: "+R(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){i(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cn.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(e){i(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=l&&l.token,a=new en(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{yt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(gt){this.log_("Failed to get token: "+gt),s||(this.repoInfo_.nodeAdmin&&yt(gt),l())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],O(this.interruptReasons_)&&(this.reconnectDelay_=xn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ct(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new an(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){pt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){pt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";C()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+et.replace(/\./g,"-")]=1,k()?e["framework.cordova"]=1:x()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rn.getInstance().currentlyOnline();return O(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0,Cn.nextConnectionId_=0;class En{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new En(e,t)}}class Tn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new En(_t,e),r=new En(_t,t);return 0!==this.compare(n,r)}minPost(){return En.MIN}}let In;class Pn extends Tn{static get __EMPTY_NODE(){return In}static set __EMPTY_NODE(e){In=e}compare(e,t){return St(e.name,t.name)}isDefinedOn(e){throw o("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return En.MIN}maxPost(){return new En(wt,In)}makePost(e,t){return i("string"===typeof e,"KeyIndex indexValue must always be a string."),new En(e,In)}toString(){return".key"}}const Rn=new Pn;class An{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Nn.RED,this.left=null!=r?r:Dn.EMPTY_NODE,this.right=null!=i?i:Dn.EMPTY_NODE}copy(e,t,n,r,i){return new Nn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Dn.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nn.RED=!0,Nn.BLACK=!1;class Dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Dn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nn.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new An(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new An(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new An(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new An(this.root_,null,this.comparator_,!0,e)}}function On(e,t){return St(e.name,t.name)}function Mn(e,t){return St(e,t)}let Ln;Dn.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Nn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fn=function(e){return"number"===typeof e?"number:"+It(e):"string:"+e},jn=function(e){if(e.isLeafNode()){const t=e.val();i("string"===typeof t||"number"===typeof t||"object"===typeof t&&N(t,".sv"),"Priority must be a string or number.")}else i(e===Ln||e.isEmpty(),"priority of unexpected type.");i(e===Ln||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zn,Vn,Un;class Bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,i(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),jn(this.priorityNode_)}static set __childrenNodeConstructor(e){zn=e}static get __childrenNodeConstructor(){return zn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bn(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gn(e)?this:".priority"===cn(e)?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=cn(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(i(".priority"!==n||1===un(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(hn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fn(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?It(this.value_):this.value_,this.lazyHash_=ct(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bn.__childrenNodeConstructor?-1:(i(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Bn.VALUE_TYPE_ORDER.indexOf(t),o=Bn.VALUE_TYPE_ORDER.indexOf(n);return i(r>=0,"Unknown leaf type: "+t),i(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];const qn=new class extends Tn{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?St(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return En.MIN}maxPost(){return new En(wt,new Bn("[PRIORITY-POST]",Un))}makePost(e,t){const n=Vn(e);return new En(t,new Bn("[PRIORITY-POST]",n))}toString(){return".priority"}},Wn=Math.log(2);class Hn{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Wn,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kn=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Nn(a,s.node,Nn.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Nn(a,s.node,Nn.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new Nn(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Nn.BLACK):(a(r,Nn.BLACK),a(r,Nn.RED))}return o}(new Hn(e.length));return new Dn(r||t,o)};let Gn;const Qn={};class $n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return i(Qn&&qn,"ChildrenNode.ts has not been loaded"),Gn=Gn||new $n({".priority":Qn},{".priority":qn}),Gn}get(e){const t=D(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Dn?t:null}hasIndex(e){return N(this.indexSet_,e.toString())}addIndex(e,t){i(e!==Rn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(En.Wrap);let s,a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=o.getNext();s=r?Kn(n,e.getCompare()):Qn;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=s,new $n(u,c)}addToIndexes(e,t){const n=M(this.indexes_,((n,r)=>{const o=D(this.indexSet_,r);if(i(o,"Missing index implementation for "+r),n===Qn){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(En.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Kn(n,o.getCompare())}return Qn}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new En(e.name,r))),i.insert(e,e.node)}}));return new $n(n,this.indexSet_)}removeFromIndexes(e,t){const n=M(this.indexes_,(n=>{if(n===Qn)return n;{const r=t.get(e.name);return r?n.remove(new En(e.name,r)):n}}));return new $n(n,this.indexSet_)}}let Yn;class Xn{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&jn(this.priorityNode_),this.children_.isEmpty()&&i(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yn||(Yn=new Xn(new Dn(Mn),null,$n.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yn}updatePriority(e){return this.children_.isEmpty()?this:new Xn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Yn:t}}getChild(e){const t=cn(e);return null===t?this:this.getImmediateChild(t).getChild(hn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(i(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new En(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Yn:this.priorityNode_;return new Xn(r,o,i)}}updateChild(e,t){const n=cn(e);if(null===n)return t;{i(".priority"!==cn(e)||1===un(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(hn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(qn,((o,s)=>{t[o]=s.val(e),n++,i&&Xn.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fn(this.getPriority().val())+":"),this.forEachChild(qn,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ct(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new En(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new En(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new En(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,En.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,En.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jn?-1:0}withIndex(e){if(e===Rn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xn(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Rn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(qn),n=t.getIterator(qn);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Rn?null:this.indexMap_.get(e.toString())}}Xn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Jn=new class extends Xn{constructor(){super(new Dn(Mn),Xn.EMPTY_NODE,$n.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(En,{MIN:{value:new En(_t,Xn.EMPTY_NODE)},MAX:{value:new En(wt,Jn)}}),Pn.__EMPTY_NODE=Xn.EMPTY_NODE,Bn.__childrenNodeConstructor=Xn,Ln=Jn,function(e){Un=e}(Jn);const Zn=!0;function er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Xn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),i(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Bn(e,er(t))}if(e instanceof Array||!Zn){let n=Xn.EMPTY_NODE;return Tt(e,((t,r)=>{if(N(e,t)&&"."!==t.substring(0,1)){const e=er(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(er(t))}{const n=[];let r=!1;if(Tt(e,((e,t)=>{if("."!==e.substring(0,1)){const i=er(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new En(e,i)))}})),0===n.length)return Xn.EMPTY_NODE;const i=Kn(n,On,(e=>e.name),Mn);if(r){const e=Kn(n,qn.getCompare());return new Xn(i,er(t),new $n({".priority":e},{".priority":qn}))}return new Xn(i,er(t),$n.Default)}}!function(e){Vn=e}(er);class tr extends Tn{constructor(e){super(),this.indexPath_=e,i(!gn(e)&&".priority"!==cn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?St(e.name,t.name):i}makePost(e,t){const n=er(e),r=Xn.EMPTY_NODE.updateChild(this.indexPath_,n);return new En(t,r)}maxPost(){const e=Xn.EMPTY_NODE.updateChild(this.indexPath_,Jn);return new En(wt,e)}toString(){return fn(this.indexPath_,0).join("/")}}const nr=new class extends Tn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?St(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return En.MIN}maxPost(){return En.MAX}makePost(e,t){const n=er(e);return new En(t,n)}toString(){return".value"}};function rr(e){return{type:"value",snapshotNode:e}}function ir(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function or(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ar{constructor(e){this.index_=e}updateChild(e,t,n,r,o,s){i(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(or(t,a)):i(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ir(t,n)):s.trackChildChange(sr(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(qn,((e,r)=>{t.hasChild(e)||n.trackChildChange(or(e,r))})),t.isLeafNode()||t.forEachChild(qn,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(sr(t,r,i))}else n.trackChildChange(ir(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Xn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lr{constructor(e){this.indexedFilter_=new ar(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lr.getStartPost_(e),this.endPost_=lr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new En(t,n))||(n=Xn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Xn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Xn.EMPTY_NODE);const i=this;return t.forEachChild(qn,((e,t)=>{i.matches(new En(e,t))||(r=r.updateImmediateChild(e,Xn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class cr{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new lr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new En(t,n))||(n=Xn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Xn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Xn.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Xn.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Xn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;i(a.numChildren()===this.limit_,"");const l=new En(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let i=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=i&&(i.name===t||a.hasChild(i.name));)i=r.getChildAfterChild(this.index_,i,this.reverse_);const h=null==i?1:s(i,l);if(u&&!n.isEmpty()&&h>=0)return null!=o&&o.trackChildChange(sr(t,n,e)),a.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(or(t,e));const n=a.updateImmediateChild(t,Xn.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=o&&o.trackChildChange(ir(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(or(c.name,c.node)),o.trackChildChange(ir(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,Xn.EMPTY_NODE)):e}}class ur{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return i(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return i(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_t}hasEnd(){return this.endSet_}getIndexEndValue(){return i(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return i(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return i(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qn}copy(){const e=new ur;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hr(e){const t={};if(e.isDefault())return t;let n;if(e.index_===qn?n="$priority":e.index_===nr?n="$value":e.index_===Rn?n="$key":(i(e.index_ instanceof tr,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=R(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=R(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+R(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=R(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+R(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==qn&&(t.i=e.index_.toString()),t}class fr extends tn{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=mt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(i(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=fr.getListenId_(e,n),s={};this.listens_[o]=s;const a=hr(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),D(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=fr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=hr(e._queryParams),n=e._path.toString(),r=new _;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+j(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=P(a.responseText)}catch(e){yt("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&yt("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class pr{constructor(){this.rootNode_=Xn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function mr(){return{value:null,children:new Map}}function gr(e,t,n){if(gn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=cn(t);e.children.has(r)||e.children.set(r,mr());gr(e.children.get(r),t=hn(t),n)}}function vr(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{vr(r,new an(t.toString()+"/"+e),n)}))}class yr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tt(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class br{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new yr(e);const n=1e4+2e4*Math.random();Nt(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Tt(e,((e,r)=>{r>0&&N(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Nt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _r;function wr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_r||(_r={}));class Sr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_r.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gn(this.path)){if(null!=this.affectedTree.value)return i(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new an(e));return new Sr(ln(),t,this.revert)}}return i(cn(this.path)===e,"operationForChild called for unrelated child."),new Sr(hn(this.path),this.affectedTree,this.revert)}}class kr{constructor(e,t){this.source=e,this.path=t,this.type=_r.LISTEN_COMPLETE}operationForChild(e){return gn(this.path)?new kr(this.source,ln()):new kr(this.source,hn(this.path))}}class xr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_r.OVERWRITE}operationForChild(e){return gn(this.path)?new xr(this.source,ln(),this.snap.getImmediateChild(e)):new xr(this.source,hn(this.path),this.snap)}}class Cr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_r.MERGE}operationForChild(e){if(gn(this.path)){const t=this.children.subtree(new an(e));return t.isEmpty()?null:t.value?new xr(this.source,ln(),t.value):new Cr(this.source,ln(),t)}return i(cn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cr(this.source,hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Er{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gn(e))return this.isFullyInitialized()&&!this.filtered_;const t=cn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Tr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ir(e,t,n,r,i,s){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw o("Should only compare child_ events.");const r=new En(t.childName,t.snapshotNode),i=new En(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Pr(e,t){return{eventCache:e,serverCache:t}}function Rr(e,t,n,r){return Pr(new Er(t,n,r),e.serverCache)}function Ar(e,t,n,r){return Pr(e.eventCache,new Er(t,n,r))}function Nr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Dr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Or;class Mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Or||(Or=new Dn(kt)),Or);this.value=e,this.children=t}static fromObject(e){let t=new Mr(null);return Tt(e,((e,n)=>{t=t.set(new an(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ln(),value:this.value};if(gn(e))return null;{const n=cn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(hn(e),t);if(null!=i){return{path:mn(new an(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(gn(e))return this;{const t=cn(e),n=this.children.get(t);return null!==n?n.subtree(hn(e)):new Mr(null)}}set(e,t){if(gn(e))return new Mr(t,this.children);{const n=cn(e),r=(this.children.get(n)||new Mr(null)).set(hn(e),t),i=this.children.insert(n,r);return new Mr(this.value,i)}}remove(e){if(gn(e))return this.children.isEmpty()?new Mr(null):new Mr(null,this.children);{const t=cn(e),n=this.children.get(t);if(n){const r=n.remove(hn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Mr(null):new Mr(this.value,i)}return this}}get(e){if(gn(e))return this.value;{const t=cn(e),n=this.children.get(t);return n?n.get(hn(e)):null}}setTree(e,t){if(gn(e))return t;{const n=cn(e),r=(this.children.get(n)||new Mr(null)).setTree(hn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Mr(this.value,i)}}fold(e){return this.fold_(ln(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(mn(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ln(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(gn(e))return null;{const r=cn(e),i=this.children.get(r);return i?i.findOnPath_(hn(e),mn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ln(),t)}foreachOnPath_(e,t,n){if(gn(e))return this;{this.value&&n(t,this.value);const r=cn(e),i=this.children.get(r);return i?i.foreachOnPath_(hn(e),mn(t,r),n):new Mr(null)}}foreach(e){this.foreach_(ln(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(mn(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Lr{constructor(e){this.writeTree_=e}static empty(){return new Lr(new Mr(null))}}function Fr(e,t,n){if(gn(t))return new Lr(new Mr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=vn(i,t);return o=o.updateChild(s,n),new Lr(e.writeTree_.set(i,o))}{const r=new Mr(n),i=e.writeTree_.setTree(t,r);return new Lr(i)}}}function jr(e,t,n){let r=e;return Tt(n,((e,n)=>{r=Fr(r,mn(t,e),n)})),r}function zr(e,t){if(gn(t))return Lr.empty();{const n=e.writeTree_.setTree(t,new Mr(null));return new Lr(n)}}function Vr(e,t){return null!=Ur(e,t)}function Ur(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(vn(n.path,t)):null}function Br(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(qn,((e,n)=>{t.push(new En(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new En(e,n.value))})),t}function qr(e,t){if(gn(t))return e;{const n=Ur(e,t);return new Lr(null!=n?new Mr(n):e.writeTree_.subtree(t))}}function Wr(e){return e.writeTree_.isEmpty()}function Hr(e,t){return Kr(ln(),e.writeTree_,t)}function Kr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(i(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Kr(mn(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(mn(e,".priority"),r)),n}}function Gr(e,t){return si(t,e)}function Qr(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));i(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,s=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&$r(t,r.path)?o=!1:bn(r.path,t.path)&&(s=!0)),a--}if(o){if(s)return function(e){e.visibleWrites=Xr(e.allWrites,Yr,ln()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=zr(e.visibleWrites,r.path);else{Tt(r.children,(t=>{e.visibleWrites=zr(e.visibleWrites,mn(r.path,t))}))}return!0}return!1}function $r(e,t){if(e.snap)return bn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&bn(mn(e.path,n),t))return!0;return!1}function Yr(e){return e.visible}function Xr(e,t,n){let r=Lr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)bn(n,e)?(t=vn(n,e),r=Fr(r,t,s.snap)):bn(e,n)&&(t=vn(e,n),r=Fr(r,ln(),s.snap.getChild(t)));else{if(!s.children)throw o("WriteRecord should have .snap or .children");if(bn(n,e))t=vn(n,e),r=jr(r,t,s.children);else if(bn(e,n))if(t=vn(e,n),gn(t))r=jr(r,ln(),s.children);else{const e=D(s.children,cn(t));if(e){const n=e.getChild(hn(t));r=Fr(r,ln(),n)}}}}}return r}function Jr(e,t,n,r,i){if(r||i){const o=qr(e.visibleWrites,t);if(!i&&Wr(o))return n;if(i||null!=n||Vr(o,ln())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(bn(e.path,t)||bn(t,e.path))};return Hr(Xr(e.allWrites,o,t),n||Xn.EMPTY_NODE)}return null}{const r=Ur(e.visibleWrites,t);if(null!=r)return r;{const r=qr(e.visibleWrites,t);if(Wr(r))return n;if(null!=n||Vr(r,ln())){return Hr(r,n||Xn.EMPTY_NODE)}return null}}}function Zr(e,t,n,r){return Jr(e.writeTree,e.treePath,t,n,r)}function ei(e,t){return function(e,t,n){let r=Xn.EMPTY_NODE;const i=Ur(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qn,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=qr(e.visibleWrites,t);return n.forEachChild(qn,((e,t)=>{const n=Hr(qr(i,new an(e)),t);r=r.updateImmediateChild(e,n)})),Br(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Br(qr(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ti(e,t,n,r){return function(e,t,n,r,o){i(r||o,"Either existingEventSnap or existingServerSnap must exist");const s=mn(t,n);if(Vr(e.visibleWrites,s))return null;{const t=qr(e.visibleWrites,s);return Wr(t)?o.getChild(n):Hr(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function ni(e,t){return function(e,t){return Ur(e.visibleWrites,t)}(e.writeTree,mn(e.treePath,t))}function ri(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=qr(e.visibleWrites,t),c=Ur(l,ln());if(null!=c)a=c;else{if(null==n)return[];a=Hr(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function ii(e,t,n){return function(e,t,n,r){const i=mn(t,n),o=Ur(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Hr(qr(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function oi(e,t){return si(mn(e.treePath,t),e.writeTree)}function si(e,t){return{treePath:e,writeTree:t}}class ai{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;i("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),i(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,sr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,or(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ir(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw o("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,sr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const li=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ci{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Er(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ii(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Dr(this.viewCache_),i=ri(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function ui(e,t,n,r,s){const a=new ai;let l,c;if(n.type===_r.OVERWRITE){const o=n;o.source.fromUser?l=fi(e,t,o.path,o.snap,r,s,a):(i(o.source.fromServer,"Unknown source."),c=o.source.tagged||t.serverCache.isFiltered()&&!gn(o.path),l=di(e,t,o.path,o.snap,r,s,c,a))}else if(n.type===_r.MERGE){const o=n;o.source.fromUser?l=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=mn(n,r);pi(t,cn(c))&&(a=fi(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=mn(n,r);pi(t,cn(c))||(a=fi(e,a,c,l,i,o,s))})),a}(e,t,o.path,o.children,r,s,a):(i(o.source.fromServer,"Unknown source."),c=o.source.tagged||t.serverCache.isFiltered(),l=gi(e,t,o.path,o.children,r,s,c,a))}else if(n.type===_r.ACK_USER_WRITE){const o=n;l=o.revert?function(e,t,n,r,o,s){let a;if(null!=ni(r,n))return t;{const l=new ci(r,t,o),c=t.eventCache.getNode();let u;if(gn(n)||".priority"===cn(n)){let n;if(t.serverCache.isFullyInitialized())n=Zr(r,Dr(t));else{const e=t.serverCache.getNode();i(e instanceof Xn,"serverChildren would be complete if leaf node"),n=ei(r,e)}u=e.filter.updateFullNode(c,n,s)}else{const i=cn(n);let o=ii(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=c.getImmediateChild(i)),u=null!=o?e.filter.updateChild(c,i,o,hn(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Xn.EMPTY_NODE,hn(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Zr(r,Dr(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=ni(r,ln()),Rr(t,u,a,e.filter.filtersNodes())}}(e,t,o.path,r,s,a):function(e,t,n,r,i,o,s){if(null!=ni(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(gn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return di(e,t,n,l.getNode().getChild(n),i,o,a,s);if(gn(n)){let r=new Mr(null);return l.getNode().forEachChild(Rn,((e,t)=>{r=r.set(new an(e),t)})),gi(e,t,n,r,i,o,a,s)}return t}{let c=new Mr(null);return r.foreach(((e,t)=>{const r=mn(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),gi(e,t,n,c,i,o,a,s)}}(e,t,o.path,o.affectedTree,r,s,a)}else{if(n.type!==_r.LISTEN_COMPLETE)throw o("Unknown operation type: "+n.type);l=function(e,t,n,r,i){const o=t.serverCache,s=Ar(t,o.getNode(),o.isFullyInitialized()||gn(n),o.isFiltered());return hi(e,s,n,r,li,i)}(e,t,n.path,r,a)}const u=a.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Nr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(rr(Nr(t)))}}(t,l,u),{viewCache:l,changes:u}}function hi(e,t,n,r,o,s){const a=t.eventCache;if(null!=ni(r,n))return t;{let l,c;if(gn(n))if(i(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Dr(t),i=ei(r,n instanceof Xn?n:Xn.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Zr(r,Dr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=cn(n);if(".priority"===u){i(1===un(n),"Can't have a priority with additional path components");const o=a.getNode();c=t.serverCache.getNode();const s=ti(r,n,o,c);l=null!=s?e.filter.updatePriority(o,s):a.getNode()}else{const i=hn(n);let h;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=ti(r,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(u).updateChild(i,e):a.getNode().getImmediateChild(u)}else h=ii(r,u,t.serverCache);l=null!=h?e.filter.updateChild(a.getNode(),u,h,i,o,s):a.getNode()}}return Rr(t,l,a.isFullyInitialized()||gn(n),e.filter.filtersNodes())}}function di(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(gn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=cn(n);if(!l.isCompleteForPath(n)&&un(n)>1)return t;const i=hn(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,li,null)}const h=Ar(t,c,l.isFullyInitialized()||gn(n),u.filtersNodes());return hi(e,h,n,i,new ci(i,h,o),a)}function fi(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new ci(i,t,o);if(gn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Rr(t,c,!0,e.filter.filtersNodes());else{const i=cn(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Rr(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=hn(n),c=a.getNode().getImmediateChild(i);let h;if(gn(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===dn(o)&&e.getChild(pn(o)).isEmpty()?e:e.updateChild(o,r):Xn.EMPTY_NODE}if(c.equals(h))l=t;else{l=Rr(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function pi(e,t){return e.eventCache.isCompleteForChild(t)}function mi(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function gi(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=gn(n)?r:new Mr(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=mi(0,t.serverCache.getNode().getImmediateChild(n),r);c=di(e,c,new an(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=mi(0,t.serverCache.getNode().getImmediateChild(n),r);c=di(e,c,new an(n),l,i,o,s,a)}})),c}class vi{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ar(n.getIndex()),i=(o=n).loadsAllData()?new ar(o.getIndex()):o.hasLimit()?new cr(o):new lr(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Xn.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Xn.EMPTY_NODE,a.getNode(),null),u=new Er(l,s.isFullyInitialized(),r.filtersNodes()),h=new Er(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Pr(h,u),this.eventGenerator_=new Tr(this.query_)}get query(){return this.query_}}function yi(e,t){const n=Dr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!gn(t)&&!n.getImmediateChild(cn(t)).isEmpty())?n.getChild(t):null}function bi(e){return 0===e.eventRegistrations_.length}function _i(e,t,n){const r=[];if(n){i(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function wi(e,t,n,r){t.type===_r.MERGE&&null!==t.source.queryId&&(i(Dr(e.viewCache_),"We should always have a full cache before handling merges"),i(Nr(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,s=ui(e.processor_,o,t,n,r);var a,l;return a=e.processor_,l=s.viewCache,i(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),i(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),i(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Si(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Si(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ir(e,i,"child_removed",t,r,n),Ir(e,i,"child_added",t,r,n),Ir(e,i,"child_moved",o,r,n),Ir(e,i,"child_changed",t,r,n),Ir(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let ki,xi;class Ci{constructor(){this.views=new Map}}function Ei(e,t,n,r){const o=t.source.queryId;if(null!==o){const s=e.views.get(o);return i(null!=s,"SyncTree gave us an op for an invalid query."),wi(s,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(wi(o,t,n,r));return i}}function Ti(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Zr(n,i?r:null),o=!1;e?o=!0:r instanceof Xn?(e=ei(n,r),o=!1):(e=Xn.EMPTY_NODE,o=!1);const s=Pr(new Er(e,o,!1),new Er(r,i,!1));return new vi(t,s)}return s}function Ii(e,t,n,r,i,o){const s=Ti(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(qn,((e,t)=>{r.push(ir(e,t))}));return n.isFullyInitialized()&&r.push(rr(n.getNode())),Si(e,r,n.getNode(),t)}(s,n)}function Pi(e,t,n,r){const o=t._queryIdentifier,s=[];let a=[];const l=Oi(e);if("default"===o)for(const[i,c]of e.views.entries())a=a.concat(_i(c,n,r)),bi(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(o);t&&(a=a.concat(_i(t,n,r)),bi(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||s.push(t.query)))}return l&&!Oi(e)&&s.push(new(i(ki,"Reference.ts has not been loaded"),ki)(t._repo,t._path)),{removed:s,events:a}}function Ri(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ai(e,t){let n=null;for(const r of e.views.values())n=n||yi(r,t);return n}function Ni(e,t){if(t._queryParams.loadsAllData())return Mi(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Di(e,t){return null!=Ni(e,t)}function Oi(e){return null!=Mi(e)}function Mi(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Li=1;class Fi{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mr(null),this.pendingWriteTree_={visibleWrites:Lr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ji(e,t,n,r,o){return function(e,t,n,r,o){i(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Fr(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Hi(e,new xr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Qr(e.pendingWriteTree_,t)){let t=new Mr(null);return null!=r.snap?t=t.set(ln(),!0):Tt(r.children,(e=>{t=t.set(new an(e),!0)})),Hi(e,new Sr(r.path,t,n))}return[]}function Vi(e,t,n){return Hi(e,new xr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ui(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Di(s,t))){const l=Pi(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Oi(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Oi(t)){return[Mi(t)]}{let e=[];return t&&(e=Ri(t)),Tt(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Qi(e,r);e.listenProvider_.startListening(eo(i),$i(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(eo(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Yi(t));e.listenProvider_.stopListening(eo(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Yi(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Bi(e,t,n,r){const i=Xi(e,r);if(null!=i){const r=Ji(i),o=r.path,s=r.queryId,a=vn(o,t);return Zi(e,o,new xr(wr(s),a,n))}return[]}function qi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(o,((e,t)=>{const n=vn(e,o);s=s||Ai(t,n),a=a||Oi(t)}));let l,c=e.syncPointTree_.get(o);if(c?(a=a||Oi(c),s=s||Ai(c,ln())):(c=new Ci,e.syncPointTree_=e.syncPointTree_.set(o,c)),null!=s)l=!0;else{l=!1,s=Xn.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild(((e,t)=>{const n=Ai(t,ln());n&&(s=s.updateImmediateChild(e,n))}))}const u=Di(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=Yi(t);i(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Li++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let h=Ii(c,t,n,Gr(e.pendingWriteTree_,o),s,l);if(!u&&!a&&!r){const n=Ni(c,t);h=h.concat(function(e,t,n){const r=t._path,o=$i(e,t),s=Qi(e,n),a=e.listenProvider_.startListening(eo(t),o,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(o)i(!Oi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!gn(e)&&t&&Oi(t))return[Mi(t).query];{let e=[];return t&&(e=e.concat(Ri(t).map((e=>e.query)))),Tt(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(eo(r),$i(e,r))}}return a}(e,t,n))}return h}function Wi(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Ai(n,vn(e,t));if(r)return r}));return Jr(r,t,i,n,!0)}function Hi(e,t){return Ki(t,e.syncPointTree_,null,Gr(e.pendingWriteTree_,ln()))}function Ki(e,t,n,r){if(gn(e.path))return Gi(e,t,n,r);{const i=t.get(ln());null==n&&null!=i&&(n=Ai(i,ln()));let o=[];const s=cn(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=oi(r,s);o=o.concat(Ki(a,l,e,t))}return i&&(o=o.concat(Ei(i,e,r,n))),o}}function Gi(e,t,n,r){const i=t.get(ln());null==n&&null!=i&&(n=Ai(i,ln()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=oi(r,t),l=e.operationForChild(t);l&&(o=o.concat(Gi(l,i,s,a)))})),i&&(o=o.concat(Ei(i,e,r,n))),o}function Qi(e,t){const n=t.query,r=$i(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Xn.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Xi(e,n);if(r){const n=Ji(r),i=n.path,o=n.queryId,s=vn(i,t);return Zi(e,i,new kr(wr(o),s))}return[]}(e,n._path,r):function(e,t){return Hi(e,new kr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ui(e,n,null,r)}}}}function $i(e,t){const n=Yi(t);return e.queryToTagMap.get(n)}function Yi(e){return e._path.toString()+"$"+e._queryIdentifier}function Xi(e,t){return e.tagToQueryMap.get(t)}function Ji(e){const t=e.indexOf("$");return i(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new an(e.substr(0,t))}}function Zi(e,t,n){const r=e.syncPointTree_.get(t);i(r,"Missing sync point for query tag that we're tracking");return Ei(r,n,Gr(e.pendingWriteTree_,t),null)}function eo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(i(xi,"Reference.ts has not been loaded"),xi)(e._repo,e._path):e}class to{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new to(t)}node(){return this.node_}}class no{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=mn(this.path_,e);return new no(this.syncTree_,t)}node(){return Wi(this.syncTree_,this.path_)}}const ro=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},io=function(e,t,n){return e&&"object"===typeof e?(i(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?oo(e[".sv"],t,n):"object"===typeof e[".sv"]?so(e[".sv"],t):void i(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},oo=function(e,t,n){if("timestamp"===e)return n.timestamp;i(!1,"Unexpected server value: "+e)},so=function(e,t,n){e.hasOwnProperty("increment")||i(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&i(!1,"Unexpected increment value: "+r);const o=t.node();if(i(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const s=o.getValue();return"number"!==typeof s?r:s+r},ao=function(e,t,n,r){return co(t,new no(n,e),r)},lo=function(e,t,n){return co(e,new to(t),n)};function co(e,t,n){const r=e.getPriority().val(),i=io(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=io(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Bn(o,er(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Bn(i))),r.forEachChild(qn,((e,r)=>{const i=co(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ho(e,t){let n=t instanceof an?t:new an(t),r=e,i=cn(n);for(;null!==i;){const e=D(r.node.children,i)||{children:{},childCount:0};r=new uo(i,r,e),n=hn(n),i=cn(n)}return r}function fo(e){return e.node.value}function po(e,t){e.node.value=t,bo(e)}function mo(e){return e.node.childCount>0}function go(e,t){Tt(e.node.children,((n,r)=>{t(new uo(n,e,r))}))}function vo(e,t,n,r){n&&!r&&t(e),go(e,(e=>{vo(e,t,!0,r)})),n&&r&&t(e)}function yo(e){return new an(null===e.parent?e.name:yo(e.parent)+"/"+e.name)}function bo(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===fo(e)&&!mo(e)}(n),i=N(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bo(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,bo(e))}(e.parent,e.name,e)}const _o=/[\[\].#$\/\u0000-\u001F\u007F]/,wo=/[\[\].#$\u0000-\u001F\u007F]/,So=10485760,ko=function(e){return"string"===typeof e&&0!==e.length&&!_o.test(e)},xo=function(e){return"string"===typeof e&&0!==e.length&&!wo.test(e)},Co=function(e,t,n,r){r&&void 0===t||Eo(W(e,"value"),t,n)},Eo=function(e,t,n){const r=n instanceof an?new _n(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Sn(r));if("function"===typeof t)throw new Error(e+"contains a function "+Sn(r)+" with contents = "+t.toString());if(bt(t))throw new Error(e+"contains "+t.toString()+" "+Sn(r));if("string"===typeof t&&t.length>So/3&&H(t)>So)throw new Error(e+"contains a string greater than "+So+" utf8 bytes "+Sn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Tt(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ko(t)))throw new Error(e+" contains an invalid key ("+t+") "+Sn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=H(t),wn(e)}(r,t),Eo(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=H(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Sn(r)+" in addition to actual children.")}},To=function(e,t,n,r){if((!r||void 0!==n)&&!xo(n))throw new Error(W(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Io=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),To(e,t,n,r)},Po=function(e,t){if(".info"===cn(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ro=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ko(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xo(e)}(n))throw new Error(W(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ao{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function No(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||yn(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Do(e,t,n){No(e,n),Mo(e,(e=>yn(e,t)))}function Oo(e,t,n){No(e,n),Mo(e,(e=>bn(e,t)||bn(t,e)))}function Mo(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Lo(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Lo(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ht&&pt("event: "+n.toString()),At(r)}}}const Fo="repo_interrupt",jo=25;class zo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ao,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mr(),this.transactionQueueTree_=new uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Vo(e,t,n){if(e.stats_=Kt(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fr(e.repoInfo_,((t,n,r,i)=>{qo(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Wo(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{R(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Cn(e.repoInfo_,t,((t,n,r,i)=>{qo(e,t,n,r,i)}),(t=>{Wo(e,t)}),(t=>{!function(e,t){Tt(t,((t,n)=>{Ho(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Ht[n]||(Ht[n]=t()),Ht[n]}(e.repoInfo_,(()=>new br(e.stats_,e.server_))),e.infoData_=new pr,e.infoSyncTree_=new Fi({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Vi(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Ho(e,"connected",!1),e.serverSyncTree_=new Fi({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Oo(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Uo(e){const t=e.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Bo(e){return ro({timestamp:Uo(e)})}function qo(e,t,n,r,i){e.dataUpdateCount++;const o=new an(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=M(n,(e=>er(e)));s=function(e,t,n,r){const i=Xi(e,r);if(i){const r=Ji(i),o=r.path,s=r.queryId,a=vn(o,t),l=Mr.fromObject(n);return Zi(e,o,new Cr(wr(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=er(n);s=Bi(e.serverSyncTree_,o,t,i)}else if(r){const t=M(n,(e=>er(e)));s=function(e,t,n){const r=Mr.fromObject(n);return Hi(e,new Cr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=er(n);s=Vi(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=es(e,o)),Oo(e.eventQueue_,a,s)}function Wo(e,t){Ho(e,"connected",t),!1===t&&function(e){Yo(e,"onDisconnectEvents");const t=Bo(e),n=mr();vr(e.onDisconnect_,ln(),((r,i)=>{const o=ao(r,i,e.serverSyncTree_,t);gr(n,r,o)}));let r=[];vr(n,ln(),((t,n)=>{r=r.concat(Vi(e.serverSyncTree_,t,n));const i=os(e,t);es(e,i)})),e.onDisconnect_=mr(),Oo(e.eventQueue_,ln(),r)}(e)}function Ho(e,t,n){const r=new an("/.info/"+t),i=er(n);e.infoData_.updateSnapshot(r,i);const o=Vi(e.infoSyncTree_,r,i);Oo(e.eventQueue_,r,o)}function Ko(e){return e.nextWriteId_++}function Go(e,t,n,r,i){Yo(e,"set",{path:t.toString(),value:n,priority:r});const o=Bo(e),s=er(n,r),a=Wi(e.serverSyncTree_,t),l=lo(s,a,o),c=Ko(e),u=ji(e.serverSyncTree_,t,l,c,!0);No(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||yt("set at "+t+" failed: "+n);const s=zi(e.serverSyncTree_,c,!o);Oo(e.eventQueue_,t,s),Xo(e,i,n,r)}));const h=os(e,t);es(e,h),Oo(e.eventQueue_,h,[])}function Qo(e,t,n){let r;r=".info"===cn(t._path)?Ui(e.infoSyncTree_,t,n):Ui(e.serverSyncTree_,t,n),Do(e.eventQueue_,t._path,r)}function $o(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Fo)}function Yo(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pt(t,...r)}function Xo(e,t,n,r){t&&At((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Jo(e,t,n){return Wi(e.serverSyncTree_,t,n)||Xn.EMPTY_NODE}function Zo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||is(e,t),fo(t)){const n=ns(e,t);i(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),o=Jo(e,t,r);let s=o;const a=o.hash();for(let u=0;u<n.length;u++){const e=n[u];i(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=vn(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,(r=>{Yo(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(zi(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();is(e,ho(e.transactionQueueTree_,t)),Zo(e,e.transactionQueueTree_),Oo(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)At(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{yt("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}es(e,t)}}),a)}(e,yo(t),n)}else mo(t)&&go(t,(t=>{Zo(e,t)}))}function es(e,t){const n=ts(e,t),r=yo(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const s=t[c],u=vn(n,s.path);let h,d=!1;if(i(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,h=s.abortReason,o=o.concat(zi(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=jo)d=!0,h="maxretry",o=o.concat(zi(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Jo(e,s.path,a);s.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){Eo("transaction failed: Data returned ",r,s.path);let t=er(r);"object"===typeof r&&null!=r&&N(r,".priority")||(t=t.updatePriority(n.getPriority()));const i=s.currentWriteId,l=Bo(e),c=lo(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Ko(e),a.splice(a.indexOf(i),1),o=o.concat(ji(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),o=o.concat(zi(e.serverSyncTree_,i,!0))}else d=!0,h="nodata",o=o.concat(zi(e.serverSyncTree_,s.currentWriteId,!0))}Oo(e.eventQueue_,n,o),o=[],d&&(t[c].status=2,l=t[c].unwatcher,setTimeout(l,Math.floor(0)),t[c].onComplete&&("nodata"===h?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(h),!1,null)))))}var l;is(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)At(r[i]);Zo(e,e.transactionQueueTree_)}(e,ns(e,n),r),r}function ts(e,t){let n,r=e.transactionQueueTree_;for(n=cn(t);null!==n&&void 0===fo(r);)r=ho(r,n),n=cn(t=hn(t));return r}function ns(e,t){const n=[];return rs(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function rs(e,t,n){const r=fo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);go(t,(t=>{rs(e,t,n)}))}function is(e,t){const n=fo(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,po(t,n.length>0?n:void 0)}go(t,(t=>{is(e,t)}))}function os(e,t){const n=yo(ts(e,t)),r=ho(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{ss(e,t)})),ss(e,r),vo(r,(t=>{ss(e,t)})),n}function ss(e,t){const n=fo(t);if(n){const r=[];let o=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(i(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(i(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(zi(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?po(t,void 0):n.length=s+1,Oo(e.eventQueue_,yo(t),o);for(let e=0;e<r.length;e++)At(r[e])}}const as=function(e,t){const n=ls(e),r=n.namespace;"firebase.com"===n.domain&&vt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ut(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new an(n.pathString)}},ls=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yt("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},cs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",us=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const s=new Array(8);for(o=7;o>=0;o--)s[o]=cs.charAt(n%64),n=Math.floor(n/64);i(0===n,"Cannot push at time == 0");let a=s.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=cs.charAt(t[o]);return i(20===a.length,"nextPushId: Length should be 20."),a}}();class hs{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+R(this.snapshot.exportVal())}}class ds{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class fs{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return i(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ps{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return gn(this._path)?null:dn(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const e=dr(this._queryParams),t=Ct(e);return"{}"===t?"default":t}get _queryObject(){return dr(this._queryParams)}isEqual(e){if(!((e=K(e))instanceof ps))return!1;const t=this._repo===e._repo,n=yn(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class ms extends ps{constructor(e,t){super(e,t,new ur,!1)}get parent(){const e=pn(this._path);return null===e?null:new ms(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class gs{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new an(e),n=ys(this.ref,e);return new gs(this._node.getChild(t),n,qn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new gs(n,ys(this.ref,t),qn))))}hasChild(e){const t=new an(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vs(e,t){return(e=K(e))._checkNotDeleted("ref"),void 0!==t?ys(e._root,t):e._root}function ys(e,t){return null===cn((e=K(e))._path)?Io("child","path",t,!1):To("child","path",t,!1),new ms(e._repo,mn(e._path,t))}function bs(e,t){e=K(e),Po("set",e._path),Co("set",t,e._path,!1);const n=new _;return Go(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class _s{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new hs("value",this,new gs(e.snapshotNode,new ms(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ds(this,e,t):null}matches(e){return e instanceof _s&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ws{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ds(this,e,t):null}createEvent(e,t){i(null!=e.childName,"Child events should have a childName.");const n=ys(new ms(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new hs(e.type,this,new gs(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ws&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ss(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Qo(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new fs(n,o||void 0),a="value"===t?new _s(s):new ws(t,s);return function(e,t,n){let r;r=".info"===cn(t._path)?qi(e.infoSyncTree_,t,n):qi(e.serverSyncTree_,t,n),Do(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Qo(e._repo,e,a)}function ks(e,t,n,r){return Ss(e,"value",t,n,r)}!function(e){i(!ki,"__referenceConstructor has already been defined"),ki=e}(ms),function(e){i(!xi,"__referenceConstructor has already been defined"),xi=e}(ms);const xs="FIREBASE_DATABASE_EMULATOR_HOST",Cs={};let Es=!1;function Ts(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=as(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[xs]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=as(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new Mt(Mt.OWNER):new Ot(e.name,e.options,t);Ro("Invalid Firebase Database URL",l),gn(l.path)||vt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Cs[t.name];i||(i={},Cs[t.name]=i);let o=i[e.toURLString()];o&&vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new zo(e,Es,n,r),i[e.toURLString()]=o,o}(c,e,u,new Dt(e.name,n));return new Is(h,e)}class Is{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Vo(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Cs[t];n&&n[e.key]===e||vt("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$o(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&vt("Cannot call "+e+" on a deleted database.")}}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe(),t=arguments.length>1?arguments[1]:void 0;const n=Ne(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=v("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=K(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&vt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Mt(Mt.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:w(r.mockUserToken,e.app.options.projectId);o=new Mt(t)}!function(e,t,n,r){e.repoInfo_=new Ut("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}Cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){tt(Me),Ae(new G("database",((e,t)=>{let{instanceIdentifier:n}=t;return Ts(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),je(Je,Ze,e),je(Je,Ze,"esm2017")}();const Rs=()=>{const e=Ps();if(e){return vs(e,"base/messages")}console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u0430\u0437\u044b")},As=e=>{!function(e,t){e=K(e),Po("push",e._path),Co("push",t,e._path,!0);const n=Uo(e._repo),r=us(n),i=ys(e,r),o=ys(e,r);let s;s=null!=t?bs(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0)}(Rs(),e),console.log("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:",e)};let Ns=e=>crypto.getRandomValues(new Uint8Array(e)),Ds=function(e){return((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s="";for(;;){let t=n(i),a=i;for(;a--;)if(s+=e[t[a]&r]||"",s.length===o)return s}}})(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,Ns)};var Os=n(791),Ms=n.t(Os,2),Ls=n(184);const Fs=Os.createContext(),js=e=>{let{children:t}=e;return(0,Ls.jsx)(Fs.Provider,{value:{getAllMessages:function(e,t){console.log("UIdInFunction:",t),(0,Os.useEffect)((()=>{(e=>{ks(Rs(),e),console.log("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u044b:")})((n=>{const r=n.val();if(null!==r){const n=Object.values(r).flat().map((e=>{const n=e.uid!==t;return console.log(e),{...e,isIncoming:n}}));e(n||[]),console.log("\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b:",n)}else e([])}))}),[t])},sendMessage:function(e,t,n,r){const i={_id:Ds("1234567890abcdef",12)(),userName:e,uid:r,message:t,displayTime:(new Date).toLocaleTimeString(),displayDate:(new Date).toLocaleDateString(),isIncoming:!1};As(i),n("")}},children:t})};var zs,Vs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Us={},Bs=Bs||{},qs=Vs||self;function Ws(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ks="closure_uid_"+(1e9*Math.random()>>>0),Gs=0;function Qs(e,t,n){return e.call.apply(e.bind,arguments)}function $s(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ys(e,t,n){return(Ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qs:$s).apply(null,arguments)}function Xs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Js(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Zs(){this.s=this.s,this.o=this.o}Zs.prototype.s=!1,Zs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ks)&&e[Ks]||(e[Ks]=++Gs))},Zs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ea=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ta(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function na(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ws(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ra(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ra.prototype.h=function(){this.defaultPrevented=!0};var ia=function(){if(!qs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};qs.addEventListener("test",e,t),qs.removeEventListener("test",e,t)}catch(n){}return e}();function oa(e){return/^[\s\xa0]*$/.test(e)}function sa(){var e=qs.navigator;return e&&(e=e.userAgent)?e:""}function aa(e){return-1!=sa().indexOf(e)}function la(e){return la[" "](e),e}la[" "]=function(){};var ca,ua,ha=aa("Opera"),da=aa("Trident")||aa("MSIE"),fa=aa("Edge"),pa=fa||da,ma=aa("Gecko")&&!(-1!=sa().toLowerCase().indexOf("webkit")&&!aa("Edge"))&&!(aa("Trident")||aa("MSIE"))&&!aa("Edge"),ga=-1!=sa().toLowerCase().indexOf("webkit")&&!aa("Edge");function va(){var e=qs.document;return e?e.documentMode:void 0}e:{var ya="",ba=function(){var e=sa();return ma?/rv:([^\);]+)(\)|;)/.exec(e):fa?/Edge\/([\d\.]+)/.exec(e):da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ga?/WebKit\/(\S+)/.exec(e):ha?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ba&&(ya=ba?ba[1]:""),da){var _a=va();if(null!=_a&&_a>parseFloat(ya)){ca=String(_a);break e}}ca=ya}if(qs.document&&da){var wa=va();ua=wa||(parseInt(ca,10)||void 0)}else ua=void 0;var Sa=ua;function ka(e,t){if(ra.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ma){e:{try{la(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ka.$.h.call(this)}}Js(ka,ra);var xa={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function Ta(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ea,this.fa=this.ia=!1}function Ia(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ra(e){const t={};for(const n in e)t[n]=e[n];return t}const Aa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Aa.length;t++)n=Aa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Da(e){this.src=e,this.g={},this.h=0}function Oa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ea(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ia(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ma(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Da.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Ma(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Ta(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var La="closure_lm_"+(1e6*Math.random()|0),Fa={};function ja(e,t,n,r,i){if(r&&r.once)return Va(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ja(e,t[o],n,r,i);return null}return n=Ga(n),e&&e[Ca]?e.O(t,n,Hs(r)?!!r.capture:!!r,i):za(e,t,n,!1,r,i)}function za(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Hs(i)?!!i.capture:!!i,a=Ha(e);if(a||(e[La]=a=new Da(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Wa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ia||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Va(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Va(e,t[o],n,r,i);return null}return n=Ga(n),e&&e[Ca]?e.P(t,n,Hs(r)?!!r.capture:!!r,i):za(e,t,n,!0,r,i)}function Ua(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ua(e,t[o],n,r,i);else r=Hs(r)?!!r.capture:!!r,n=Ga(n),e&&e[Ca]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ma(o=e.g[t],n,r,i))&&(Ia(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ha(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ma(t,n,r,i)),(n=-1<e?t[e]:null)&&Ba(n))}function Ba(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ca])Oa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ha(t))?(Oa(n,e),0==n.h&&(n.src=null,t[La]=null)):Ia(e)}}}function qa(e){return e in Fa?Fa[e]:Fa[e]="on"+e}function Wa(e,t){if(e.fa)e=!0;else{t=new ka(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ba(e),e=n.call(r,t)}return e}function Ha(e){return(e=e[La])instanceof Da?e:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(e){return"function"===typeof e?e:(e[Ka]||(e[Ka]=function(t){return e.handleEvent(t)}),e[Ka])}function Qa(){Zs.call(this),this.i=new Da(this),this.S=this,this.J=null}function $a(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ra(t,e);else if(t instanceof ra)t.target=t.target||e;else{var i=t;Na(t=new ra(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ya(s,r,!0,t)&&i}if(i=Ya(s=t.g=e,r,!0,t)&&i,i=Ya(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ya(s=t.g=n[o],r,!1,t)&&i}function Ya(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Oa(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Js(Qa,Zs),Qa.prototype[Ca]=!0,Qa.prototype.removeEventListener=function(e,t,n,r){Ua(this,e,t,n,r)},Qa.prototype.N=function(){if(Qa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ia(n[r]);delete t.g[e],t.h--}}this.J=null},Qa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xa=qs.JSON.stringify;function Ja(){var e=ol;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Za=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new el),(e=>e.reset()));class el{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function nl(e){qs.setTimeout((()=>{throw e}),0)}let rl,il=!1,ol=new class{constructor(){this.h=this.g=null}add(e,t){const n=Za.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},sl=()=>{const e=qs.Promise.resolve(void 0);rl=()=>{e.then(al)}};var al=()=>{for(var e;e=Ja();){try{e.h.call(e.g)}catch(n){nl(n)}var t=Za;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}il=!1};function ll(e,t){Qa.call(this),this.h=e||1,this.g=t||qs,this.j=Ys(this.qb,this),this.l=Date.now()}function cl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ul(e,t,n){if("function"===typeof e)n&&(e=Ys(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ys(e.handleEvent,e)}return 2147483647<Number(t)?-1:qs.setTimeout(e,t||0)}function hl(e){e.g=ul((()=>{e.g=null,e.i&&(e.i=!1,hl(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Js(ll,Qa),(zs=ll.prototype).ga=!1,zs.T=null,zs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$a(this,"tick"),this.ga&&(cl(this),this.start()))}},zs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zs.N=function(){ll.$.N.call(this),cl(this),delete this.g};class dl extends Zs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(qs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fl(e){Zs.call(this),this.h=e,this.g={}}Js(fl,Zs);var pl=[];function ml(e,t,n,r){Array.isArray(n)||(n&&(pl[0]=n.toString()),n=pl);for(var i=0;i<n.length;i++){var o=ja(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function gl(e){Pa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ba(e)}),e),e.g={}}function vl(){this.g=!0}function yl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}fl.prototype.N=function(){fl.$.N.call(this),gl(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vl.prototype.Ea=function(){this.g=!1},vl.prototype.info=function(){};var bl={},_l=null;function wl(){return _l=_l||new Qa}function Sl(e){ra.call(this,bl.Ta,e)}function kl(e){const t=wl();$a(t,new Sl(t))}function xl(e,t){ra.call(this,bl.STAT_EVENT,e),this.stat=t}function Cl(e){const t=wl();$a(t,new xl(t,e))}function El(e,t){ra.call(this,bl.Ua,e),this.size=t}function Tl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qs.setTimeout((function(){e()}),t)}bl.Ta="serverreachability",Js(Sl,ra),bl.STAT_EVENT="statevent",Js(xl,ra),bl.Ua="timingevent",Js(El,ra);var Il={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rl(){}function Al(e){return e.h||(e.h=e.i())}function Nl(){}Rl.prototype.h=null;var Dl,Ol={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ml(){ra.call(this,"d")}function Ll(){ra.call(this,"c")}function Fl(){}function jl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fl(this),this.P=Vl,e=pa?125:void 0,this.V=new ll(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}Js(Ml,ra),Js(Ll,ra),Js(Fl,Rl),Fl.prototype.g=function(){return new XMLHttpRequest},Fl.prototype.i=function(){return{}},Dl=new Fl;var Vl=45e3,Ul={},Bl={};function ql(e,t,n){e.L=1,e.A=lc(rc(t)),e.u=n,e.S=!0,Wl(e,null)}function Wl(e,t){e.G=Date.now(),Ql(e),e.B=rc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),wc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new zl,e.g=Su(e.l,n?t:null,!e.u),0<e.O&&(e.M=new dl(Ys(e.Pa,e,e.g),e.O)),ml(e.U,e.g,"readystatechange",e.nb),t=e.I?Ra(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),kl(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Hl(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Kl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Gl(e,n),r==Bl){4==t&&(e.s=4,Cl(14),i=!1),yl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ul){e.s=4,Cl(15),yl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yl(e.j,e.m,r,null),Zl(e,r)}Hl(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Cl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pu(t),t.M=!0,Cl(11))):(yl(e.j,e.m,n,"[Invalid Chunked Response]"),Jl(e),Xl(e))}function Gl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Bl:(n=Number(t.substring(n,r)),isNaN(n)?Ul:(r+=1)+n>t.length?Bl:(t=t.slice(r,r+n),e.o=r+n,t))}function Ql(e){e.Y=Date.now()+e.P,$l(e,e.P)}function $l(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Tl(Ys(e.lb,e),t)}function Yl(e){e.C&&(qs.clearTimeout(e.C),e.C=null)}function Xl(e){0==e.l.H||e.J||vu(e.l,e)}function Jl(e){Yl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,cl(e.V),gl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Zl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ic(n.i,e)))if(!e.K&&Ic(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;gu(n),su(n)}fu(n),Cl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Tl(Ys(n.ib,n),6e3));if(1>=Tc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else bu(n,11)}else if((e.K||n.g==e)&&gu(n),!oa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Pc(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ac(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=wu(r,r.J?r.pa:null,r.Y),s.K){Rc(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Yl(a),Ql(a)),r.g=s}else du(r);0<n.j.length&&lu(n)}else"stop"!=c[0]&&"close"!=c[0]||bu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bu(n,7):ou(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}kl()}catch(c){}}function ec(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ws(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ws(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ws(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(zs=jl.prototype).setTimeout=function(e){this.P=e},zs.nb=function(e){e=e.target;const t=this.M;t&&3==Zc(e)?t.l():this.Pa(e)},zs.Pa=function(e){try{if(e==this.g)e:{const u=Zc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||pa||this.g&&(this.h.h||this.g.ja()||eu(this.g)))){this.J||4!=u||7==t||kl(),Yl(this);var n=this.g.da();this.ca=n;t:if(Hl(this)){var r=eu(this.g);e="";var i=r.length,o=4==Zc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jl(this),Xl(this);var s="";break t}this.h.i=new qs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oa(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Cl(12),Jl(this),Xl(this);break e}yl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,n)}this.S?(Kl(this,u,s),pa&&this.i&&3==u&&(ml(this.U,this.V,"tick",this.mb),this.V.start())):(yl(this.j,this.m,s,null),Zl(this,s)),4==u&&Jl(this),this.i&&!this.J&&(4==u?vu(this.l,this):(this.i=!1,Ql(this)))}else(function(e){const t={};e=(e.g&&2<=Zc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(oa(e[r]))continue;var n=tl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Cl(12)):(this.s=0,Cl(13)),Jl(this),Xl(this)}}}catch(u){}},zs.mb=function(){if(this.g){var e=Zc(this.g),t=this.g.ja();this.o<t.length&&(Yl(this),Kl(this,e,t),this.i&&4!=e&&Ql(this))}},zs.cancel=function(){this.J=!0,Jl(this)},zs.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(kl(),Cl(17)),Jl(this),this.s=2,Xl(this)):$l(this,this.Y-e)};var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nc){this.h=e.h,ic(this,e.j),this.s=e.s,this.g=e.g,oc(this,e.m),this.l=e.l;var t=e.i,n=new vc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sc(this,n),this.o=e.o}else e&&(t=String(e).match(tc))?(this.h=!1,ic(this,t[1]||"",!0),this.s=cc(t[2]||""),this.g=cc(t[3]||"",!0),oc(this,t[4]),this.l=cc(t[5]||"",!0),sc(this,t[6]||"",!0),this.o=cc(t[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}function rc(e){return new nc(e)}function ic(e,t,n){e.j=n?cc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sc(e,t,n){t instanceof vc?(e.i=t,function(e,t){t&&!e.j&&(yc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bc(this,t),wc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=uc(t,mc)),e.i=new vc(t,e.h))}function ac(e,t,n){e.i.set(t,n)}function lc(e){return ac(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uc(t,dc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uc(t,dc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(uc(n,"/"==n.charAt(0)?pc:fc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uc(n,gc)),e.join("")};var dc=/[#\/\?@]/g,fc=/[#\?:]/g,pc=/[#\?]/g,mc=/[#\?@]/g,gc=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bc(e,t){yc(e),t=Sc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _c(e,t){return yc(e),t=Sc(e,t),e.g.has(t)}function wc(e,t,n){bc(e,t),0<n.length&&(e.i=null,e.g.set(Sc(e,t),ta(n)),e.h+=n.length)}function Sc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zs=vc.prototype).add=function(e,t){yc(this),this.i=null,e=Sc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zs.forEach=function(e,t){yc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},zs.ta=function(){yc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},zs.Z=function(e){yc(this);let t=[];if("string"===typeof e)_c(this,e)&&(t=t.concat(this.g.get(Sc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},zs.set=function(e,t){return yc(this),this.i=null,_c(this,e=Sc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},zs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var kc=class{constructor(e,t){this.g=e,this.map=t}};function xc(e){this.l=e||Cc,qs.PerformanceNavigationTiming?e=0<(e=qs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qs.g&&qs.g.Ka&&qs.g.Ka()&&qs.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cc=10;function Ec(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tc(e){return e.h?1:e.g?e.g.size:0}function Ic(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pc(e,t){e.g?e.g.add(t):e.h=t}function Rc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ac(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ta(e.i)}xc.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Nc,Dc=class{stringify(e){return qs.JSON.stringify(e,void 0)}parse(e){return qs.JSON.parse(e,void 0)}};function Oc(){this.g=new Dc}function Mc(e,t,n){const r=n||"";try{ec(e,(function(e,n){let i=e;Hs(e)&&(i=Xa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Fc(e){this.l=e.ec||null,this.j=e.ob||!1}function jc(e,t){Qa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Js(Fc,Rl),Fc.prototype.g=function(){return new jc(this.l,this.j)},Fc.prototype.i=(Nc={},function(){return Nc}),Js(jc,Qa);var zc=0;function Vc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Uc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bc(e)}function Bc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zs=jc.prototype).open=function(e,t){if(this.readyState!=zc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bc(this)},zs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},zs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uc(this)),this.readyState=zc},zs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},zs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uc(this):Bc(this),3==this.readyState&&Vc(this)}},zs.Za=function(e){this.g&&(this.response=this.responseText=e,Uc(this))},zs.Ya=function(e){this.g&&(this.response=e,Uc(this))},zs.ka=function(){this.g&&Uc(this)},zs.setRequestHeader=function(e,t){this.v.append(e,t)},zs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qc=qs.JSON.parse;function Wc(e){Qa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hc,this.L=this.M=!1}Js(Wc,Qa);var Hc="",Kc=/^https?$/i,Gc=["POST","PUT"];function Qc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$c(e),Xc(e)}function $c(e){e.F||(e.F=!0,$a(e,"complete"),$a(e,"error"))}function Yc(e){if(e.h&&"undefined"!=typeof Bs&&(!e.C[1]||4!=Zc(e)||2!=e.da()))if(e.v&&4==Zc(e))ul(e.La,0,e);else if($a(e,"readystatechange"),4==Zc(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(tc)[1]||null;!i&&qs.self&&qs.self.location&&(i=qs.self.location.protocol.slice(0,-1)),r=!Kc.test(i?i.toLowerCase():"")}n=r}if(n)$a(e,"complete"),$a(e,"success");else{e.m=6;try{var o=2<Zc(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",$c(e)}}finally{Xc(e)}}}function Xc(e,t){if(e.g){Jc(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||$a(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Jc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qs.clearTimeout(e.A),e.A=null)}function Zc(e){return e.g?e.g.readyState:0}function eu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ah){return null}}function tu(e){let t="";return Pa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function nu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ac(e,t,n))}function ru(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function iu(e){this.Ga=0,this.j=[],this.l=new vl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ru("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ru("baseRetryDelayMs",5e3,e),this.hb=ru("retryDelaySeedMs",1e4,e),this.eb=ru("forwardChannelMaxRetries",2,e),this.xa=ru("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new xc(e&&e.concurrentRequestLimit),this.Ja=new Oc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ou(e){if(au(e),3==e.H){var t=e.W++,n=rc(e.I);if(ac(n,"SID",e.K),ac(n,"RID",t),ac(n,"TYPE","terminate"),uu(e,n),(t=new jl(e,e.l,t)).L=2,t.A=lc(rc(n)),n=!1,qs.navigator&&qs.navigator.sendBeacon)try{n=qs.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&qs.Image&&((new Image).src=t.A,n=!0),n||(t.g=Su(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ql(t)}_u(e)}function su(e){e.g&&(pu(e),e.g.cancel(),e.g=null)}function au(e){su(e),e.u&&(qs.clearTimeout(e.u),e.u=null),gu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qs.clearTimeout(e.m),e.m=null)}function lu(e){if(!Ec(e.i)&&!e.m){e.m=!0;var t=e.Na;rl||sl(),il||(rl(),il=!0),ol.add(t,e),e.C=0}}function cu(e,t){var n;n=t?t.m:e.W++;const r=rc(e.I);ac(r,"SID",e.K),ac(r,"RID",n),ac(r,"AID",e.V),uu(e,r),e.o&&e.s&&nu(r,e.o,e.s),n=new jl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=hu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pc(e.i,n),ql(n,r,t)}function uu(e,t){e.na&&Pa(e.na,(function(e,n){ac(t,n,e)})),e.h&&ec({},(function(e,n){ac(t,n,e)}))}function hu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ys(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Mc(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function du(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;rl||sl(),il||(rl(),il=!0),ol.add(t,e),e.A=0}}function fu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Tl(Ys(e.Ma,e),yu(e,e.A)),e.A++,!0)}function pu(e){null!=e.B&&(qs.clearTimeout(e.B),e.B=null)}function mu(e){e.g=new jl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rc(e.wa);ac(t,"RID","rpc"),ac(t,"SID",e.K),ac(t,"AID",e.V),ac(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ac(t,"TO",e.qa),ac(t,"TYPE","xmlhttp"),uu(e,t),e.o&&e.s&&nu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=lc(rc(t)),n.u=null,n.S=!0,Wl(n,e)}function gu(e){null!=e.v&&(qs.clearTimeout(e.v),e.v=null)}function vu(e,t){var n=null;if(e.g==t){gu(e),pu(e),e.g=null;var r=2}else{if(!Ic(e.i,t))return;n=t.F,Rc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;$a(r=wl(),new El(r,n)),lu(e)}else du(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Tc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Tl(Ys(e.Na,e,t),yu(e,e.C)),e.C++,!0))}(e,t)||2==r&&fu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bu(e,5);break;case 4:bu(e,10);break;case 3:bu(e,6);break;default:bu(e,2)}}function yu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function bu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ys(e.pb,e);n||(n=new nc("//www.google.com/images/cleardot.gif"),qs.location&&"http"==qs.location.protocol||ic(n,"https"),lc(n)),function(e,t){const n=new vl;if(qs.Image){const r=new Image;r.onload=Xs(Lc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xs(Lc,n,r,"TestLoadImage: error",!1,t),r.onabort=Xs(Lc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xs(Lc,n,r,"TestLoadImage: timeout",!1,t),qs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Cl(2);e.H=0,e.h&&e.h.za(t),_u(e),au(e)}function _u(e){if(e.H=0,e.ma=[],e.h){const t=Ac(e.i);0==t.length&&0==e.j.length||(na(e.ma,t),na(e.ma,e.j),e.i.i.length=0,ta(e.j),e.j.length=0),e.h.ya()}}function wu(e,t,n){var r=n instanceof nc?rc(n):new nc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),oc(r,r.m);else{var i=qs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new nc(null);r&&ic(o,r),t&&(o.g=t),i&&oc(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ac(r,n,t),ac(r,"VER",e.ra),uu(e,r),r}function Su(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Wc(new Fc({ob:n})):new Wc(e.va)).Oa(e.J),t}function ku(){}function xu(){if(da&&!(10<=Number(Sa)))throw Error("Environmental error: no available transport.")}function Cu(e,t){Qa.call(this),this.g=new iu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!oa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!oa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Iu(this)}function Eu(e){Ml.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tu(){Ll.call(this),this.status=1}function Iu(e){this.g=e}function Pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ru(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Au(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(zs=Wc.prototype).Oa=function(e){this.M=e},zs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dl.g(),this.C=this.u?Al(this.u):Al(Dl),this.g.onreadystatechange=Ys(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Qc(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=qs.FormData&&e instanceof qs.FormData,!(0<=ea(Gc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jc(this),0<this.B&&((this.L=function(e){return da&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ys(this.ua,this)):this.A=ul(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Qc(this,o)}},zs.ua=function(){"undefined"!=typeof Bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$a(this,"timeout"),this.abort(8))},zs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$a(this,"complete"),$a(this,"abort"),Xc(this))},zs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),Wc.$.N.call(this)},zs.La=function(){this.s||(this.G||this.v||this.l?Yc(this):this.kb())},zs.kb=function(){Yc(this)},zs.isActive=function(){return!!this.g},zs.da=function(){try{return 2<Zc(this)?this.g.status:-1}catch(Nc){return-1}},zs.ja=function(){try{return this.g?this.g.responseText:""}catch(Nc){return""}},zs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qc(t)}},zs.Ia=function(){return this.m},zs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(zs=iu.prototype).ra=8,zs.H=1,zs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new jl(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ra(o),Na(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hu(this,i,t),ac(n=rc(this.I),"RID",e),ac(n,"CVER",22),this.F&&ac(n,"X-HTTP-Session-Id",this.F),uu(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(tu(o)))+"&"+t:this.o&&nu(n,this.o,o)),Pc(this.i,i),this.bb&&ac(n,"TYPE","init"),this.P?(ac(n,"$req",t),ac(n,"SID","null"),i.aa=!0,ql(i,n,null)):ql(i,n,t),this.H=2}}else 3==this.H&&(e?cu(this,e):0==this.j.length||Ec(this.i)||cu(this))},zs.Ma=function(){if(this.u=null,mu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Tl(Ys(this.jb,this),e)}},zs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cl(10),su(this),mu(this))},zs.ib=function(){null!=this.v&&(this.v=null,su(this),fu(this),Cl(19))},zs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Cl(2)):(this.l.info("Failed to ping google.com"),Cl(1))},zs.isActive=function(){return!!this.h&&this.h.isActive(this)},(zs=ku.prototype).Ba=function(){},zs.Aa=function(){},zs.za=function(){},zs.ya=function(){},zs.isActive=function(){return!0},zs.Va=function(){},xu.prototype.g=function(e,t){return new Cu(e,t)},Js(Cu,Qa),Cu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Cl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=wu(e,null,e.Y),lu(e)},Cu.prototype.close=function(){ou(this.g)},Cu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xa(e),e=n);t.j.push(new kc(t.fb++,e)),3==t.H&&lu(t)},Cu.prototype.N=function(){this.g.h=null,delete this.j,ou(this.g),delete this.g,Cu.$.N.call(this)},Js(Eu,Ml),Js(Tu,Ll),Js(Iu,ku),Iu.prototype.Ba=function(){$a(this.g,"a")},Iu.prototype.Aa=function(e){$a(this.g,new Eu(e))},Iu.prototype.za=function(e){$a(this.g,new Tu)},Iu.prototype.ya=function(){$a(this.g,"b")},Js(Pu,(function(){this.blockSize=-1})),Pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Ru(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Ru(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Ru(this,r),i=0;break}}this.h=i,this.i+=t},Pu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Nu={};function Du(e){return-128<=e&&128>e?function(e,t){var n=Nu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Au([0|e],0>e?-1:0)})):new Au([0|e],0>e?-1:0)}function Ou(e){if(isNaN(e)||!isFinite(e))return Lu;if(0>e)return Uu(Ou(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Mu;return new Au(t,0)}var Mu=4294967296,Lu=Du(0),Fu=Du(1),ju=Du(16777216);function zu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Vu(e){return-1==e.h}function Uu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Au(n,~e.h).add(Fu)}function Bu(e,t){return e.add(Uu(t))}function qu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wu(e,t){this.g=e,this.h=t}function Hu(e,t){if(zu(t))throw Error("division by zero");if(zu(e))return new Wu(Lu,Lu);if(Vu(e))return t=Hu(Uu(e),t),new Wu(Uu(t.g),Uu(t.h));if(Vu(t))return t=Hu(e,Uu(t)),new Wu(Uu(t.g),t.h);if(30<e.g.length){if(Vu(e)||Vu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fu,r=t;0>=r.X(e);)n=Ku(n),r=Ku(r);var i=Gu(n,1),o=Gu(r,1);for(r=Gu(r,2),n=Gu(n,2);!zu(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Gu(r,1),n=Gu(n,1)}return t=Bu(e,i.R(t)),new Wu(i,t)}for(i=Lu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ou(n)).R(t);Vu(s)||0<s.X(e);)s=(o=Ou(n-=r)).R(t);zu(o)&&(o=Fu),i=i.add(o),e=Bu(e,s)}return new Wu(i,e)}function Ku(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Au(n,e.h)}function Gu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Au(i,e.h)}(zs=Au.prototype).ea=function(){if(Vu(this))return-Uu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Mu+r)*t,t*=Mu}return e},zs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(zu(this))return"0";if(Vu(this))return"-"+Uu(this).toString(e);for(var t=Ou(Math.pow(e,6)),n=this,r="";;){var i=Hu(n,t).g,o=((0<(n=Bu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(zu(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},zs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},zs.X=function(e){return Vu(e=Bu(this,e))?-1:zu(e)?0:1},zs.abs=function(){return Vu(this)?Uu(this):this},zs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Au(n,-2147483648&n[n.length-1]?-1:0)},zs.R=function(e){if(zu(this)||zu(e))return Lu;if(Vu(this))return Vu(e)?Uu(this).R(Uu(e)):Uu(Uu(this).R(e));if(Vu(e))return Uu(this.R(Uu(e)));if(0>this.X(ju)&&0>e.X(ju))return Ou(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,qu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,qu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,qu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,qu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Au(n,0)},zs.gb=function(e){return Hu(this,e).h},zs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Au(n,this.h&e.h)},zs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Au(n,this.h|e.h)},zs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Au(n,this.h^e.h)},xu.prototype.createWebChannel=xu.prototype.g,Cu.prototype.send=Cu.prototype.u,Cu.prototype.open=Cu.prototype.m,Cu.prototype.close=Cu.prototype.close,Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Pl.COMPLETE="complete",Nl.EventType=Ol,Ol.OPEN="a",Ol.CLOSE="b",Ol.ERROR="c",Ol.MESSAGE="d",Qa.prototype.listen=Qa.prototype.O,Wc.prototype.listenOnce=Wc.prototype.P,Wc.prototype.getLastError=Wc.prototype.Sa,Wc.prototype.getLastErrorCode=Wc.prototype.Ia,Wc.prototype.getStatus=Wc.prototype.da,Wc.prototype.getResponseJson=Wc.prototype.Wa,Wc.prototype.getResponseText=Wc.prototype.ja,Wc.prototype.send=Wc.prototype.ha,Wc.prototype.setWithCredentials=Wc.prototype.Oa,Pu.prototype.digest=Pu.prototype.l,Pu.prototype.reset=Pu.prototype.reset,Pu.prototype.update=Pu.prototype.j,Au.prototype.add=Au.prototype.add,Au.prototype.multiply=Au.prototype.R,Au.prototype.modulo=Au.prototype.gb,Au.prototype.compare=Au.prototype.X,Au.prototype.toNumber=Au.prototype.ea,Au.prototype.toString=Au.prototype.toString,Au.prototype.getBits=Au.prototype.D,Au.fromNumber=Ou,Au.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Uu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ou(Math.pow(n,8)),i=Lu,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ou(Math.pow(n,s)),i=i.R(s).add(Ou(a))):i=(i=i.R(r)).add(Ou(a))}return i};var Qu=Us.createWebChannelTransport=function(){return new xu},$u=Us.getStatEventTarget=function(){return wl()},Yu=Us.ErrorCode=Il,Xu=Us.EventType=Pl,Ju=Us.Event=bl,Zu=Us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eh=(Us.FetchXmlHttpFactory=Fc,Us.WebChannel=Nl),th=Us.XhrIo=Wc,nh=Us.Md5=Pu,rh=Us.Integer=Au;const ih="@firebase/firestore";class oh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oh.UNAUTHENTICATED=new oh(null),oh.GOOGLE_CREDENTIALS=new oh("google-credentials-uid"),oh.FIRST_PARTY=new oh("first-party-uid"),oh.MOCK_USER=new oh("mock-user");let sh="10.7.0";const ah=new ie("@firebase/firestore");function lh(){return ah.logLevel}function ch(e){if(ah.logLevel<=Z.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dh);ah.debug("Firestore (".concat(sh,"): ").concat(e),...i)}}function uh(e){if(ah.logLevel<=Z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dh);ah.error("Firestore (".concat(sh,"): ").concat(e),...i)}}function hh(e){if(ah.logLevel<=Z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dh);ah.warn("Firestore (".concat(sh,"): ").concat(e),...i)}}function dh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(zS){return e}}function fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(sh,") INTERNAL ASSERTION FAILED: ")+e;throw uh(t),new Error(t)}function ph(e,t){e||fh()}function mh(e,t){return e}const gh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vh extends E{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class yh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _h{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(oh.UNAUTHENTICATED)))}shutdown(){}}class wh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Sh{constructor(e){this.t=e,this.currentUser=oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yh,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ch("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ch("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yh)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ch("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ph("string"==typeof t.accessToken),new bh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ph(null===e||"string"==typeof e),new oh(e)}}class kh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=oh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new kh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(oh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ch{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ch("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ch("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ch("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ch("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ph("string"==typeof e.token),this.R=e.token,new Ch(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Th(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ih{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Th(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ph(e,t){return e<t?-1:e>t?1:0}function Rh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ah{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vh(gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vh(gh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vh(gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vh(gh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ah.fromMillis(Date.now())}static fromDate(e){return Ah.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ah(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ph(this.nanoseconds,e.nanoseconds):Ph(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nh(e)}static min(){return new Nh(new Ah(0,0))}static max(){return new Nh(new Ah(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dh{constructor(e,t,n){void 0===t?t=0:t>e.length&&fh(),void 0===n?n=e.length-t:n>e.length-t&&fh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Oh extends Dh{construct(e,t,n){return new Oh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vh(gh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Oh(e)}static emptyPath(){return new Oh([])}}const Mh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lh extends Dh{construct(e,t,n){return new Lh(e,t,n)}static isValidIdentifier(e){return Mh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vh(gh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vh(gh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vh(gh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new vh(gh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lh(t)}static emptyPath(){return new Lh([])}}class Fh{constructor(e){this.path=e}static fromPath(e){return new Fh(Oh.fromString(e))}static fromName(e){return new Fh(Oh.fromString(e).popFirst(5))}static empty(){return new Fh(Oh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Oh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fh(new Oh(e.slice()))}}class jh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}jh.UNKNOWN_ID=-1;function zh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nh.fromTimestamp(1e9===r?new Ah(n+1,0):new Ah(n,r));return new Uh(i,Fh.empty(),t)}function Vh(e){return new Uh(e.readTime,e.key,-1)}class Uh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uh(Nh.min(),Fh.empty(),-1)}static max(){return new Uh(Nh.max(),Fh.empty(),-1)}}function Bh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fh.comparator(e.documentKey,t.documentKey),0!==n?n:Ph(e.largestBatchId,t.largestBatchId))}const qh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hh(e){if(e.code!==gh.FAILED_PRECONDITION||e.message!==qh)throw e;ch("LocalStore","Unexpectedly lost primary lease")}class Kh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Kh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Kh?t:Kh.resolve(t)}catch(e){return Kh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Kh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Kh.reject(t)}static resolve(e){return new Kh(((t,n)=>{t(e)}))}static reject(e){return new Kh(((t,n)=>{n(e)}))}static waitFor(e){return new Kh(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Kh.resolve(!1);for(const n of e)t=t.next((e=>e?Kh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Kh(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Kh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Gh(e){return"IndexedDbTransactionError"===e.name}class Qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function $h(e){return null==e}function Yh(e){return 0===e&&1/e==-1/0}function Xh(e){return"number"==typeof e&&Number.isInteger(e)&&!Yh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Qh._e=-1;const Jh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ed=Zh;function td(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class id{constructor(e,t){this.comparator=e,this.root=t||sd.EMPTY}insert(e,t){return new id(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sd.BLACK,null,null))}remove(e){return new id(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sd.RED,this.left=null!=r?r:sd.EMPTY,this.right=null!=i?i:sd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fh();if(this.right.isRed())throw fh();const e=this.left.check();if(e!==this.right.check())throw fh();return e+(this.isRed()?0:1)}}sd.EMPTY=null,sd.RED=!0,sd.BLACK=!1,sd.EMPTY=new class{constructor(){this.size=0}get key(){throw fh()}get value(){throw fh()}get color(){throw fh()}get left(){throw fh()}get right(){throw fh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new sd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ad{constructor(e){this.comparator=e,this.data=new id(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ad))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ad(this.comparator);return t.data=e,t}}class ld{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cd{constructor(e){this.fields=e,e.sort(Lh.comparator)}static empty(){return new cd([])}unionWith(e){let t=new ad(Lh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ud extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ud("Invalid base64 string: "+e):e}}(e);return new hd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ph(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hd.EMPTY_BYTE_STRING=new hd("");const dd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fd(e){if(ph(!!e),"string"==typeof e){let t=0;const n=dd.exec(e);if(ph(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pd(e.seconds),nanos:pd(e.nanos)}}function pd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function md(e){return"string"==typeof e?hd.fromBase64String(e):hd.fromUint8Array(e)}function gd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vd(e){const t=e.mapValue.fields.__previous_value__;return gd(t)?vd(t):t}function yd(e){const t=fd(e.mapValue.fields.__local_write_time__.timestampValue);return new Ah(t.seconds,t.nanos)}class bd{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class _d{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _d("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gd(e)?4:Md(e)?9007199254740991:10:fh()}function kd(e,t){if(e===t)return!0;const n=Sd(e);if(n!==Sd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yd(e).isEqual(yd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fd(e.timestampValue),r=fd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return md(e.bytesValue).isEqual(md(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pd(e.geoPointValue.latitude)===pd(t.geoPointValue.latitude)&&pd(e.geoPointValue.longitude)===pd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pd(e.integerValue)===pd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=pd(e.doubleValue),r=pd(t.doubleValue);return n===r?Yh(n)===Yh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rh(e.arrayValue.values||[],t.arrayValue.values||[],kd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(td(n)!==td(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kd(n[i],r[i])))return!1;return!0}(e,t);default:return fh()}}function xd(e,t){return void 0!==(e.values||[]).find((e=>kd(e,t)))}function Cd(e,t){if(e===t)return 0;const n=Sd(e),r=Sd(t);if(n!==r)return Ph(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ph(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=pd(e.integerValue||e.doubleValue),r=pd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ed(e.timestampValue,t.timestampValue);case 4:return Ed(yd(e),yd(t));case 5:return Ph(e.stringValue,t.stringValue);case 6:return function(e,t){const n=md(e),r=md(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ph(n[i],r[i]);if(0!==e)return e}return Ph(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ph(pd(e.latitude),pd(t.latitude));return 0!==n?n:Ph(pd(e.longitude),pd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Cd(n[i],r[i]);if(e)return e}return Ph(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wd.mapValue&&t===wd.mapValue)return 0;if(e===wd.mapValue)return 1;if(t===wd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ph(r[s],o[s]);if(0!==e)return e;const t=Cd(n[r[s]],i[o[s]]);if(0!==t)return t}return Ph(r.length,o.length)}(e.mapValue,t.mapValue);default:throw fh()}}function Ed(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ph(e,t);const n=fd(e),r=fd(t),i=Ph(n.seconds,r.seconds);return 0!==i?i:Ph(n.nanos,r.nanos)}function Td(e){return Id(e)}function Id(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return md(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Id(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Id(e.fields[i]));return n+"}"}(e.mapValue):fh()}function Pd(e){return!!e&&"integerValue"in e}function Rd(e){return!!e&&"arrayValue"in e}function Ad(e){return!!e&&"nullValue"in e}function Nd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dd(e){return!!e&&"mapValue"in e}function Od(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Od(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Od(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Md(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ld{constructor(e){this.value=e}static empty(){return new Ld({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(t)}setAll(e){let t=Lh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Od(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ld(Od(this.value))}}function Fd(e){const t=[];return nd(e.fields,((e,n)=>{const r=new Lh([e]);if(Dd(n)){const e=Fd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new cd(t)}class jd{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new jd(e,0,Nh.min(),Nh.min(),Nh.min(),Ld.empty(),0)}static newFoundDocument(e,t,n,r){return new jd(e,1,t,Nh.min(),n,r,0)}static newNoDocument(e,t){return new jd(e,2,t,Nh.min(),Nh.min(),Ld.empty(),0)}static newUnknownDocument(e,t){return new jd(e,3,t,Nh.min(),Nh.min(),Ld.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ld.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ld.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class zd{constructor(e,t){this.position=e,this.inclusive=t}}function Vd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Fh.comparator(Fh.fromName(s.referenceValue),n.key):Cd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ud(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kd(e.position[n],t.position[n]))return!1;return!0}class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wd{}class Hd extends Wd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zd(e,t,n):"array-contains"===t?new rf(e,n):"in"===t?new of(e,n):"not-in"===t?new sf(e,n):"array-contains-any"===t?new af(e,n):new Hd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ef(e,n):new tf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cd(t,this.value)):null!==t&&Sd(this.value)===Sd(t)&&this.matchesComparison(Cd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kd extends Wd{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Kd(e,t)}matches(e){return Gd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gd(e){return"and"===e.op}function Qd(e){return $d(e)&&Gd(e)}function $d(e){for(const t of e.filters)if(t instanceof Kd)return!1;return!0}function Yd(e){if(e instanceof Hd)return e.field.canonicalString()+e.op.toString()+Td(e.value);if(Qd(e))return e.filters.map((e=>Yd(e))).join(",");{const t=e.filters.map((e=>Yd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Xd(e,t){return e instanceof Hd?function(e,t){return t instanceof Hd&&e.op===t.op&&e.field.isEqual(t.field)&&kd(e.value,t.value)}(e,t):e instanceof Kd?function(e,t){return t instanceof Kd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Xd(n,t.filters[r])),!0)}(e,t):void fh()}function Jd(e){return e instanceof Hd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Td(e.value))}(e):e instanceof Kd?function(e){return e.op.toString()+" {"+e.getFilters().map(Jd).join(" ,")+"}"}(e):"Filter"}class Zd extends Hd{constructor(e,t,n){super(e,t,n),this.key=Fh.fromName(n.referenceValue)}matches(e){const t=Fh.comparator(e.key,this.key);return this.matchesComparison(t)}}class ef extends Hd{constructor(e,t){super(e,"in",t),this.keys=nf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tf extends Hd{constructor(e,t){super(e,"not-in",t),this.keys=nf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fh.fromName(e.referenceValue)))}class rf extends Hd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rd(t)&&xd(t.arrayValue,this.value)}}class of extends Hd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xd(this.value.arrayValue,t)}}class sf extends Hd{constructor(e,t){super(e,"not-in",t)}matches(e){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xd(this.value.arrayValue,t)}}class af extends Hd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xd(this.value.arrayValue,e)))}}class lf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function cf(e){return new lf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function uf(e){const t=mh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Yd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$h(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Td(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Td(e))).join(",")),t.ce=e}return t.ce}function hf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ud(e.startAt,t.startAt)&&Ud(e.endAt,t.endAt)}function df(e){return Fh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ff{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function pf(e,t,n,r,i,o,s,a){return new ff(e,t,n,r,i,o,s,a)}function mf(e){return new ff(e)}function gf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vf(e){return null!==e.collectionGroup}function yf(e){const t=mh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ad(Lh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Bd(r,n))})),e.has(Lh.keyField().canonicalString())||t.le.push(new Bd(Lh.keyField(),n))}return t.le}function bf(e){const t=mh(e);return t.he||(t.he=_f(t,yf(e))),t.he}function _f(e,t){if("F"===e.limitType)return cf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Bd(e.field,t)}));const n=e.endAt?new zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zd(e.startAt.position,e.startAt.inclusive):null;return cf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wf(e,t,n){return new ff(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sf(e,t){return hf(bf(e),bf(t))&&e.limitType===t.limitType}function kf(e){return"".concat(uf(bf(e)),"|lt:").concat(e.limitType)}function xf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Jd(e))).join(", "),"]")),$h(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Td(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Td(e))).join(",")),"Target(".concat(t,")")}(bf(e)),"; limitType=").concat(e.limitType,")")}function Cf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yf(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yf(e),t))}(e,t)}function Ef(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tf(e){return(t,n)=>{let r=!1;for(const i of yf(e)){const e=If(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function If(e,t,n){const r=e.field.isKeyField()?Fh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cd(r,i):fh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fh()}}class Pf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rd(this.inner)}size(){return this.innerSize}}const Rf=new id(Fh.comparator);function Af(){return Rf}const Nf=new id(Fh.comparator);function Df(){let e=Nf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Of(e){let t=Nf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Mf(){return Ff()}function Lf(){return Ff()}function Ff(){return new Pf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jf=new id(Fh.comparator),zf=new ad(Fh.comparator);function Vf(){let e=zf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Uf=new ad(Ph);function Bf(){return Uf}function qf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(t)?"-0":t}}function Wf(e){return{integerValue:""+e}}function Hf(e,t){return Xh(t)?Wf(t):qf(e,t)}class Kf{constructor(){this._=void 0}}function Gf(e,t,n){return e instanceof Yf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gd(t)&&(t=vd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xf?Jf(e,t):e instanceof Zf?ep(e,t):function(e,t){const n=$f(e,t),r=np(n)+np(e.Ie);return Pd(n)&&Pd(e.Ie)?Wf(r):qf(e.serializer,r)}(e,t)}function Qf(e,t,n){return e instanceof Xf?Jf(e,t):e instanceof Zf?ep(e,t):n}function $f(e,t){return e instanceof tp?function(e){return Pd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Yf extends Kf{}class Xf extends Kf{constructor(e){super(),this.elements=e}}function Jf(e,t){const n=rp(t);for(const r of e.elements)n.some((e=>kd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zf extends Kf{constructor(e){super(),this.elements=e}}function ep(e,t){let n=rp(t);for(const r of e.elements)n=n.filter((e=>!kd(e,r)));return{arrayValue:{values:n}}}class tp extends Kf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function np(e){return pd(e.integerValue||e.doubleValue)}function rp(e){return Rd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ip{constructor(e,t){this.version=e,this.transformResults=t}}class op{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new op}static exists(e){return new op(void 0,e)}static updateTime(e){return new op(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ap{}function lp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yp(e.key,op.none()):new fp(e.key,e.data,op.none());{const n=e.data,r=Ld.empty();let i=new ad(Lh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new pp(e.key,r,new cd(i.toArray()),op.none())}}function cp(e,t,n){e instanceof fp?function(e,t,n){const r=e.value.clone(),i=gp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pp?function(e,t,n){if(!sp(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=gp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function up(e,t,n,r){return e instanceof fp?function(e,t,n,r){if(!sp(e.precondition,t))return n;const i=e.value.clone(),o=vp(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pp?function(e,t,n,r){if(!sp(e.precondition,t))return n;const i=vp(e.fieldTransforms,r,t),o=t.data;return o.setAll(mp(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return sp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$f(r.transform,e||null);null!=i&&(null===n&&(n=Ld.empty()),n.set(r.field,i))}return n||null}function dp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xf&&t instanceof Xf||e instanceof Zf&&t instanceof Zf?Rh(e.elements,t.elements,kd):e instanceof tp&&t instanceof tp?kd(e.Ie,t.Ie):e instanceof Yf&&t instanceof Yf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fp extends ap{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pp extends ap{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function gp(e,t,n){const r=new Map;ph(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Qf(s,a,n[i]))}return r}function vp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Gf(e,o,t))}return r}class yp extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bp extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _p{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=up(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=up(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lf();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=lp(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Nh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vf())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,((e,t)=>dp(e,t)))&&Rh(this.baseMutations,e.baseMutations,((e,t)=>dp(e,t)))}}class wp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ph(e.mutations.length===n.length);let r=jf;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new wp(e,t,n,r)}}class Sp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class kp{constructor(e,t){this.count=e,this.unchangedNames=t}}var xp,Cp;function Ep(e){switch(e){default:return fh();case gh.CANCELLED:case gh.UNKNOWN:case gh.DEADLINE_EXCEEDED:case gh.RESOURCE_EXHAUSTED:case gh.INTERNAL:case gh.UNAVAILABLE:case gh.UNAUTHENTICATED:return!1;case gh.INVALID_ARGUMENT:case gh.NOT_FOUND:case gh.ALREADY_EXISTS:case gh.PERMISSION_DENIED:case gh.FAILED_PRECONDITION:case gh.ABORTED:case gh.OUT_OF_RANGE:case gh.UNIMPLEMENTED:case gh.DATA_LOSS:return!0}}function Tp(e){if(void 0===e)return uh("GRPC error has no .code"),gh.UNKNOWN;switch(e){case xp.OK:return gh.OK;case xp.CANCELLED:return gh.CANCELLED;case xp.UNKNOWN:return gh.UNKNOWN;case xp.DEADLINE_EXCEEDED:return gh.DEADLINE_EXCEEDED;case xp.RESOURCE_EXHAUSTED:return gh.RESOURCE_EXHAUSTED;case xp.INTERNAL:return gh.INTERNAL;case xp.UNAVAILABLE:return gh.UNAVAILABLE;case xp.UNAUTHENTICATED:return gh.UNAUTHENTICATED;case xp.INVALID_ARGUMENT:return gh.INVALID_ARGUMENT;case xp.NOT_FOUND:return gh.NOT_FOUND;case xp.ALREADY_EXISTS:return gh.ALREADY_EXISTS;case xp.PERMISSION_DENIED:return gh.PERMISSION_DENIED;case xp.FAILED_PRECONDITION:return gh.FAILED_PRECONDITION;case xp.ABORTED:return gh.ABORTED;case xp.OUT_OF_RANGE:return gh.OUT_OF_RANGE;case xp.UNIMPLEMENTED:return gh.UNIMPLEMENTED;case xp.DATA_LOSS:return gh.DATA_LOSS;default:return fh()}}(Cp=xp||(xp={}))[Cp.OK=0]="OK",Cp[Cp.CANCELLED=1]="CANCELLED",Cp[Cp.UNKNOWN=2]="UNKNOWN",Cp[Cp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cp[Cp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cp[Cp.NOT_FOUND=5]="NOT_FOUND",Cp[Cp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cp[Cp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cp[Cp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cp[Cp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cp[Cp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cp[Cp.ABORTED=10]="ABORTED",Cp[Cp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cp[Cp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cp[Cp.INTERNAL=13]="INTERNAL",Cp[Cp.UNAVAILABLE=14]="UNAVAILABLE",Cp[Cp.DATA_LOSS=15]="DATA_LOSS";let Ip=null;function Pp(){return new TextEncoder}const Rp=new rh([4294967295,4294967295],0);function Ap(e){const t=Pp().encode(e),n=new nh;return n.update(t),new Uint8Array(n.digest())}function Np(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new rh([n,r],0),new rh([i,o],0)]}class Dp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Op("Invalid padding: ".concat(t));if(n<0)throw new Op("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Op("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Op("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=rh.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(rh.fromNumber(n)));return 1===r.compare(Rp)&&(r=new rh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ap(e),[n,r]=Np(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Dp(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Ap(e),[n,r]=Np(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Lp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Mp(Nh.min(),r,new id(Ph),Af(),Vf())}}class Lp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lp(n,t,Vf(),Vf(),Vf())}}class Fp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class jp{constructor(e,t){this.targetId=e,this.fe=t}}class zp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Vp{constructor(){this.ge=0,this.pe=qp(),this.ye=hd.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Vf(),t=Vf(),n=Vf();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fh()}})),new Lp(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=qp()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ph(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Up{constructor(e){this.Le=e,this.ke=new Map,this.qe=Af(),this.Qe=Bp(),this.Ke=new id(Ph)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:fh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(df(i))if(0===n){const e=new Fh(i.path);this.We(t,e,jd.newNoDocument(e,Nh.min()))}else ph(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ip||Ip.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=md(n).toUint8Array()}catch(e){if(e instanceof ud)return hh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Dp(o,r,i)}catch(e){return hh(e instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&df(i.target)){const t=new Fh(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,jd.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Vf();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Mp(e,t,this.Ke,this.qe,n);return this.qe=Af(),this.Qe=Bp(),this.Ke=new id(Ph),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Vp,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new ad(Ph),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ch("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Vp),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bp(){return new id(Fh.comparator)}function qp(){return new id(Fh.comparator)}const Wp={asc:"ASCENDING",desc:"DESCENDING"},Hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kp={and:"AND",or:"OR"};class Gp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(e,t){return e.useProto3Json||$h(t)?t:{value:t}}function $p(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xp(e,t){return $p(e,t.toTimestamp())}function Jp(e){return ph(!!e),Nh.fromTimestamp(function(e){const t=fd(e);return new Ah(t.seconds,t.nanos)}(e))}function Zp(e,t){return function(e){return new Oh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function em(e){const t=Oh.fromString(e);return ph(_m(t)),t}function tm(e,t){return Zp(e.databaseId,t.path)}function nm(e,t){const n=em(t);if(n.get(1)!==e.databaseId.projectId)throw new vh(gh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vh(gh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fh(sm(n))}function rm(e,t){return Zp(e.databaseId,t)}function im(e){const t=em(e);return 4===t.length?Oh.emptyPath():sm(t)}function om(e){return new Oh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sm(e){return ph(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function am(e,t,n){return{name:tm(e,t),fields:n.value.mapValue.fields}}function lm(e,t){let n;if(t instanceof fp)n={update:am(e,t.key,t.value)};else if(t instanceof yp)n={delete:tm(e,t.key)};else if(t instanceof pp)n={update:am(e,t.key,t.data),updateMask:bm(t.fieldMask)};else{if(!(t instanceof bp))return fh();n={verify:tm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw fh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fh()}(e,t.precondition)),n}function cm(e,t){return{documents:[rm(e,t.path)]}}function um(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return ym(Kd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:gm(e.field),direction:fm(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Qp(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hm(e){let t=im(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ph(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=dm(e);return t instanceof Kd&&Qd(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Bd(vm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$h(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zd(n,t)}(n.endAt)),pf(t,i,s,o,a,"F",l,c)}function dm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vm(e.unaryFilter.field);return Hd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vm(e.unaryFilter.field);return Hd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vm(e.unaryFilter.field);return Hd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vm(e.unaryFilter.field);return Hd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fh()}}(e):void 0!==e.fieldFilter?function(e){return Hd.create(vm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Kd.create(e.compositeFilter.filters.map((e=>dm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fh()}}(e.compositeFilter.op))}(e):fh()}function fm(e){return Wp[e]}function pm(e){return Hp[e]}function mm(e){return Kp[e]}function gm(e){return{fieldPath:e.canonicalString()}}function vm(e){return Lh.fromServerFormat(e.fieldPath)}function ym(e){return e instanceof Hd?function(e){if("=="===e.op){if(Nd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NAN"}};if(Ad(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NAN"}};if(Ad(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gm(e.field),op:pm(e.op),value:e.value}}}(e):e instanceof Kd?function(e){const t=e.getFilters().map((e=>ym(e)));return 1===t.length?t[0]:{compositeFilter:{op:mm(e.op),filters:t}}}(e):fh()}function bm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _m(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class wm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new wm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sm{constructor(e){this.ut=e}}function km(e){const t=hm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wf(t,t.limit,"L"):t}class xm{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(pd(e.integerValue));else if("doubleValue"in e){const n=pd(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Yh(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(md(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Md(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):fh()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Fh.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}xm.St=new xm;class Cm{constructor(){this.on=new Em}addToCollectionParentIndex(e,t){return this.on.add(t),Kh.resolve()}getCollectionParents(e,t){return Kh.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Kh.resolve()}deleteFieldIndex(e,t){return Kh.resolve()}deleteAllFieldIndexes(e){return Kh.resolve()}createTargetIndexes(e,t){return Kh.resolve()}getDocumentsMatchingTarget(e,t){return Kh.resolve(null)}getIndexType(e,t){return Kh.resolve(0)}getFieldIndexes(e,t){return Kh.resolve([])}getNextCollectionGroupToUpdate(e){return Kh.resolve(null)}getMinOffset(e,t){return Kh.resolve(Uh.min())}getMinOffsetFromCollectionGroup(e,t){return Kh.resolve(Uh.min())}updateCollectionGroup(e,t,n){return Kh.resolve()}updateIndexEntries(e,t){return Kh.resolve()}}class Em{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ad(Oh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ad(Oh.comparator)).toArray()}}new Uint8Array(0);class Tm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Tm(e,Tm.DEFAULT_COLLECTION_PERCENTILE,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tm.DEFAULT_COLLECTION_PERCENTILE=10,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tm.DEFAULT=new Tm(41943040,Tm.DEFAULT_COLLECTION_PERCENTILE,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tm.DISABLED=new Tm(-1,0,0);class Im{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Im(0)}static Nn(){return new Im(-1)}}class Pm{constructor(){this.changes=new Pf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Kh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Am{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&up(n.mutation,e,cd.empty(),Ah.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Vf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vf();const r=Mf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Df();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Mf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Af();const o=Ff(),s=Ff();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof pp)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),up(s.mutation,t,s.mutation.getFieldMask(),Ah.now())):o.set(t.key,cd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Rm(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ff();let r=new id(((e,t)=>e-t)),i=Vf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||cd.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Vf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Lf();l.forEach((e=>{if(!i.has(e)){const r=lp(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Kh.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Kh.resolve(Mf());let s=-1,a=i;return o.next((t=>Kh.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Kh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Vf()))).next((e=>({batchId:s,changes:Of(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fh(t)).next((e=>{let t=Df();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Df();return this.indexManager.getCollectionParents(e,i).next((s=>Kh.forEach(s,(s=>{const a=function(e,t){return new ff(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jd.newInvalidDocument(r)))}));let n=Df();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&up(o.mutation,r,cd.empty(),Ah.now()),Cf(t,r)&&(n=n.insert(e,r))})),n}))}}class Nm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Kh.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jp(e.createTime)}}(t)),Kh.resolve()}getNamedQuery(e,t){return Kh.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:km(e.bundledQuery),readTime:Jp(e.readTime)}}(t)),Kh.resolve()}}class Dm{constructor(){this.overlays=new id(Fh.comparator),this.lr=new Map}getOverlay(e,t){return Kh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mf();return Kh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Kh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Kh.resolve()}getOverlaysForCollection(e,t,n){const r=Mf(),i=t.length+1,o=new Fh(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Kh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new id(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Mf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Mf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Kh.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sp(t,n));let i=this.lr.get(t);void 0===i&&(i=Vf(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Om{constructor(){this.hr=new ad(Mm.Pr),this.Ir=new ad(Mm.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Mm(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Mm(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Fh(new Oh([])),n=new Mm(t,e),r=new Mm(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Fh(new Oh([])),n=new Mm(t,e),r=new Mm(t,e+1);let i=Vf();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Mm(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Mm{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Fh.comparator(e.key,t.key)||Ph(e.gr,t.gr)}static Tr(e,t){return Ph(e.gr,t.gr)||Fh.comparator(e.key,t.key)}}class Lm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ad(Mm.Pr)}checkEmpty(e){return Kh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _p(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new Mm(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Kh.resolve(o)}lookupMutationBatch(e,t){return Kh.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Kh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Kh.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Kh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mm(t,0),r=new Mm(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Kh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ad(Ph);return t.forEach((e=>{const t=new Mm(e,0),r=new Mm(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Kh.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fh.isDocumentKey(i)||(i=i.child(""));const o=new Mm(new Fh(i),0);let s=new ad(Ph);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Kh.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ph(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Kh.forEach(t.mutations,(r=>{const i=new Mm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Mm(t,0),r=this.yr.firstAfterOrEqual(n);return Kh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Kh.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fm{constructor(e){this.Cr=e,this.docs=new id(Fh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Kh.resolve(n?n.document.mutableCopy():jd.newInvalidDocument(t))}getEntries(e,t){let n=Af();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jd.newInvalidDocument(e))})),Kh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Af();const o=t.path,s=new Fh(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Bh(Vh(s),n)<=0||(r.has(s.key)||Cf(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Kh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fh()}vr(e,t){return Kh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jm(this)}getSize(e){return Kh.resolve(this.size)}}class jm extends Pm{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Kh.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class zm{constructor(e){this.persistence=e,this.Fr=new Pf((e=>uf(e)),hf),this.lastRemoteSnapshotVersion=Nh.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Om,this.targetCount=0,this.Nr=Im.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Kh.resolve()}getLastRemoteSnapshotVersion(e){return Kh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Kh.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Kh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Kh.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Im(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Kh.resolve()}updateTargetData(e,t){return this.kn(t),Kh.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Kh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Kh.waitFor(i).next((()=>r))}getTargetCount(e){return Kh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Kh.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Kh.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Kh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Kh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Kh.resolve(n)}containsKey(e,t){return Kh.resolve(this.Or.containsKey(t))}}class Vm{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Qh(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zm(this),this.indexManager=new Cm,this.remoteDocumentCache=function(e){return new Fm(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Sm(t),this.Kr=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Lm(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){ch("MemoryPersistence","Starting transaction:",e);const r=new Um(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Kh.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Um extends Wh{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Gr=new Om,this.zr=null}static jr(e){return new Bm(e)}get Hr(){if(this.zr)return this.zr;throw fh()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Kh.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Kh.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Kh.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kh.forEach(this.Hr,(n=>{const r=Fh.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Nh.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Kh.or([()=>Kh.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class qm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Vf(),r=Vf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qm(e,t.fromCache,n,r)}}class Wm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hm{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Wm;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(lh()<=Z.DEBUG&&ch("QueryEngine","SDK will not create cache indexes for query:",xf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Kh.resolve()):(lh()<=Z.DEBUG&&ch("QueryEngine","Query:",xf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(lh()<=Z.DEBUG&&ch("QueryEngine","The SDK decides to create cache indexes for query:",xf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bf(t))):Kh.resolve())}zi(e,t){if(gf(t))return Kh.resolve(null);let n=bf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=wf(t,null,"F"),n=bf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Vf(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,wf(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return gf(t)||r.isEqual(Nh.min())?Kh.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Kh.resolve(null):(lh()<=Z.DEBUG&&ch("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xf(t)),this.Xi(e,o,t,zh(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new ad(Tf(e));return t.forEach(((t,r)=>{Cf(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return lh()<=Z.DEBUG&&ch("QueryEngine","Using full collection scan to execute query:",xf(t)),this.Gi.getDocumentsMatchingQuery(e,t,Uh.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Km{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new id(Ph),this.ns=new Pf((e=>uf(e)),hf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Am(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Gm(e,t,n,r){return new Km(e,t,n,r)}async function Qm(e,t){const n=mh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Vf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function $m(e){const t=mh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Ym(e,t,n){let r=Vf(),i=Vf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Af();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Nh.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ch("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function Xm(e,t){const n=mh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Jm(e,t){const n=mh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Kh.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new wm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Zm(e,t,n){const r=mh(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Gh(e))throw e;ch("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function eg(e,t,n){const r=mh(e);let i=Nh.min(),o=Vf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=mh(e),i=r.ns.get(n);return void 0!==i?Kh.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,bf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Nh.min(),n?o:Vf()))).next((e=>(tg(r,Ef(t),e),{documents:e,ls:o})))))}function tg(e,t,n){let r=e.rs.get(t)||Nh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}class ng{constructor(){this.activeTargetIds=Bf()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rg{constructor(){this.eo=new ng,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ng,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ig{ro(e){}shutdown(){}}class og{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ch("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ch("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sg=null;function ag(){return null===sg?sg=268435456+Math.round(2147483648*Math.random()):sg++,"0x"+sg.toString(16)}const lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ug="WebChannelConnection";class hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=ag(),s=this.So(e,t);ch("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(ch("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw hh("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=lg[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=ag();return new Promise(((o,s)=>{const a=new th;a.setWithCredentials(!0),a.listenOnce(Xu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Yu.NO_ERROR:const t=a.getResponseJson();ch(ug,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Yu.TIMEOUT:ch(ug,"RPC '".concat(e,"' ").concat(i," timed out")),s(new vh(gh.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const n=a.getStatus();if(ch(ug,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gh).indexOf(t)>=0?t:gh.UNKNOWN}(t.status);s(new vh(e,t.message))}else s(new vh(gh.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new vh(gh.UNAVAILABLE,"Connection failed."));break;default:fh()}}finally{ch(ug,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ch(ug,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=ag(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qu(),s=$u(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ch(ug,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new cg({co:t=>{d?ch(ug,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ch(ug,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ch(ug,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,eh.EventType.OPEN,(()=>{d||ch(ug,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,eh.EventType.CLOSE,(()=>{d||(d=!0,ch(ug,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,eh.EventType.ERROR,(t=>{d||(d=!0,hh(ug,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new vh(gh.UNAVAILABLE,"The operation could not be completed")))})),p(u,eh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ph(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ch(ug,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=xp[e];if(void 0!==t)return Tp(t)}(t),i=s.message;void 0===n&&(n=gh.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ro(new vh(n,i)),u.close()}else ch(ug,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,Ju.STAT_EVENT,(t=>{t.stat===Zu.PROXY?ch(ug,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zu.NOPROXY&&ch(ug,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function dg(){return"undefined"!=typeof document?document:null}function fg(e){return new Gp(e,!0)}class pg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&ch("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class mg{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new pg(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===gh.RESOURCE_EXHAUSTED?(uh(t.toString()),uh("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===gh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new vh(gh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return ch("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(ch("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gg extends mg{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ph(void 0===t||"string"==typeof t),hd.fromBase64String(t||"")):(ph(void 0===t||t instanceof Uint8Array),hd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?gh.UNKNOWN:Tp(e.code);return new vh(t,e.message||"")}(s);n=new zp(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nm(e,r.document.name),o=Jp(r.document.updateTime),s=r.document.createTime?Jp(r.document.createTime):Nh.min(),a=new Ld({mapValue:{fields:r.document.fields}}),l=jd.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nm(e,r.document),o=r.readTime?Jp(r.readTime):Nh.min(),s=jd.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Fp([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nm(e,r.document),o=r.removedTargetIds||[];n=new Fp([],o,i,null)}else{if(!("filter"in t))return fh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new kp(r,i),s=e.targetId;n=new jp(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nh.min():t.readTime?Jp(t.readTime):Nh.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=om(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=df(r)?{documents:cm(e,r)}:{query:um(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yp(e,t.resumeToken);const r=Qp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Nh.min())>0){n.readTime=$p(e,t.snapshotVersion.toTimestamp());const r=Qp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.e_(t)}}class vg extends mg{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ph(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(ph(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Jp(e.updateTime):Jp(t);return n.isEqual(Nh.min())&&(n=Jp(t)),new ip(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Jp(e.commitTime);return this.listener.I_(n,t)}return ph(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=om(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>lm(this.serializer,e)))};this.e_(t)}}class yg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new vh(gh.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vh(gh.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vh(gh.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(uh(t),this.f_=!1):ch("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class _g{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{Pg(this)&&(ch("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=mh(e);t.C_.add(4),await Sg(t),t.M_.set("Unknown"),t.C_.delete(4),await wg(t)}(this))}))})),this.M_=new bg(n,r)}}async function wg(e){if(Pg(e))for(const t of e.v_)await t(!0)}async function Sg(e){for(const t of e.v_)await t(!1)}function kg(e,t){const n=mh(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Ig(n)?Tg(n):Gg(n).Ho()&&Cg(n,t))}function xg(e,t){const n=mh(e),r=Gg(n);n.D_.delete(t),r.Ho()&&Eg(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Pg(n)&&n.M_.set("Unknown"))}function Cg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gg(e).u_(t)}function Eg(e,t){e.x_.Oe(t),Gg(e).c_(t)}function Tg(e){e.x_=new Up({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Gg(e).start(),e.M_.g_()}function Ig(e){return Pg(e)&&!Gg(e).jo()&&e.D_.size>0}function Pg(e){return 0===mh(e).C_.size}function Rg(e){e.x_=void 0}async function Ag(e){e.D_.forEach(((t,n)=>{Cg(e,t)}))}async function Ng(e,t){Rg(e),Ig(e)?(e.M_.w_(t),Tg(e)):e.M_.set("Unknown")}async function Dg(e,t,n){if(e.M_.set("Online"),t instanceof zp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){ch("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Og(e,n)}else if(t instanceof Fp?e.x_.$e(t):t instanceof jp?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Nh.min()))try{const t=await $m(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(hd.EMPTY_BYTE_STRING,r.snapshotVersion)),Eg(e,t);const i=new wm(r.target,t,n,r.sequenceNumber);Cg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ch("RemoteStore","Failed to raise snapshot:",t),await Og(e,t)}}async function Og(e,t,n){if(!Gh(t))throw t;e.C_.add(1),await Sg(e),e.M_.set("Offline"),n||(n=()=>$m(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ch("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await wg(e)}))}function Mg(e,t){return t().catch((n=>Og(e,n,t)))}async function Lg(e){const t=mh(e),n=Qg(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Fg(t);)try{const e=await Xm(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,jg(t,e)}catch(e){await Og(t,e)}zg(t)&&Vg(t)}function Fg(e){return Pg(e)&&e.b_.length<10}function jg(e,t){e.b_.push(t);const n=Qg(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function zg(e){return Pg(e)&&!Qg(e).jo()&&e.b_.length>0}function Vg(e){Qg(e).start()}async function Ug(e){Qg(e).E_()}async function Bg(e){const t=Qg(e);for(const n of e.b_)t.P_(n.mutations)}async function qg(e,t,n){const r=e.b_.shift(),i=wp.from(r,t,n);await Mg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Lg(e)}async function Wg(e,t){t&&Qg(e).h_&&await async function(e,t){if(function(e){return Ep(e)&&e!==gh.ABORTED}(t.code)){const n=e.b_.shift();Qg(e).Yo(),await Mg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Lg(e)}}(e,t),zg(e)&&Vg(e)}async function Hg(e,t){const n=mh(e);n.asyncQueue.verifyOperationInProgress(),ch("RemoteStore","RemoteStore received new credentials");const r=Pg(n);n.C_.add(3),await Sg(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await wg(n)}async function Kg(e,t){const n=mh(e);t?(n.C_.delete(2),await wg(n)):t||(n.C_.add(2),await Sg(n),n.M_.set("Unknown"))}function Gg(e){return e.O_||(e.O_=function(e,t,n){const r=mh(e);return r.A_(),new gg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Ag.bind(null,e),Io:Ng.bind(null,e),a_:Dg.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Ig(e)?Tg(e):e.M_.set("Unknown")):(await e.O_.stop(),Rg(e))}))),e.O_}function Qg(e){return e.N_||(e.N_=function(e,t,n){const r=mh(e);return r.A_(),new vg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Ug.bind(null,e),Io:Wg.bind(null,e),T_:Bg.bind(null,e),I_:qg.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await Lg(e)):(await e.N_.stop(),e.b_.length>0&&(ch("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class $g{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new $g(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vh(gh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(e,t){if(uh("AsyncQueue","".concat(t,": ").concat(e)),Gh(e))return new vh(gh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Xg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fh.comparator(t.key,n.key):(e,t)=>Fh.comparator(e.key,t.key),this.keyedMap=Df(),this.sortedSet=new id(this.comparator)}static emptySet(e){return new Xg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Xg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Jg{constructor(){this.B_=new id(Fh.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):fh():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Zg{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Zg(e,t,Xg.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ev{constructor(){this.k_=void 0,this.listeners=[]}}class tv{constructor(){this.queries=new Pf((e=>kf(e)),Sf),this.onlineState="Unknown",this.q_=new Set}}async function nv(e,t){const n=mh(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ev),i)try{o.k_=await n.onListen(r)}catch(e){const n=Yg(e,"Initialization of query '".concat(xf(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&sv(n)}async function rv(e,t){const n=mh(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iv(e,t){const n=mh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&sv(n)}function ov(e,t,n){const r=mh(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function sv(e){e.q_.forEach((e=>{e.next()}))}class av{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class lv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class uv{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vf(),this.mutatedKeys=Vf(),this._a=Tf(e),this.aa=new Xg(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Jg,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Cf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fh()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Zg(this.query,e.aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Jg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Vf(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new cv(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new lv(n))})),t}da(e){this.ia=e.ls,this.oa=Vf();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Zg.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dv{constructor(e){this.key=e,this.Ra=!1}}class fv{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Pf((e=>kf(e)),Sf),this.fa=new Map,this.ga=new Set,this.pa=new id(Fh.comparator),this.ya=new Map,this.wa=new Om,this.Sa={},this.ba=new Map,this.Da=Im.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function pv(e,t){const n=Nv(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Jm(n.localStore,bf(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await mv(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&kg(n.remoteStore,e)}return i}async function mv(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await eg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Ev(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await eg(e.localStore,t,!0),s=new uv(t,o.ls),a=s.ca(o.documents),l=Lp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);Ev(e,n,c.Ta);const u=new hv(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function gv(e,t){const n=mh(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Sf(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),xg(n.remoteStore,r.targetId),xv(n,r.targetId)})).catch(Hh)):(xv(n,r.targetId),await Zm(n.localStore,r.targetId,!0))}async function vv(e,t){const n=mh(e);try{const e=await function(e,t){const n=mh(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(hd.EMPTY_BYTE_STRING,Nh.min()).withLastLimboFreeSnapshotVersion(Nh.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=Af(),l=Vf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ym(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Nh.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Kh.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(ph(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?ph(r.Ra):e.removedDocuments.size>0&&(ph(r.Ra),r.Ra=!1))})),await Pv(n,e,t)}catch(e){await Hh(e)}}function yv(e,t,n){const r=mh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=mh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&sv(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bv(e,t,n){const r=mh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new id(Fh.comparator);e=e.insert(o,jd.newNoDocument(o,Nh.min()));const n=Vf().add(o),i=new Mp(Nh.min(),new Map,new id(Ph),e,n);await vv(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),Iv(r)}else await Zm(r.localStore,t,!1).then((()=>xv(r,t,n))).catch(Hh)}async function _v(e,t){const n=mh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Kh.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ph(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kv(n,r,null),Sv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pv(n,e)}catch(e){await Hh(e)}}async function wv(e,t,n){const r=mh(e);try{const e=await function(e,t){const n=mh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ph(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kv(r,t,n),Sv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pv(r,e)}catch(n){await Hh(n)}}function Sv(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function kv(e,t,n){const r=mh(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function xv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||Cv(e,t)}))}function Cv(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(xg(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Iv(e))}function Ev(e,t,n){for(const r of n)r instanceof lv?(e.wa.addReference(r.key,t),Tv(e,r)):r instanceof cv?(ch("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Cv(e,r.key)):fh()}function Tv(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(ch("SyncEngine","New document in limbo: "+n),e.ga.add(r),Iv(e))}function Iv(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Fh(Oh.fromString(t)),r=e.Da.next();e.ya.set(r,new dv(n)),e.pa=e.pa.insert(n,r),kg(e.remoteStore,new wm(bf(mf(n.path)),r,"TargetPurposeLimboResolution",Qh._e))}}async function Pv(e,t,n){const r=mh(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=qm.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=mh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Kh.forEach(t,(t=>Kh.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Kh.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Gh(e))throw e;ch("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function Rv(e,t){const n=mh(e);if(!n.currentUser.isEqual(t)){ch("SyncEngine","User change. New user:",t.toKey());const e=await Qm(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new vh(gh.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pv(n,e._s)}}function Av(e,t){const n=mh(e),r=n.ya.get(t);if(r&&r.Ra)return Vf().add(r.key);{let e=Vf();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}function Nv(e){const t=mh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Av.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bv.bind(null,t),t.Va.a_=iv.bind(null,t.eventManager),t.Va.Fa=ov.bind(null,t.eventManager),t}function Dv(e){const t=mh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_v.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wv.bind(null,t),t}class Ov{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gm(this.persistence,new Hm,e.initialUser,this.serializer)}createPersistence(e){return new Vm(Bm.jr,this.serializer)}createSharedClientState(e){return new rg}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rv.bind(null,this.syncEngine),await Kg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tv}createDatastore(e){const t=fg(e.databaseInfo.databaseId),n=function(e){return new hg(e)}(e.databaseInfo);return function(e,t,n,r){return new yg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _g(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yv(this.syncEngine,e,0)),og.D()?new og:new ig)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new fv(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=mh(e);ch("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Sg(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class Lv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):uh("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Fv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=oh.UNAUTHENTICATED,this.clientId=Ih.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ch("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ch("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vh(gh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(zS){const n=Yg(zS,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jv(e,t){e.asyncQueue.verifyOperationInProgress(),ch("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Qm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function zv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uv(e);ch("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Hg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Hg(t.remoteStore,n))),e._onlineComponents=t}function Vv(e){return"FirebaseError"===e.name?e.code===gh.FAILED_PRECONDITION||e.code===gh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Uv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ch("FirestoreClient","Using user provided OfflineComponentProvider");try{await jv(e,e._uninitializedComponentsProvider._offline)}catch(zS){const n=zS;if(!Vv(n))throw n;hh("Error using user provided cache. Falling back to memory cache: "+n),await jv(e,new Ov)}}else ch("FirestoreClient","Using default OfflineComponentProvider"),await jv(e,new Ov);return e._offlineComponents}async function Bv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ch("FirestoreClient","Using user provided OnlineComponentProvider"),await zv(e,e._uninitializedComponentsProvider._online)):(ch("FirestoreClient","Using default OnlineComponentProvider"),await zv(e,new Mv))),e._onlineComponents}function qv(e){return Bv(e).then((e=>e.syncEngine))}async function Wv(e){const t=await Bv(e),n=t.eventManager;return n.onListen=pv.bind(null,t.syncEngine),n.onUnlisten=gv.bind(null,t.syncEngine),n}function Hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lv({next:o=>{t.enqueueAndForget((()=>rv(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new vh(gh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new vh(gh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new av(mf(n.path),o,{includeMetadataChanges:!0,J_:!0});return nv(e,s)}(await Wv(e),e.asyncQueue,t,n,r))),r.promise}function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lv({next:n=>{t.enqueueAndForget((()=>rv(e,s))),n.fromCache&&"server"===r.source?i.reject(new vh(gh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new av(n,o,{includeMetadataChanges:!0,J_:!0});return nv(e,s)}(await Wv(e),e.asyncQueue,t,n,r))),r.promise}function Gv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qv=new Map;function $v(e,t,n){if(!n)throw new vh(gh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yv(e){if(!Fh.isDocumentKey(e))throw new vh(gh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xv(e){if(Fh.isDocumentKey(e))throw new vh(gh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fh()}function Zv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vh(gh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jv(e);throw new vh(gh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class ey{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vh(gh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vh(gh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vh(gh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vh(gh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vh(gh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vh(gh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vh(gh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vh(gh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _h;switch(e.type){case"firstParty":return new xh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vh(gh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qv.get(e);t&&(ch("ComponentProvider","Removing Datastore"),Qv.delete(e),t.terminate())}(this),Promise.resolve()}}class ny{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ny(this.firestore,e,this._query)}}class ry{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ry(this.firestore,e,this._key)}}class iy extends ny{constructor(e,t,n){super(e,t,mf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ry(this.firestore,null,new Fh(e))}withConverter(e){return new iy(this.firestore,e,this._path)}}function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),$v("collection","path",t),e instanceof ty){const n=Oh.fromString(t,...r);return Xv(n),new iy(e,null,n)}{if(!(e instanceof ry||e instanceof iy))throw new vh(gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Oh.fromString(t,...r));return Xv(n),new iy(e.firestore,null,n)}}function sy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=Ih.newId()),$v("doc","path",t),e instanceof ty){const n=Oh.fromString(t,...r);return Yv(n),new ry(e,null,new Fh(n))}{if(!(e instanceof ry||e instanceof iy))throw new vh(gh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Oh.fromString(t,...r));return Yv(n),new ry(e.firestore,e instanceof iy?e.converter:null,new Fh(n))}}class ay{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new pg(this,"async_queue_retry"),this.iu=()=>{const e=dg();e&&ch("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=dg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new yh;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Gh(e))throw e;ch("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=$g.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&fh()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class ly extends ty{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ay,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uy(this),this._firestoreClient.terminate()}}function cy(e){return e._firestoreClient||uy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uy(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new bd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Fv(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class hy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hy(hd.fromBase64String(e))}catch(e){throw new vh(gh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hy(hd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vh(gh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fy{constructor(e){this._methodName=e}}class py{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vh(gh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vh(gh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ph(this._lat,e._lat)||Ph(this._long,e._long)}}const my=/^__.*__$/;class gy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pp(e,this.data,this.fieldMask,t,this.fieldTransforms):new fp(e,this.data,t,this.fieldTransforms)}}function vy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fh()}}class yy{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Py(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(vy(this.Iu)&&my.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class by{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fg(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yy({Iu:e,methodName:t,gu:n,path:Lh.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(e){const t=e._freezeSettings(),n=fg(e._databaseId);return new by(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wy(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);Cy("Data must be an object, but it was:",s,r);const a=ky(r,s);let l,c;if(o.merge)l=new cd(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ey(t,r,n);if(!s.contains(i))throw new vh(gh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ry(e,i)||e.push(i)}l=new cd(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new gy(new Ld(a),l,c)}function Sy(e,t){if(xy(e=K(e)))return Cy("Unsupported field value:",t,e),ky(e,t);if(e instanceof fy)return function(e,t){if(!vy(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sy(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ah.fromDate(e);return{timestampValue:$p(t.serializer,n)}}if(e instanceof Ah){const n=new Ah(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$p(t.serializer,n)}}if(e instanceof py)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hy)return{bytesValue:Yp(t.serializer,e._byteString)};if(e instanceof ry){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Zp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Jv(e)))}(e,t)}function ky(e,t){const n={};return rd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nd(e,((e,r)=>{const i=Sy(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ah||e instanceof py||e instanceof hy||e instanceof ry||e instanceof fy)}function Cy(e,t,n){if(!xy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Jv(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Ey(e,t,n){if((t=K(t))instanceof dy)return t._internalPath;if("string"==typeof t)return Iy(e,t);throw Py("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ty=new RegExp("[~\\*/\\[\\]]");function Iy(e,t,n){if(t.search(Ty)>=0)throw Py("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dy(...t.split("."))._internalPath}catch(Js){throw Py("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Py(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new vh(gh.INVALID_ARGUMENT,a+e+l)}function Ry(e,t){return e.some((e=>e.isEqual(t)))}class Ay{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ry(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ny extends Ay{data(){return super.data()}}function Dy(e,t){return"string"==typeof t?Iy(e,t):t instanceof dy?t._internalPath:t._delegate._internalPath}function Oy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vh(gh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new py(pd(e.latitude),pd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=fd(e);return new Ah(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Oh.fromString(e);ph(_m(n));const r=new _d(n.get(1),n.get(3)),i=new Fh(n.popFirst(5));return r.isEqual(t)||uh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ly(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Fy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jy extends Ay{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zy extends jy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zy(this._firestore,this._userDataWriter,n.key,n,new Fy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vh(gh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new zy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Fy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new zy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Uy(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Uy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fh()}}class By extends My{constructor(e){super(),this.firestore=e}convertBytes(e){return new hy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ry(this.firestore,null,t)}}function qy(e,t){return function(e,t){const n=new yh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Dv(e);try{const e=await function(e,t){const n=mh(e),r=Ah.now(),i=t.reduce(((e,t)=>e.add(t.key)),Vf());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Af(),l=Vf();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=hp(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new pp(e.key,t,Fd(t.value.mapValue),op.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Of(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new id(Ph)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pv(r,e.changes),await Lg(r.remoteStore)}catch(e){const t=Yg(e,"Failed to persist write");n.reject(t)}}(await qv(e),t,n))),n.promise}(cy(e),t)}function Wy(e,t,n){const r=n.docs.get(t._key),i=new By(e);return new jy(e,i,t._key,r,new Fy(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sh=e}(Me),Ae(new G("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new ly(new Sh(e.getProvider("auth-internal")),new Eh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vh(gh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),je(ih,"4.4.0",e),je(ih,"4.4.0","esm2017")}();const Hy=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ne("object"==typeof e?e:Fe(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=v("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Zv(e,ty))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&hh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=oh.MOCK_USER;else{t=w(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new vh(gh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new oh(o)}e._authCredentials=new wh(new bh(t,n))}}(r,...e)}return r}(),Ky=oy(Hy,"users");async function Gy(e,t,n){const r=sy(Ky,n);await function(e,t,n){e=Zv(e,ry);const r=Zv(e.firestore,ly),i=Ly(e.converter,t,n);return qy(r,[wy(_y(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,op.none())])}(r,{displayName:e,email:t,uid:n}).then((e=>{console.log("Document written with ID: ",e)})).catch((e=>{console.error("Error adding document: ",e)}))}const Qy=async e=>{const t=sy(Hy,"users",e),n=await function(e){e=Zv(e,ry);const t=Zv(e.firestore,ly);return Hv(cy(t),e._key).then((n=>Wy(t,e,n)))}(t);if(n.exists())return console.log("User data: ",n.data()),n.data();console.log("No such document!")},$y=async()=>{try{const e=oy(Hy,"users"),t=await function(e){e=Zv(e,ny);const t=Zv(e.firestore,ly),n=cy(t),r=new By(t);return Oy(e._query),Kv(n,e._query).then((n=>new Vy(t,r,e,n)))}(e),n=t.docs.map((e=>e.data()));return n}catch(gt){throw console.error("Error fetching users: ",gt),gt}};function Yy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Xy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jy=Xy,Zy=new T("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),eb=new ie("@firebase/auth");function tb(e){if(eb.logLevel<=Z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eb.error("Auth (".concat(Me,"): ").concat(e),...n)}}function nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ob(e,...n)}function rb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ob(e,...n)}function ib(e,t,n){const r=Object.assign(Object.assign({},Jy()),{[t]:n});return new T("auth","Firebase",r).create(t,{appName:e.name})}function ob(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Zy.create(e,...n)}function sb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ob(t,...r)}}function ab(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tb(t),new Error(t)}function lb(e,t){e||ab(t)}function cb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ub(){return"http:"===hb()||"https:"===hb()}function hb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function db(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ub()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class fb{constructor(e,t){this.shortDelay=e,this.longDelay=t,lb(t>e,"Short delay should be less than long delay!"),this.isMobile=k()||x()}get(){return db()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pb(e,t){lb(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class mb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ab("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ab("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ab("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vb=new fb(3e4,6e4);function yb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function bb(e,t,n,r){return _b(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=j(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),mb.fetch()(Sb(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function _b(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},gb),t);try{const t=new xb(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cb(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Cb(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Cb(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Cb(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ib(e,a,s);nb(e,a)}}catch(i){if(i instanceof E)throw i;nb(e,"network-request-failed",{message:String(i)})}}async function wb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await bb(e,t,n,r,i);return"mfaPendingCredential"in o&&nb(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Sb(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?pb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function kb(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(rb(this.auth,"network-request-failed"))),vb.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rb(e,t,r);return i.customData._tokenResponse=n,i}function Eb(e){return void 0!==e&&void 0!==e.enterprise}class Tb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kb(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ib(e,t){return bb(e,"GET","/v2/recaptchaConfig",yb(e,t))}function Pb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Rb(e){return 1e3*Number(e)}function Ab(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return tb("JWT malformed, contained fewer than 3 sections"),null;try{const e=h(n);return e?JSON.parse(e):(tb("Failed to decode base64 JWT payload"),null)}catch(i){return tb("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Nb(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof E&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Db{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ob{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pb(this.lastLoginAt),this.creationTime=Pb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mb(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Nb(e,async function(e,t){return bb(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));sb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Yy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ob(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class Lb{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sb(e.idToken,"internal-error"),sb("undefined"!==typeof e.idToken,"internal-error"),sb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ab(e);return sb(t,"internal-error"),sb("undefined"!==typeof t.exp,"internal-error"),sb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return sb(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await _b(e,{},(async()=>{const n=j({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Sb(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",mb.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Lb;return n&&(sb("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(sb("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(sb("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lb,this.toJSON())}_performRefresh(){return ab("not implemented")}}function Fb(e,t){sb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ob(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Nb(this,this.stsTokenManager.getToken(this.auth,e));return sb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=K(e),r=await n.getIdToken(t),i=Ab(r);sb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pb(Rb(i.auth_time)),issuedAtTime:Pb(Rb(i.iat)),expirationTime:Pb(Rb(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=K(e);await Mb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(sb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){sb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nb(this,async function(e,t){return bb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:S}=t;sb(y&&S,e,"internal-error");const k=Lb.fromJSON(this.name,S);sb("string"===typeof y,e,"internal-error"),Fb(u,e.name),Fb(h,e.name),sb("boolean"===typeof b,e,"internal-error"),sb("boolean"===typeof _,e,"internal-error"),Fb(d,e.name),Fb(f,e.name),Fb(p,e.name),Fb(m,e.name),Fb(g,e.name),Fb(v,e.name);const x=new jb({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(x.providerData=w.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Lb;r.updateFromServerResponse(t);const i=new jb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mb(i),i}}const zb=new Map;function Vb(e){lb(e instanceof Function,"Expected a class definition");let t=zb.get(e);return t?(lb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zb.set(e,t),t)}class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ub.type="NONE";const Bb=Ub;function qb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Wb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=qb(this.userKey,r.apiKey,i),this.fullPersistenceKey=qb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jb._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Wb(Vb(Bb),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Vb(Bb);const o=qb(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=jb._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(qC){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(qC){}}))),new Wb(i,e,n)):new Wb(i,e,n)}}function Hb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($b(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xb(t))return"Blackberry";if(Jb(t))return"Webos";if(Gb(t))return"Safari";if((t.includes("chrome/")||Qb(t))&&!t.includes("edge/"))return"Chrome";if(Yb(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Kb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/firefox\//i.test(e)}function Gb(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/crios\//i.test(e)}function $b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iemobile/i.test(e)}function Yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/android/i.test(e)}function Xb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/blackberry/i.test(e)}function Jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/webos/i.test(e)}function Zb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function e_(){return function(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function t_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return Zb(e)||Yb(e)||Jb(e)||Xb(e)||/windows phone/i.test(e)||$b(e)}function n_(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Hb(S());break;case"Worker":t="".concat(Hb(S()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Me,"/").concat(r)}class r_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class i_{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class o_{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new r_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vb(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Wb.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return sb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mb(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?K(e):null;return t&&sb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&sb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Vb(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return bb(e,"GET","/v2/passwordPolicy",yb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new i_(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new T("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return bb(e,"POST","/v2/accounts:revokeToken",yb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vb(e)||this._popupRedirectResolver;sb(t,this,"argument-error"),this.redirectPersistenceManager=await Wb.create(this,[Vb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(sb(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(eb.logLevel<=Z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];eb.warn("Auth (".concat(Me,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function s_(e){return K(e)}class a_{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new B(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return sb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function l_(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=rb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function c_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class u_{constructor(e){this.type="recaptcha-enterprise",this.auth=s_(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Eb(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ib(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Tb(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Eb(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));l_("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function h_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new u_(e);let o;try{o=await i.verify(n)}catch(gt){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function d_(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await h_(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await h_(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function f_(e,t,n){const r=s_(e);sb(r._canInitEmulator,r,"emulator-config-failed"),sb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=p_(t),{host:s,port:a}=function(e){const t=p_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:m_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:m_(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function p_(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function m_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class g_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ab("not implemented")}_getIdTokenResponse(e){return ab("not implemented")}_linkToIdToken(e,t){return ab("not implemented")}_getReauthenticationResolver(e){return ab("not implemented")}}async function v_(e,t){return bb(e,"POST","/v1/accounts:signUp",t)}async function y_(e,t){return wb(e,"POST","/v1/accounts:signInWithPassword",yb(e,t))}class b_ extends g_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new b_(e,t,"password")}static _fromEmailAndCode(e,t){return new b_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return d_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",y_);case"emailLink":return async function(e,t){return wb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{email:this._email,oobCode:this._password});default:nb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return d_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v_);case"emailLink":return async function(e,t){return wb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:nb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function __(e,t){return wb(e,"POST","/v1/accounts:signInWithIdp",yb(e,t))}class w_ extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new w_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Yy(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new w_(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return __(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,__(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,__(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=j(t)}return e}}const S_={USER_NOT_FOUND:"user-not-found"};class k_ extends g_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new k_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new k_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t));if(n.temporaryProof)throw Cb(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),S_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new k_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class x_{constructor(e){var t,n,r,i,o,s;const a=z(V(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);sb(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=z(V(e)).link,n=t?z(V(t)).deep_link_id:null,r=z(V(e)).deep_link_id;return(r?z(V(r)).link:null)||r||n||t||e}(e);try{return new x_(t)}catch(qC){return null}}}class C_{constructor(){this.providerId=C_.PROVIDER_ID}static credential(e,t){return b_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=x_.parseLink(t);return sb(n,"argument-error"),b_._fromEmailAndCode(e,n.code,n.tenantId)}}C_.PROVIDER_ID="password",C_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class E_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class T_ extends E_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class I_ extends T_{constructor(){super("facebook.com")}static credential(e){return w_._fromParams({providerId:I_.PROVIDER_ID,signInMethod:I_.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return I_.credentialFromTaggedObject(e)}static credentialFromError(e){return I_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return I_.credential(t.oauthAccessToken)}catch(qC){return null}}}I_.FACEBOOK_SIGN_IN_METHOD="facebook.com",I_.PROVIDER_ID="facebook.com";class P_ extends T_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return w_._fromParams({providerId:P_.PROVIDER_ID,signInMethod:P_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return P_.credentialFromTaggedObject(e)}static credentialFromError(e){return P_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return P_.credential(n,r)}catch(qC){return null}}}P_.GOOGLE_SIGN_IN_METHOD="google.com",P_.PROVIDER_ID="google.com";class R_ extends T_{constructor(){super("github.com")}static credential(e){return w_._fromParams({providerId:R_.PROVIDER_ID,signInMethod:R_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return R_.credentialFromTaggedObject(e)}static credentialFromError(e){return R_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return R_.credential(t.oauthAccessToken)}catch(qC){return null}}}R_.GITHUB_SIGN_IN_METHOD="github.com",R_.PROVIDER_ID="github.com";class A_ extends T_{constructor(){super("twitter.com")}static credential(e,t){return w_._fromParams({providerId:A_.PROVIDER_ID,signInMethod:A_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return A_.credentialFromTaggedObject(e)}static credentialFromError(e){return A_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return A_.credential(n,r)}catch(qC){return null}}}async function N_(e,t){return wb(e,"POST","/v1/accounts:signUp",yb(e,t))}A_.TWITTER_SIGN_IN_METHOD="twitter.com",A_.PROVIDER_ID="twitter.com";class D_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await jb._fromIdTokenResponse(e,n,r),o=O_(n);return new D_({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=O_(n);return new D_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function O_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class M_ extends E{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,M_.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new M_(e,t,n,r)}}function L_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw M_._fromErrorAndOperation(e,n,t,r);throw n}))}async function F_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Nb(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return D_._forOperation(e,"link",r)}async function j_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Nb(e,L_(r,i,t,e),n);sb(o.idToken,r,"internal-error");const s=Ab(o.idToken);sb(s,r,"internal-error");const{sub:a}=s;return sb(e.uid===a,r,"user-mismatch"),D_._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&nb(r,"user-mismatch"),o}}async function z_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await L_(e,r,t),o=await D_._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function V_(e,t){return z_(s_(e),t)}async function U_(e){const t=s_(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const B_="__sak";class q_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(B_,"1"),this.storage.removeItem(B_),Promise.resolve(!0)):Promise.resolve(!1)}catch(qC){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class W_ extends q_{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=S();return Gb(e)||Zb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=t_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);e_()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}W_.type="LOCAL";const H_=W_;class K_ extends q_{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K_.type="SESSION";const G_=K_;class Q_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Q_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Q_.receivers=[];class Y_{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=$_("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function X_(){return window}function J_(){return"undefined"!==typeof X_().WorkerGlobalScope&&"function"===typeof X_().importScripts}const Z_="firebaseLocalStorageDb",ew="firebaseLocalStorage",tw="fbase_key";class nw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rw(e,t){return e.transaction([ew],t?"readwrite":"readonly").objectStore(ew)}function iw(){const e=indexedDB.open(Z_,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ew,{keyPath:tw})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ew)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Z_);return new nw(e).toPromise()}(),t(await iw()))}))}))}async function ow(e,t,n){const r=rw(e,!0).put({[tw]:t,value:n});return new nw(r).toPromise()}function sw(e,t){const n=rw(e,!0).delete(t);return new nw(n).toPromise()}class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await iw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q_._getInstance(J_()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Y_(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(qC){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iw();return await ow(e,B_,"1"),await sw(e,B_),!0}catch(qC){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ow(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rw(e,!1).get(t),r=await new nw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rw(e,!1).getAll();return new nw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}aw.type="LOCAL";const lw=aw;c_("rcb"),new fb(3e4,6e4);const cw="recaptcha";async function uw(e,t,n){var r;const i=await n.verify();try{let o;if(sb("string"===typeof i,e,"argument-error"),sb(n.type===cw,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){sb("enroll"===t.type,e,"internal-error");const n=await function(e,t){return bb(e,"POST","/v2/accounts/mfaEnrollment:start",yb(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{sb("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;sb(n,e,"missing-multi-factor-info");const s=await function(e,t){return bb(e,"POST","/v2/accounts/mfaSignIn:start",yb(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return bb(e,"POST","/v1/accounts:sendVerificationCode",yb(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class hw{constructor(e){this.providerId=hw.PROVIDER_ID,this.auth=s_(e)}verifyPhoneNumber(e,t){return uw(this.auth,e,K(t))}static credential(e,t){return k_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return hw.credentialFromTaggedObject(t)}static credentialFromError(e){return hw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?k_._fromTokenResponse(n,r):null}}function dw(e,t){return t?Vb(t):(sb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hw.PROVIDER_ID="phone",hw.PHONE_SIGN_IN_METHOD="phone";class fw extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return __(e,this._buildIdpRequest())}_linkToIdToken(e,t){return __(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return __(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pw(e){return z_(e.auth,new fw(e),e.bypassAuthState)}function mw(e){const{auth:t,user:n}=e;return sb(n,t,"internal-error"),j_(n,new fw(e),e.bypassAuthState)}async function gw(e){const{auth:t,user:n}=e;return sb(n,t,"internal-error"),F_(n,new fw(e),e.bypassAuthState)}class vw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pw;case"linkViaPopup":case"linkViaRedirect":return gw;case"reauthViaPopup":case"reauthViaRedirect":return mw;default:nb(this.auth,"internal-error")}}resolve(e){lb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yw=new fb(2e3,1e4);class bw extends vw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,bw.currentPopupAction&&bw.currentPopupAction.cancel(),bw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sb(e,this.auth,"internal-error"),e}async onExecution(){lb(1===this.filter.length,"Popup operations only handle one event");const e=$_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(rb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(rb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(rb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,yw.get())};e()}}bw.currentPopupAction=null;const _w="pendingRedirect",ww=new Map;class Sw extends vw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ww.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Cw(t),r=xw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ww.set(this.auth._key(),e)}return this.bypassAuthState||ww.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function kw(e,t){ww.set(e._key(),t)}function xw(e){return Vb(e._redirectPersistence)}function Cw(e){return qb(_w,e.config.apiKey,e.name)}async function Ew(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=s_(e),i=dw(r,t),o=new Sw(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Tw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Pw(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(rb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iw(e))}saveEventToCache(e){this.cachedEventUids.add(Iw(e)),this.lastProcessedEventTime=Date.now()}}function Iw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Pw(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;async function Nw(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return bb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Dw(n))return}catch(qC){}nb(e,"unauthorized-domain")}function Dw(e){const t=cb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Aw.test(n))return!1;if(Rw.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ow=new fb(3e4,6e4);function Mw(){const e=X_().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Lw=null;function Fw(e){return Lw=Lw||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Mw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(rb(e,"network-request-failed"))},timeout:Ow.get()})}if(null===(i=null===(r=X_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=X_().gapi)||void 0===o?void 0:o.load)){const t=c_("iframefcb");return X_()[t]=()=>{gapi.load?s():n(rb(e,"network-request-failed"))},l_("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Lw=null,e}))}(e),Lw}const jw=new fb(5e3,15e3),zw="__/auth/iframe",Vw="emulator/auth/iframe",Uw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(e){const t=e.config;sb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pb(t,Vw):"https://".concat(e.config.authDomain,"/").concat(zw),r={apiKey:t.apiKey,appName:e.name,v:Me},i=Bw.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(j(r).slice(1))}const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Kw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ww),{width:r.toString(),height:i.toString(),top:o,left:s}),c=S().toLowerCase();n&&(a=Qb(c)?"_blank":n),Kb(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Zb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Hw(null);const h=window.open(t||"",a,u);sb(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Hw(h)}const Gw="__/auth/handler",Qw="emulator/auth/handler",$w=encodeURIComponent("fac");async function Yw(e,t,n,r,i,o){sb(e.config.authDomain,e,"auth-domain-config-required"),sb(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Me,eventId:i};if(t instanceof E_){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",O(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof T_){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat($w,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gw);return pb(t,Qw)}(e),"?").concat(j(a).slice(1)).concat(c)}const Xw="webStorageSupport";const Jw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=Ew,this._overrideRedirectResult=kw}async _openPopup(e,t,n,r){var i;lb(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Kw(e,await Yw(e,t,n,cb(),r),$_())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){X_().location.href=e}(await Yw(e,t,n,cb(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(lb(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Fw(e),n=X_().gapi;return sb(n,e,"internal-error"),t.open({where:document.body,url:qw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uw,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=rb(e,"network-request-failed"),o=X_().setTimeout((()=>{r(i)}),jw.get());function s(){X_().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Tw(e);return t.register("authEvent",(t=>{sb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xw,{type:Xw},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Xw];void 0!==i&&t(!!i),nb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nw(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t_()||Gb()||Zb()}};var Zw="@firebase/auth",eS="1.5.1";class tS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nS=b("authIdTokenMaxAge")||300;let rS=null;var iS;iS="Browser",Ae(new G("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;sb(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:iS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n_(iS)},c=new o_(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ae(new G("auth-internal",(e=>(e=>new tS(e))(s_(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),je(Zw,eS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(iS)),je(Zw,eS,"esm2017");const oS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe();const t=Ne(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ne(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(L(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;nb(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jw,persistence:[lw,H_,G_]}),r=b("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>nS)return;const r=null===t||void 0===t?void 0:t.token;rS!==r&&(rS=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){K(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){K(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=g("auth");return o&&f_(n,"http://".concat(o)),n}(),sS=async(e,t,n)=>{try{await function(e,t,n){return V_(K(e),C_.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&U_(e),t}))}(oS,e,t),n("/chat",{replace:!0})}catch(gt){gt.code;const t=gt.message;console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: ".concat(t))}},aS=async(e,t,n,r)=>{try{const i=await async function(e,t,n){const r=s_(e),i=d_(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N_),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&U_(e),t})),s=await D_._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(oS,e,t),o=i.user,s=o.uid;return await Gy(n,e,s),r("/chat",{replace:!0}),o}catch(gt){gt.code;const t=gt.message;throw console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(t)),gt}},lS=async()=>{await function(e){return K(e).signOut()}(oS).then((()=>{console.log("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0448\u0435\u043b \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b")})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b: ",e)}))},cS=e=>function(e,t,n,r){return K(e).onAuthStateChanged(t,n,r)}(oS,e),uS=Os.createContext(),hS=()=>(0,Os.useContext)(uS),dS=e=>{let{children:t}=e;const[n,r]=(0,Os.useState)(null),i=async()=>{const e=cS((async e=>{if(e){const t=await Qy(e.uid);r(t)}else r(null)}));return()=>e()};return(0,Os.useEffect)((()=>{i()}),[]),(0,Ls.jsx)(uS.Provider,{value:{user:n,getUser:i},children:t})};function fS(e){return(0,Os.forwardRef)(e)}var pS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function mS(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function gS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vS(e)?e(...n):e}var vS=e=>"function"===typeof e,yS=e=>e?"":void 0,bS=e=>!!e||void 0;function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.some((t=>(null==t||t(e),null==e?void 0:e.defaultPrevented)))}}var wS=n(198),SS=e=>"string"===typeof e?e.replace(/!(important)?$/,"").trim():e,kS=(e,t)=>n=>{const r=String(t),i=(e=>/!(important)?$/.test(e))(r),o=SS(r),s=e?"".concat(e,".").concat(o):o;let a=mS(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=SS(a),i?"".concat(a," !important"):a};function xS(e){const{scale:t,transform:n,compose:r}=e;return(e,i)=>{var o;const s=kS(t,e)(i);let a=null!=(o=null==n?void 0:n(s,i))?o:s;return r&&(a=r(a,i)),a}}var CS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)};function ES(e,t){return n=>{const r={property:n,scale:e};return r.transform=xS({scale:e,transform:t}),r}}var TS=e=>{let{rtl:t,ltr:n}=e;return e=>"rtl"===e.direction?t:n};var IS=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var PS={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},RS={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var AS={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},NS={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},DS=new Set(Object.values(NS)),OS=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),MS=e=>e.trim();var LS=e=>"string"===typeof e&&e.includes("(")&&e.includes(")");var FS=e=>t=>"".concat(e,"(").concat(t,")"),jS={filter:e=>"auto"!==e?e:PS,backdropFilter:e=>"auto"!==e?e:RS,ring:e=>function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(jS.px(e)),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...IS].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...IS].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;const{unitless:t}=(e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}})(e);return t||"number"===typeof e?"".concat(e,"px"):e},fraction:e=>"number"!==typeof e||e>1?e:"".concat(100*e,"%"),float:(e,t)=>"rtl"===t.direction?{left:"right",right:"left"}[e]:e,degree(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;const t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:(e,t)=>function(e,t){if(null==e||OS.has(e))return e;if(!LS(e)&&!OS.has(e))return"url('".concat(e,"')");const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==n?void 0:n[1],i=null==n?void 0:n[2];if(!r||!i)return e;const o=r.includes("-gradient")?r:"".concat(r,"-gradient"),[s,...a]=i.split(",").map(MS).filter(Boolean);if(0===(null==a?void 0:a.length))return e;const l=s in NS?NS[s]:s;a.unshift(l);const c=a.map((e=>{if(DS.has(e))return e;const n=e.indexOf(" "),[r,i]=-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],o=LS(i)?i:i&&i.split(" "),s="colors.".concat(r),a=s in t.__cssMap?t.__cssMap[s].varRef:r;return o?[a,...Array.isArray(o)?o:[o]].join(" "):a}));return"".concat(o,"(").concat(c.join(", "),")")}(e,null!=t?t:{}),blur:FS("blur"),opacity:FS("opacity"),brightness:FS("brightness"),contrast:FS("contrast"),dropShadow:FS("drop-shadow"),grayscale:FS("grayscale"),hueRotate:e=>FS("hue-rotate")(jS.degree(e)),invert:FS("invert"),saturate:FS("saturate"),sepia:FS("sepia"),bgImage(e){if(null==e)return e;return LS(e)||OS.has(e)?e:"url(".concat(e,")")},outline(e){const t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=null!=(t=AS[e])?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},zS={borderWidths:ES("borderWidths"),borderStyles:ES("borderStyles"),colors:ES("colors"),borders:ES("borders"),gradients:ES("gradients",jS.gradient),radii:ES("radii",jS.px),space:ES("space",CS(jS.vh,jS.px)),spaceT:ES("space",CS(jS.vh,jS.px)),degreeT:e=>({property:e,transform:jS.degree}),prop:(e,t,n)=>({property:e,scale:t,...t&&{transform:xS({scale:t,transform:n})}}),propT:(e,t)=>({property:e,transform:t}),sizes:ES("sizes",CS(jS.vh,jS.px)),sizesT:ES("sizes",CS(jS.vh,jS.fraction)),shadows:ES("shadows"),logical:function(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:TS(t),transform:n?xS({scale:n,compose:r}):r}},blur:ES("blur",jS.blur)},VS={background:zS.colors("background"),backgroundColor:zS.colors("backgroundColor"),backgroundImage:zS.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:jS.bgClip},bgSize:zS.prop("backgroundSize"),bgPosition:zS.prop("backgroundPosition"),bg:zS.colors("background"),bgColor:zS.colors("backgroundColor"),bgPos:zS.prop("backgroundPosition"),bgRepeat:zS.prop("backgroundRepeat"),bgAttachment:zS.prop("backgroundAttachment"),bgGradient:zS.gradients("backgroundImage"),bgClip:{transform:jS.bgClip}};Object.assign(VS,{bgImage:VS.backgroundImage,bgImg:VS.backgroundImage});var US={border:zS.borders("border"),borderWidth:zS.borderWidths("borderWidth"),borderStyle:zS.borderStyles("borderStyle"),borderColor:zS.colors("borderColor"),borderRadius:zS.radii("borderRadius"),borderTop:zS.borders("borderTop"),borderBlockStart:zS.borders("borderBlockStart"),borderTopLeftRadius:zS.radii("borderTopLeftRadius"),borderStartStartRadius:zS.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:zS.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:zS.radii("borderTopRightRadius"),borderStartEndRadius:zS.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:zS.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:zS.borders("borderRight"),borderInlineEnd:zS.borders("borderInlineEnd"),borderBottom:zS.borders("borderBottom"),borderBlockEnd:zS.borders("borderBlockEnd"),borderBottomLeftRadius:zS.radii("borderBottomLeftRadius"),borderBottomRightRadius:zS.radii("borderBottomRightRadius"),borderLeft:zS.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:zS.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:zS.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:zS.borders(["borderLeft","borderRight"]),borderInline:zS.borders("borderInline"),borderY:zS.borders(["borderTop","borderBottom"]),borderBlock:zS.borders("borderBlock"),borderTopWidth:zS.borderWidths("borderTopWidth"),borderBlockStartWidth:zS.borderWidths("borderBlockStartWidth"),borderTopColor:zS.colors("borderTopColor"),borderBlockStartColor:zS.colors("borderBlockStartColor"),borderTopStyle:zS.borderStyles("borderTopStyle"),borderBlockStartStyle:zS.borderStyles("borderBlockStartStyle"),borderBottomWidth:zS.borderWidths("borderBottomWidth"),borderBlockEndWidth:zS.borderWidths("borderBlockEndWidth"),borderBottomColor:zS.colors("borderBottomColor"),borderBlockEndColor:zS.colors("borderBlockEndColor"),borderBottomStyle:zS.borderStyles("borderBottomStyle"),borderBlockEndStyle:zS.borderStyles("borderBlockEndStyle"),borderLeftWidth:zS.borderWidths("borderLeftWidth"),borderInlineStartWidth:zS.borderWidths("borderInlineStartWidth"),borderLeftColor:zS.colors("borderLeftColor"),borderInlineStartColor:zS.colors("borderInlineStartColor"),borderLeftStyle:zS.borderStyles("borderLeftStyle"),borderInlineStartStyle:zS.borderStyles("borderInlineStartStyle"),borderRightWidth:zS.borderWidths("borderRightWidth"),borderInlineEndWidth:zS.borderWidths("borderInlineEndWidth"),borderRightColor:zS.colors("borderRightColor"),borderInlineEndColor:zS.colors("borderInlineEndColor"),borderRightStyle:zS.borderStyles("borderRightStyle"),borderInlineEndStyle:zS.borderStyles("borderInlineEndStyle"),borderTopRadius:zS.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:zS.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:zS.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:zS.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(US,{rounded:US.borderRadius,roundedTop:US.borderTopRadius,roundedTopLeft:US.borderTopLeftRadius,roundedTopRight:US.borderTopRightRadius,roundedTopStart:US.borderStartStartRadius,roundedTopEnd:US.borderStartEndRadius,roundedBottom:US.borderBottomRadius,roundedBottomLeft:US.borderBottomLeftRadius,roundedBottomRight:US.borderBottomRightRadius,roundedBottomStart:US.borderEndStartRadius,roundedBottomEnd:US.borderEndEndRadius,roundedLeft:US.borderLeftRadius,roundedRight:US.borderRightRadius,roundedStart:US.borderInlineStartRadius,roundedEnd:US.borderInlineEndRadius,borderStart:US.borderInlineStart,borderEnd:US.borderInlineEnd,borderTopStartRadius:US.borderStartStartRadius,borderTopEndRadius:US.borderStartEndRadius,borderBottomStartRadius:US.borderEndStartRadius,borderBottomEndRadius:US.borderEndEndRadius,borderStartRadius:US.borderInlineStartRadius,borderEndRadius:US.borderInlineEndRadius,borderStartWidth:US.borderInlineStartWidth,borderEndWidth:US.borderInlineEndWidth,borderStartColor:US.borderInlineStartColor,borderEndColor:US.borderInlineEndColor,borderStartStyle:US.borderInlineStartStyle,borderEndStyle:US.borderInlineEndStyle});var BS={color:zS.colors("color"),textColor:zS.colors("color"),fill:zS.colors("fill"),stroke:zS.colors("stroke")},qS={boxShadow:zS.shadows("boxShadow"),mixBlendMode:!0,blendMode:zS.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:zS.prop("backgroundBlendMode"),opacity:!0};Object.assign(qS,{shadow:qS.boxShadow});var WS={filter:{transform:jS.filter},blur:zS.blur("--chakra-blur"),brightness:zS.propT("--chakra-brightness",jS.brightness),contrast:zS.propT("--chakra-contrast",jS.contrast),hueRotate:zS.propT("--chakra-hue-rotate",jS.hueRotate),invert:zS.propT("--chakra-invert",jS.invert),saturate:zS.propT("--chakra-saturate",jS.saturate),dropShadow:zS.propT("--chakra-drop-shadow",jS.dropShadow),backdropFilter:{transform:jS.backdropFilter},backdropBlur:zS.blur("--chakra-backdrop-blur"),backdropBrightness:zS.propT("--chakra-backdrop-brightness",jS.brightness),backdropContrast:zS.propT("--chakra-backdrop-contrast",jS.contrast),backdropHueRotate:zS.propT("--chakra-backdrop-hue-rotate",jS.hueRotate),backdropInvert:zS.propT("--chakra-backdrop-invert",jS.invert),backdropSaturate:zS.propT("--chakra-backdrop-saturate",jS.saturate)},HS={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:jS.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:zS.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:zS.space("gap"),rowGap:zS.space("rowGap"),columnGap:zS.space("columnGap")};Object.assign(HS,{flexDir:HS.flexDirection});var KS={gridGap:zS.space("gridGap"),gridColumnGap:zS.space("gridColumnGap"),gridRowGap:zS.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},GS={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:jS.outline},outlineOffset:!0,outlineColor:zS.colors("outlineColor")},QS={width:zS.sizesT("width"),inlineSize:zS.sizesT("inlineSize"),height:zS.sizes("height"),blockSize:zS.sizes("blockSize"),boxSize:zS.sizes(["width","height"]),minWidth:zS.sizes("minWidth"),minInlineSize:zS.sizes("minInlineSize"),minHeight:zS.sizes("minHeight"),minBlockSize:zS.sizes("minBlockSize"),maxWidth:zS.sizes("maxWidth"),maxInlineSize:zS.sizes("maxInlineSize"),maxHeight:zS.sizes("maxHeight"),maxBlockSize:zS.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.minW)?i:e;return{["@media screen and (min-width: ".concat(o,")")]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;const o=null!=(i=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r._minW)?i:e;return{["@media screen and (max-width: ".concat(o,")")]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:zS.propT("float",jS.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(QS,{w:QS.width,h:QS.height,minW:QS.minWidth,maxW:QS.maxWidth,minH:QS.minHeight,maxH:QS.maxHeight,overscroll:QS.overscrollBehavior,overscrollX:QS.overscrollBehaviorX,overscrollY:QS.overscrollBehaviorY});var $S={listStyleType:!0,listStylePosition:!0,listStylePos:zS.prop("listStylePosition"),listStyleImage:!0,listStyleImg:zS.prop("listStyleImage")};var YS=(e=>{const t=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);const s=t.get(n);if(s.has(r))return s.get(r);const a=e(n,r,i,o);return s.set(r,a),a}})((function(e,t,n,r){const i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e})),XS={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},JS={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ZS=(e,t,n)=>{const r={},i=YS(e,t,{});for(const o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},ek={srOnly:{transform:e=>!0===e?XS:"focusable"===e?JS:{}},layerStyle:{processResult:!0,transform:(e,t,n)=>ZS(t,"layerStyles.".concat(e),n)},textStyle:{processResult:!0,transform:(e,t,n)=>ZS(t,"textStyles.".concat(e),n)},apply:{processResult:!0,transform:(e,t,n)=>ZS(t,e,n)}},tk={position:!0,pos:zS.prop("position"),zIndex:zS.prop("zIndex","zIndices"),inset:zS.spaceT("inset"),insetX:zS.spaceT(["left","right"]),insetInline:zS.spaceT("insetInline"),insetY:zS.spaceT(["top","bottom"]),insetBlock:zS.spaceT("insetBlock"),top:zS.spaceT("top"),insetBlockStart:zS.spaceT("insetBlockStart"),bottom:zS.spaceT("bottom"),insetBlockEnd:zS.spaceT("insetBlockEnd"),left:zS.spaceT("left"),insetInlineStart:zS.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:zS.spaceT("right"),insetInlineEnd:zS.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(tk,{insetStart:tk.insetInlineStart,insetEnd:tk.insetInlineEnd});var nk={ring:{transform:jS.ring},ringColor:zS.colors("--chakra-ring-color"),ringOffset:zS.prop("--chakra-ring-offset-width"),ringOffsetColor:zS.colors("--chakra-ring-offset-color"),ringInset:zS.prop("--chakra-ring-inset")},rk={margin:zS.spaceT("margin"),marginTop:zS.spaceT("marginTop"),marginBlockStart:zS.spaceT("marginBlockStart"),marginRight:zS.spaceT("marginRight"),marginInlineEnd:zS.spaceT("marginInlineEnd"),marginBottom:zS.spaceT("marginBottom"),marginBlockEnd:zS.spaceT("marginBlockEnd"),marginLeft:zS.spaceT("marginLeft"),marginInlineStart:zS.spaceT("marginInlineStart"),marginX:zS.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:zS.spaceT("marginInline"),marginY:zS.spaceT(["marginTop","marginBottom"]),marginBlock:zS.spaceT("marginBlock"),padding:zS.space("padding"),paddingTop:zS.space("paddingTop"),paddingBlockStart:zS.space("paddingBlockStart"),paddingRight:zS.space("paddingRight"),paddingBottom:zS.space("paddingBottom"),paddingBlockEnd:zS.space("paddingBlockEnd"),paddingLeft:zS.space("paddingLeft"),paddingInlineStart:zS.space("paddingInlineStart"),paddingInlineEnd:zS.space("paddingInlineEnd"),paddingX:zS.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:zS.space("paddingInline"),paddingY:zS.space(["paddingTop","paddingBottom"]),paddingBlock:zS.space("paddingBlock")};Object.assign(rk,{m:rk.margin,mt:rk.marginTop,mr:rk.marginRight,me:rk.marginInlineEnd,marginEnd:rk.marginInlineEnd,mb:rk.marginBottom,ml:rk.marginLeft,ms:rk.marginInlineStart,marginStart:rk.marginInlineStart,mx:rk.marginX,my:rk.marginY,p:rk.padding,pt:rk.paddingTop,py:rk.paddingY,px:rk.paddingX,pb:rk.paddingBottom,pl:rk.paddingLeft,ps:rk.paddingInlineStart,paddingStart:rk.paddingInlineStart,pr:rk.paddingRight,pe:rk.paddingInlineEnd,paddingEnd:rk.paddingInlineEnd});var ik={textDecorationColor:zS.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:zS.shadows("textShadow")},ok={clipPath:!0,transform:zS.propT("transform",jS.transform),transformOrigin:!0,translateX:zS.spaceT("--chakra-translate-x"),translateY:zS.spaceT("--chakra-translate-y"),skewX:zS.degreeT("--chakra-skew-x"),skewY:zS.degreeT("--chakra-skew-y"),scaleX:zS.prop("--chakra-scale-x"),scaleY:zS.prop("--chakra-scale-y"),scale:zS.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:zS.degreeT("--chakra-rotate")},sk={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:zS.prop("transitionDuration","transition.duration"),transitionProperty:zS.prop("transitionProperty","transition.property"),transitionTimingFunction:zS.prop("transitionTimingFunction","transition.easing")},ak={fontFamily:zS.prop("fontFamily","fonts"),fontSize:zS.prop("fontSize","fontSizes",jS.px),fontWeight:zS.prop("fontWeight","fontWeights"),lineHeight:zS.prop("lineHeight","lineHeights"),letterSpacing:zS.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},lk={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:zS.spaceT("scrollMargin"),scrollMarginTop:zS.spaceT("scrollMarginTop"),scrollMarginBottom:zS.spaceT("scrollMarginBottom"),scrollMarginLeft:zS.spaceT("scrollMarginLeft"),scrollMarginRight:zS.spaceT("scrollMarginRight"),scrollMarginX:zS.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:zS.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:zS.spaceT("scrollPadding"),scrollPaddingTop:zS.spaceT("scrollPaddingTop"),scrollPaddingBottom:zS.spaceT("scrollPaddingBottom"),scrollPaddingLeft:zS.spaceT("scrollPaddingLeft"),scrollPaddingRight:zS.spaceT("scrollPaddingRight"),scrollPaddingX:zS.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:zS.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function ck(e){return mS(e)&&e.reference?e.reference:String(e)}var uk=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(ck).join(" ".concat(e," ")).replace(/calc/g,"")},hk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(uk("+",...t),")")},dk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(uk("-",...t),")")},fk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(uk("*",...t),")")},pk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(uk("/",...t),")")},mk=e=>{const t=ck(e);return null==t||Number.isNaN(parseFloat(t))?fk(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},gk=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gk(hk(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gk(dk(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gk(fk(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gk(pk(e,...n))},negate:()=>gk(mk(e)),toString:()=>e.toString()})),{add:hk,subtract:dk,multiply:fk,divide:pk,negate:mk});function vk(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;const t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function yk(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function bk(e){return vk("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function _k(e,t,n){const r=bk(e,n);return{variable:r,reference:yk(r,t)}}function wk(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}function Sk(e){if(null==e)return e;const{unitless:t}=function(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t||"number"===typeof e?"".concat(e,"px"):e}var kk=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,xk=e=>Object.fromEntries(Object.entries(e).sort(kk));function Ck(e){const t=xk(e);return Object.assign(Object.values(t),t)}function Ek(e){var t;if(!e)return e;e=null!=(t=Sk(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/(\d+\.?\d*)/u,(e=>"".concat(parseFloat(e)+-.02)))}function Tk(e,t){const n=["@media screen"];return e&&n.push("and","(min-width: ".concat(Sk(e),")")),t&&n.push("and","(max-width: ".concat(Sk(t),")")),n.join(" ")}function Ik(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";const n=Ck(e),r=Object.entries(e).sort(kk).map(((e,t,n)=>{let[r,i]=e;var o;let[,s]=null!=(o=n[t+1])?o:[];return s=parseFloat(s)>0?Ek(s):void 0,{_minW:Ek(i),breakpoint:r,minW:i,maxW:s,maxWQuery:Tk(null,s),minWQuery:Tk(i),minMaxQuery:Tk(i,s)}})),i=function(e){const t=Object.keys(xk(e));return new Set(t)}(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(e){const t=Object.keys(e);return t.length>0&&t.every((e=>i.has(e)))},asObject:xk(e),asArray:Ck(e),details:r,get:e=>r.find((t=>t.breakpoint===e)),media:[null,...n.map((e=>Tk(e))).slice(1)],toArrayValue(e){if(!mS(e))throw new Error("toArrayValue: value must be an object");const t=o.map((t=>{var n;return null!=(n=e[t])?n:null}));for(;null===wk(t);)t.pop();return t},toObjectValue(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce(((e,t,n)=>{const r=o[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var Pk=(e,t)=>"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t),Rk=(e,t)=>"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t),Ak=(e,t)=>"".concat(e,":focus-visible ").concat(t),Nk=(e,t)=>"".concat(e,":focus-within ").concat(t),Dk=(e,t)=>"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t),Ok=(e,t)=>"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t),Mk=(e,t)=>"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t),Lk=(e,t)=>"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t),Fk=(e,t)=>"".concat(e,":placeholder-shown ").concat(t),jk=e=>Vk((t=>e(t,"&")),"[role=group]","[data-group]",".group"),zk=e=>Vk((t=>e(t,"~ &")),"[data-peer]",".peer"),Vk=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},Uk={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:jk(Pk),_peerHover:zk(Pk),_groupFocus:jk(Rk),_peerFocus:zk(Rk),_groupFocusVisible:jk(Ak),_peerFocusVisible:zk(Ak),_groupActive:jk(Dk),_peerActive:zk(Dk),_groupDisabled:jk(Ok),_peerDisabled:zk(Ok),_groupInvalid:jk(Mk),_peerInvalid:zk(Mk),_groupChecked:jk(Lk),_peerChecked:zk(Lk),_groupFocusWithin:jk(Nk),_peerFocusWithin:zk(Nk),_peerPlaceholderShown:zk(Fk),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},Bk=Object.keys(Uk);function qk(e,t){return _k(String(e).replace(/\./g,"-"),void 0,t)}function Wk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:i}=n;return function e(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var s;if(function(e){return"object"===typeof e&&null!=e&&!Array.isArray(e)}(n)||Array.isArray(n)){const a={};for(const[l,c]of Object.entries(n)){const u=null!=(s=null==i?void 0:i(l))?s:l,h=[...o,u];if(null==r?void 0:r(n,h))return t(n,o);a[u]=e(c,h)}return a}return t(n,o)}(e)}var Hk=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];var Kk=e=>Bk.includes(e)||"default"===e;function Gk(e){var t;const n=function(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}(e),r=function(e){return function(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}(e,Hk)}(n),i=function(e){return e.semanticTokens}(n),o=function(e){let{tokens:t,semanticTokens:n}=e;const r={};return Wk(t,((e,t)=>{null!=e&&(r[t.join(".")]={isSemantic:!1,value:e})})),Wk(n,((e,t)=>{null!=e&&(r[t.join(".")]={isSemantic:!0,value:e})}),{stop:e=>Object.keys(e).every(Kk)}),r}({tokens:r,semanticTokens:i}),s=null==(t=n.config)?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=function(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:c}=qk(i,null==t?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const e=i.split("."),[t,...n]=e,o="".concat(t,".-").concat(n.join(".")),s=gk.negate(a),u=gk.negate(c);r[o]={value:s,var:l,varRef:u}}n[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=n=>{const r=[String(i).split(".")[0],n].join(".");if(!e[r])return n;const{reference:o}=qk(r,null==t?void 0:t.cssVarPrefix);return o},h=mS(a)?a:{default:a};n=wS(n,Object.entries(h).reduce(((e,t)=>{let[n,r]=t;var i,o;if(!r)return e;const s=u("".concat(r));return"default"===n?(e[l]=s,e):(e[null!=(o=null==(i=Uk)?void 0:i[n])?o:n]={[l]:s},e)}),{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0",...l},__cssMap:a,__breakpoints:Ik(n.breakpoints)}),n}var Qk=wS({},VS,US,BS,HS,QS,WS,nk,GS,KS,ek,tk,qS,rk,lk,ak,ik,ok,$S,sk),$k=Object.assign({},rk,QS,HS,KS,tk),Yk=(Object.keys($k),[...Object.keys(Qk),...Bk]),Xk={...Qk,...Uk},Jk=e=>e in Xk;var Zk=(e,t)=>e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t),ex=(e,t)=>{var n,r;if(null==t)return t;const i=t=>{var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},o=e=>{var t;return null!=(t=i(e))?t:e},[s,a]=function(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(t.push(n),n="")}return n=n.trim(),n&&t.push(n),t}(t);return t=null!=(r=null!=(n=i(s))?n:o(a))?r:o(t)};function tx(e){const{configs:t={},pseudos:n={},theme:r}=e,i=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s,a,l;const c=gS(e,r),u=(e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=gS(e[s],t);if(null==a)continue;if(a=mS(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let e=0;e<l;e+=1){const t=null==i?void 0:i[e];t?(o[t]=o[t]||{},null!=a[e]&&(o[t][s]=a[e])):o[s]=a[e]}}return o})(c)(r);let h={};for(let d in u){let e=gS(u[d],r);d in n&&(d=n[d]),Zk(d,e)&&(e=ex(r,e));let f=t[d];if(!0===f&&(f={property:d}),mS(e)){h[d]=null!=(s=h[d])?s:{},h[d]=wS({},h[d],i(e,!0));continue}let p=null!=(l=null==(a=null==f?void 0:f.transform)?void 0:a.call(f,e,r,c))?l:e;p=(null==f?void 0:f.processResult)?i(p,!0):p;const m=gS(null==f?void 0:f.property,r);if(!o&&(null==f?void 0:f.static)){const e=gS(f.static,r);h=wS({},h,e)}if(m&&Array.isArray(m))for(const t of m)h[t]=p;else m?"&"===m&&mS(p)?h=wS({},h,p):h[m]=p:mS(p)?h=wS({},h,p):h[d]=p}return h};return i}var nx=e=>t=>tx({theme:t,pseudos:Uk,configs:Qk})(e);function rx(e){return{definePartsStyle:e=>e,defineMultiStyleConfig:t=>({parts:e,...t})}}function ix(e,t){for(let n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}function ox(e){const t=e.__breakpoints;return function(e,n,r,i){var o,s;if(!t)return;const a={},l=function(e,t){return Array.isArray(e)?e:mS(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!l)return a;const c=l.length,u=1===c,h=!!e.parts;for(let d=0;d<c;d++){const r=t.details[d],c=t.details[ix(l,d)],f=Tk(r.minW,null==c?void 0:c._minW),p=gS(null==(o=e[n])?void 0:o[l[d]],i);p&&(h?null==(s=e.parts)||s.forEach((e=>{wS(a,{[e]:u?p[e]:{[f]:p[e]}})})):h?a[f]=p:u?wS(a,p):a[f]=p)}return a}}function sx(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(e,["styleConfig","size","variant","colorScheme"])}var ax=new Set([...Yk,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),lx=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function cx(e){return lx.has(e)||!ax.has(e)}var ux=(0,Os.createContext)({});function hx(){const e=(0,Os.useContext)(ux);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}ux.displayName="ColorModeContext";var dx=(e=>{const t=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);const s=t.get(n);if(s.has(r))return s.get(r);const a=e(n,r,i,o);return s.set(r,a),a}})((function(e,t,n,r){const i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e}));function fx(e,t){const n={};return Object.keys(e).forEach((r=>{const i=e[r];t(i,r,e)&&(n[r]=i)})),n}var px=e=>fx(e,(e=>null!==e&&void 0!==e));function mx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e(...n):e}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(this,arguments)}function vx(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var yx=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bx=vx((function(e){return yx.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var _x=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),wx=Math.abs,Sx=String.fromCharCode,kx=Object.assign;function xx(e){return e.trim()}function Cx(e,t,n){return e.replace(t,n)}function Ex(e,t){return e.indexOf(t)}function Tx(e,t){return 0|e.charCodeAt(t)}function Ix(e,t,n){return e.slice(t,n)}function Px(e){return e.length}function Rx(e){return e.length}function Ax(e,t){return t.push(e),e}var Nx=1,Dx=1,Ox=0,Mx=0,Lx=0,Fx="";function jx(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Nx,column:Dx,length:s,return:""}}function zx(e,t){return kx(jx("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vx(){return Lx=Mx>0?Tx(Fx,--Mx):0,Dx--,10===Lx&&(Dx=1,Nx--),Lx}function Ux(){return Lx=Mx<Ox?Tx(Fx,Mx++):0,Dx++,10===Lx&&(Dx=1,Nx++),Lx}function Bx(){return Tx(Fx,Mx)}function qx(){return Mx}function Wx(e,t){return Ix(Fx,e,t)}function Hx(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kx(e){return Nx=Dx=1,Ox=Px(Fx=e),Mx=0,[]}function Gx(e){return Fx="",e}function Qx(e){return xx(Wx(Mx-1,Xx(91===e?e+2:40===e?e+1:e)))}function $x(e){for(;(Lx=Bx())&&Lx<33;)Ux();return Hx(e)>2||Hx(Lx)>3?"":" "}function Yx(e,t){for(;--t&&Ux()&&!(Lx<48||Lx>102||Lx>57&&Lx<65||Lx>70&&Lx<97););return Wx(e,qx()+(t<6&&32==Bx()&&32==Ux()))}function Xx(e){for(;Ux();)switch(Lx){case e:return Mx;case 34:case 39:34!==e&&39!==e&&Xx(Lx);break;case 40:41===e&&Xx(e);break;case 92:Ux()}return Mx}function Jx(e,t){for(;Ux()&&e+Lx!==57&&(e+Lx!==84||47!==Bx()););return"/*"+Wx(t,Mx-1)+"*"+Sx(47===e?e:Ux())}function Zx(e){for(;!Hx(Bx());)Ux();return Wx(e,Mx)}var eC="-ms-",tC="-moz-",nC="-webkit-",rC="comm",iC="rule",oC="decl",sC="@keyframes";function aC(e,t){for(var n="",r=Rx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function lC(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case oC:return e.return=e.return||e.value;case rC:return"";case sC:return e.return=e.value+"{"+aC(e.children,r)+"}";case iC:e.value=e.props.join(",")}return Px(n=aC(e.children,r))?e.return=e.value+"{"+n+"}":""}function cC(e){return function(t){t.root||(t=t.return)&&e(t)}}function uC(e){return Gx(hC("",null,null,null,[""],e=Kx(e),0,[0],e))}function hC(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",_=i,w=o,S=r,k=b;g;)switch(p=y,y=Ux()){case 40:if(108!=p&&58==Tx(k,h-1)){-1!=Ex(k+=Cx(Qx(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Qx(y);break;case 9:case 10:case 13:case 32:k+=$x(p);break;case 92:k+=Yx(qx()-1,7);continue;case 47:switch(Bx()){case 42:case 47:Ax(fC(Jx(Ux(),qx()),t,n),l);break;default:k+="/"}break;case 123*m:a[c++]=Px(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(k=Cx(k,/\f/g,"")),f>0&&Px(k)-h&&Ax(f>32?pC(k+";",r,n,h-1):pC(Cx(k," ","")+";",r,n,h-2),l);break;case 59:k+=";";default:if(Ax(S=dC(k,t,n,c,u,i,a,b,_=[],w=[],h),o),123===y)if(0===u)hC(k,t,S,S,_,o,h,a,w);else switch(99===d&&110===Tx(k,3)?100:d){case 100:case 108:case 109:case 115:hC(e,S,S,r&&Ax(dC(e,S,S,0,0,i,a,b,i,_=[],h),w),i,w,h,a,r?_:w);break;default:hC(k,S,S,S,[""],w,0,a,w)}}c=u=f=0,m=v=1,b=k="",h=s;break;case 58:h=1+Px(k),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Vx())continue;switch(k+=Sx(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Px(k)-1)*v,v=1;break;case 64:45===Bx()&&(k+=Qx(Ux())),d=Bx(),u=h=Px(b=k+=Zx(qx())),y++;break;case 45:45===p&&2==Px(k)&&(m=0)}}return o}function dC(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=Rx(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Ix(e,h+1,h=wx(m=s[p])),b=e;v<f;++v)(b=xx(m>0?d[v]+" "+y:Cx(y,/&\f/g,d[v])))&&(l[g++]=b);return jx(e,t,n,0===i?iC:a,l,c,u)}function fC(e,t,n){return jx(e,t,n,rC,Sx(Lx),Ix(e,2,-2),0)}function pC(e,t,n,r){return jx(e,t,n,oC,Ix(e,0,r),Ix(e,r+1,-1),r)}var mC=function(e,t,n){for(var r=0,i=0;r=i,i=Bx(),38===r&&12===i&&(t[n]=1),!Hx(i);)Ux();return Wx(e,Mx)},gC=function(e,t){return Gx(function(e,t){var n=-1,r=44;do{switch(Hx(r)){case 0:38===r&&12===Bx()&&(t[n]=1),e[n]+=mC(Mx-1,t,n);break;case 2:e[n]+=Qx(r);break;case 4:if(44===r){e[++n]=58===Bx()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Sx(r)}}while(r=Ux());return e}(Kx(e),t))},vC=new WeakMap,yC=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vC.get(n))&&!r){vC.set(e,!0);for(var i=[],o=gC(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},bC=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function _C(e,t){switch(function(e,t){return 45^Tx(e,0)?(((t<<2^Tx(e,0))<<2^Tx(e,1))<<2^Tx(e,2))<<2^Tx(e,3):0}(e,t)){case 5103:return nC+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nC+e+tC+e+eC+e+e;case 6828:case 4268:return nC+e+eC+e+e;case 6165:return nC+e+eC+"flex-"+e+e;case 5187:return nC+e+Cx(e,/(\w+).+(:[^]+)/,nC+"box-$1$2"+eC+"flex-$1$2")+e;case 5443:return nC+e+eC+"flex-item-"+Cx(e,/flex-|-self/,"")+e;case 4675:return nC+e+eC+"flex-line-pack"+Cx(e,/align-content|flex-|-self/,"")+e;case 5548:return nC+e+eC+Cx(e,"shrink","negative")+e;case 5292:return nC+e+eC+Cx(e,"basis","preferred-size")+e;case 6060:return nC+"box-"+Cx(e,"-grow","")+nC+e+eC+Cx(e,"grow","positive")+e;case 4554:return nC+Cx(e,/([^-])(transform)/g,"$1"+nC+"$2")+e;case 6187:return Cx(Cx(Cx(e,/(zoom-|grab)/,nC+"$1"),/(image-set)/,nC+"$1"),e,"")+e;case 5495:case 3959:return Cx(e,/(image-set\([^]*)/,nC+"$1$`$1");case 4968:return Cx(Cx(e,/(.+:)(flex-)?(.*)/,nC+"box-pack:$3"+eC+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nC+e+e;case 4095:case 3583:case 4068:case 2532:return Cx(e,/(.+)-inline(.+)/,nC+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Px(e)-1-t>6)switch(Tx(e,t+1)){case 109:if(45!==Tx(e,t+4))break;case 102:return Cx(e,/(.+:)(.+)-([^]+)/,"$1"+nC+"$2-$3$1"+tC+(108==Tx(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ex(e,"stretch")?_C(Cx(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Tx(e,t+1))break;case 6444:switch(Tx(e,Px(e)-3-(~Ex(e,"!important")&&10))){case 107:return Cx(e,":",":"+nC)+e;case 101:return Cx(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nC+(45===Tx(e,14)?"inline-":"")+"box$3$1"+nC+"$2$3$1"+eC+"$2box$3")+e}break;case 5936:switch(Tx(e,t+11)){case 114:return nC+e+eC+Cx(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nC+e+eC+Cx(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nC+e+eC+Cx(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nC+e+eC+e+e}return e}var wC=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case oC:e.return=_C(e.value,e.length);break;case sC:return aC([zx(e,{value:Cx(e.value,"@","@"+nC)})],r);case iC:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return aC([zx(e,{props:[Cx(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return aC([zx(e,{props:[Cx(t,/:(plac\w+)/,":"+nC+"input-$1")]}),zx(e,{props:[Cx(t,/:(plac\w+)/,":-moz-$1")]}),zx(e,{props:[Cx(t,/:(plac\w+)/,eC+"input-$1")]})],r)}return""}))}}],SC=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||wC;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l=[yC,bC];var c,u=[lC,cC((function(e){c.insert(e)}))],h=function(e){var t=Rx(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(l.concat(r,u));o=function(e,t,n,r){c=n,function(e){aC(uC(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new _x({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(a),d},kC=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var xC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},CC=/[A-Z]|^ms/g,EC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TC=function(e){return 45===e.charCodeAt(1)},IC=function(e){return null!=e&&"boolean"!==typeof e},PC=vx((function(e){return TC(e)?e:e.replace(CC,"-$&").toLowerCase()})),RC=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(EC,(function(e,t,n){return NC={name:t,styles:n,next:NC},t}))}return 1===xC[e]||TC(e)||"number"!==typeof t||0===t?t:t+"px"};function AC(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return NC={name:n.name,styles:n.styles,next:NC},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)NC={name:r.name,styles:r.styles,next:NC},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=AC(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":IC(s)&&(r+=PC(o)+":"+RC(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=AC(e,t,s);switch(o){case"animation":case"animationName":r+=PC(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)IC(s[l])&&(r+=PC(o)+":"+RC(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=NC,o=n(e);return NC=i,AC(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var NC,DC=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var OC=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";NC=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=AC(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=AC(n,t,e[s]),r&&(i+=o[s]);DC.lastIndex=0;for(var a,l="";null!==(a=DC.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:NC}},MC=!!Ms.useInsertionEffect&&Ms.useInsertionEffect,LC=MC||function(e){return e()},FC=MC||Os.useLayoutEffect,jC=Os.createContext("undefined"!==typeof HTMLElement?SC({key:"css"}):null);jC.Provider;var zC=function(e){return(0,Os.forwardRef)((function(t,n){var r=(0,Os.useContext)(jC);return e(t,r,n)}))};var VC=Os.createContext({});var UC=kC((function(e){return kC((function(t){return function(e,t){return"function"===typeof t?t(e):gx({},e,t)}(e,t)}))})),BC=function(e){var t=Os.useContext(VC);return e.theme!==t&&(t=UC(t)(e.theme)),Os.createElement(VC.Provider,{value:t},e.children)};var qC,WC=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},HC=function(e,t,n){WC(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},KC=bx,GC=function(e){return"theme"!==e},QC=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?KC:GC},$C=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},YC=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return WC(t,n,r),LC((function(){return HC(t,n,r)})),null},XC=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var a=$C(t,n,o),l=a||QC(s),c=!l("as");return function(){var u=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{0,h.push(u[0][0]);for(var d=u.length,f=1;f<d;f++)h.push(u[f],u[0][f])}var p=zC((function(e,t,n){var r=c&&e.as||s,o="",u=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=Os.useContext(VC)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var p=OC(h.concat(u),t.registered,d);o+=t.key+"-"+p.name,void 0!==i&&(o+=" "+i);var m=c&&void 0===a?QC(r):l,g={};for(var v in e)c&&"as"===v||m(v)&&(g[v]=e[v]);return g.className=o,g.ref=n,Os.createElement(Os.Fragment,null,Os.createElement(YC,{cache:t,serialized:p,isStringTag:"string"===typeof r}),Os.createElement(r,g))}));return p.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=s,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+i}}),p.withComponent=function(t,r){return e(t,gx({},n,r,{shouldForwardProp:$C(p,r,!0)})).apply(void 0,h)},p}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){XC[e]=XC(e)}));var JC=null!=(qC=XC.default)?qC:XC,ZC=e=>{let{baseStyle:t}=e;return e=>{const{theme:n,css:r,__css:i,sx:o,...s}=e,a=fx(s,((e,t)=>Jk(t))),l=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t={...e};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)if(null!=o)for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(e in t&&delete t[e],t[e]=o[e]);return t}({},i,mx(t,e),px(a),o),c=nx(l)(e.theme);return r?[c,r]:c}};function eE(e,t){const{baseStyle:n,...r}=null!=t?t:{};r.shouldForwardProp||(r.shouldForwardProp=cx);const i=ZC({baseStyle:n}),o=JC(e,r)(i),s=Os.forwardRef((function(e,t){const{colorMode:n,forced:r}=hx();return Os.createElement(o,{ref:t,"data-theme":r?n:void 0,...e})}));return s}var tE=function(){const e=new Map;return new Proxy(eE,{apply:(e,t,n)=>eE(...n),get:(t,n)=>(e.has(n)||e.set(n,eE(n)),e.get(n))})}(),nE=fS((function(e,t){const{templateAreas:n,gap:r,rowGap:i,columnGap:o,column:s,row:a,autoFlow:l,autoRows:c,templateRows:u,autoColumns:h,templateColumns:d,...f}=e,p={display:"grid",gridTemplateAreas:n,gridGap:r,gridRowGap:i,gridColumnGap:o,gridAutoColumns:h,gridColumn:s,gridRow:a,gridAutoFlow:l,gridAutoRows:c,gridTemplateRows:u,gridTemplateColumns:d};return(0,Ls.jsx)(tE.div,{ref:t,__css:p,...f})}));function rE(e){const t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}nE.displayName="Grid";Object.freeze(["base","sm","md","lg","xl","2xl"]);function iE(e){return t=e,n=e=>"auto"===e?"auto":"span ".concat(e,"/span ").concat(e),Array.isArray(t)?t.map((e=>null===e?null:n(e))):mS(t)?Object.keys(t).reduce(((e,r)=>(e[r]=n(t[r]),e)),{}):null!=t?n(t):null;var t,n}var oE=fS((function(e,t){const{area:n,colSpan:r,colStart:i,colEnd:o,rowEnd:s,rowSpan:a,rowStart:l,...c}=e,u=rE({gridArea:n,gridColumn:iE(r),gridRow:iE(a),gridColumnStart:i,gridColumnEnd:o,gridRowStart:l,gridRowEnd:s});return(0,Ls.jsx)(tE.div,{ref:t,__css:u,...c})}));function sE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=(0,Os.createContext)(s);return a.displayName=t,[a.Provider,function e(){var t;const s=(0,Os.useContext)(a);if(!s&&n){const n=new Error(null!=o?o:(l=i,"".concat(r," returned `undefined`. Seems you forgot to wrap component within ").concat(l)));throw n.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,n,e),n}var l;return s},a]}function aE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(gt){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function lE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Os.useMemo)((()=>aE(...t)),t)}function cE(){return{...hx(),theme:function(){const e=(0,Os.useContext)(VC);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}()}}oE.displayName="GridItem";var uE=n(77);function hE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=cE(),a=e?dx(o,"components.".concat(e)):void 0,l=r||a,c=wS({theme:o,colorMode:s},null!=(n=null==l?void 0:l.defaultProps)?n:{},px(function(e,t){const n={};return Object.keys(e).forEach((r=>{t.includes(r)||(n[r]=e[r])})),n}(i,["children"]))),u=(0,Os.useRef)({});if(l){const e=function(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=ox(o);return wS({},gS(null!=(n=e.baseStyle)?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}(l),t=e(c);uE(u.current,t)||(u.current=t)}return u.current}function dE(e){return hE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function fE(e){return hE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var[pE,mE]=sE({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[gE,vE]=sE({strict:!1,name:"FormControlContext"});var yE=fS((function(e,t){const n=fE("Form",e),r=sx(e),{getRootProps:i,htmlProps:o,...s}=function(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=(0,Os.useId)(),l=t||"field-".concat(a),c="".concat(l,"-label"),u="".concat(l,"-feedback"),h="".concat(l,"-helptext"),[d,f]=(0,Os.useState)(!1),[p,m]=(0,Os.useState)(!1),[g,v]=(0,Os.useState)(!1),y=(0,Os.useCallback)((function(){return{id:h,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:aE(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=>{e&&m(!0)}))}}),[h]),b=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,"data-focus":yS(g),"data-disabled":yS(i),"data-invalid":yS(r),"data-readonly":yS(o),id:void 0!==e.id?e.id:c,htmlFor:void 0!==e.htmlFor?e.htmlFor:l}}),[l,i,g,r,o,c]),_=(0,Os.useCallback)((function(){return{id:u,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:aE(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=>{e&&f(!0)})),"aria-live":"polite"}}),[u]),w=(0,Os.useCallback)((function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},...s,ref:e,role:"group","data-focus":yS(g),"data-disabled":yS(i),"data-invalid":yS(r),"data-readonly":yS(o)}}),[s,i,g,r,o]),S=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!g,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:d,setHasFeedbackText:f,hasHelpText:p,setHasHelpText:m,id:l,labelId:c,feedbackId:u,helpTextId:h,htmlProps:s,getHelpTextProps:y,getErrorMessageProps:_,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:S}}(r),a=pS("chakra-form-control",e.className);return(0,Ls.jsx)(gE,{value:s,children:(0,Ls.jsx)(pE,{value:n,children:(0,Ls.jsx)(tE.div,{...i({},t),className:a,__css:n.container})})})}));yE.displayName="FormControl";var bE=fS((function(e,t){const n=vE(),r=mE(),i=pS("chakra-form__helper-text",e.className);return(0,Ls.jsx)(tE.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:r.helperText,className:i})}));function _E(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=wE(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":bS(n),"aria-required":bS(i),"aria-readonly":bS(r)}}function wE(e){var t,n,r;const i=vE(),{id:o,disabled:s,readOnly:a,required:l,isRequired:c,isInvalid:u,isReadOnly:h,isDisabled:d,onFocus:f,onBlur:p,...m}=e,g=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&g.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&g.push(i.helpTextId),{...m,"aria-describedby":g.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(t=null!=s?s:d)?t:null==i?void 0:i.isDisabled,isReadOnly:null!=(n=null!=a?a:h)?n:null==i?void 0:i.isReadOnly,isRequired:null!=(r=null!=l?l:c)?r:null==i?void 0:i.isRequired,isInvalid:null!=u?u:null==i?void 0:i.isInvalid,onFocus:_S(null==i?void 0:i.onFocus,f),onBlur:_S(null==i?void 0:i.onBlur,p)}}bE.displayName="FormHelperText";var SE=["h","minH","height","minHeight"],kE=fS(((e,t)=>{const n=dE("Textarea",e),{className:r,rows:i,...o}=sx(e),s=_E(o),a=i?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(n,SE):n;return(0,Ls.jsx)(tE.textarea,{ref:t,rows:i,...s,className:pS("chakra-textarea",r),__css:a})}));kE.displayName="Textarea";var[xE,CE]=sE({strict:!1,name:"ButtonGroupContext"});function EE(e){const{children:t,className:n,...r}=e,i=(0,Os.isValidElement)(t)?(0,Os.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,o=pS("chakra-button__icon",n);return(0,Ls.jsx)(tE.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}EE.displayName="ButtonIcon";n(110);var TE=zC((function(e,t){var n=e.styles,r=OC([n],void 0,Os.useContext(VC)),i=Os.useRef();return FC((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),i.current=[n,o],function(){n.flush()}}),[t]),FC((function(){var e=i.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&HC(t,r.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function IE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OC(t)}var PE=function(){var e=IE.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var RE=PE({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),AE=fS(((e,t)=>{const n=dE("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=sx(e),c=pS("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:"".concat(RE," ").concat(o," linear infinite"),...n};return(0,Ls.jsx)(tE.div,{ref:t,__css:u,className:c,...l,children:r&&(0,Ls.jsx)(tE.span,{srOnly:!0,children:r})})}));function NE(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=(0,Ls.jsx)(AE,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=pS("chakra-button__spinner",o),c="start"===n?"marginEnd":"marginStart",u=(0,Os.useMemo)((()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[c]:t?r:0,fontSize:"1em",lineHeight:"normal",...s})),[s,t,c,r]);return(0,Ls.jsx)(tE.div,{className:l,...a,__css:u,children:i})}AE.displayName="Spinner",NE.displayName="ButtonSpinner";var DE=fS(((e,t)=>{const n=CE(),r=dE("Button",{...n,...e}),{isDisabled:i=(null==n?void 0:n.isDisabled),isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:h="0.5rem",type:d,spinner:f,spinnerPlacement:p="start",className:m,as:g,...v}=sx(e),y=(0,Os.useMemo)((()=>{const e={...null==r?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:e}}}),[r,n]),{ref:b,type:_}=function(e){const[t,n]=(0,Os.useState)(!e),r=(0,Os.useCallback)((e=>{e&&n("BUTTON"===e.tagName)}),[]);return{ref:r,type:t?"button":void 0}}(g),w={rightIcon:c,leftIcon:l,iconSpacing:h,children:a};return(0,Ls.jsxs)(tE.button,{ref:lE(t,b),as:g,type:null!=d?d:_,"data-active":yS(s),"data-loading":yS(o),__css:y,className:pS("chakra-button",m),...v,disabled:i||o,children:[o&&"start"===p&&(0,Ls.jsx)(NE,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:h,children:f}),o?u||(0,Ls.jsx)(tE.span,{opacity:0,children:(0,Ls.jsx)(OE,{...w})}):(0,Ls.jsx)(OE,{...w}),o&&"end"===p&&(0,Ls.jsx)(NE,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:h,children:f})]})}));function OE(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return(0,Ls.jsxs)(Ls.Fragment,{children:[t&&(0,Ls.jsx)(EE,{marginEnd:i,children:t}),r,n&&(0,Ls.jsx)(EE,{marginStart:i,children:n})]})}DE.displayName="Button";const ME=e=>{let{onInputChange:t,inputState:n,onSendMessage:r}=e;return(0,Ls.jsxs)(nE,{templateColumns:"repeat(10, 1fr)",gap:1,m:"2",children:[(0,Ls.jsx)(oE,{colSpan:8,children:(0,Ls.jsx)(kE,{borderColor:"#946d25",bgColor:"#c0bcbc",minH:"4vh",value:n,onChange:t,placeholder:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",onKeyDown:e=>{"Enter"===e.key&&r()}})}),(0,Ls.jsx)(oE,{colSpan:2,children:(0,Ls.jsx)(DE,{minH:"4vh",w:"100%",colorScheme:"blue",onClick:r,children:"Send"})})]})};var LE=tE("div");LE.displayName="Box";var FE=fS((function(e,t){const{size:n,centerContent:r=!0,...i}=e,o=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Ls.jsx)(LE,{ref:t,boxSize:n,__css:{...o,flexShrink:0,flexGrow:0},...i})}));FE.displayName="Square";var jE=fS((function(e,t){const{size:n,...r}=e;return(0,Ls.jsx)(FE,{size:n,ref:t,borderRadius:"9999px",...r})}));jE.displayName="Circle";var zE=fS((function(e,t){const n=dE("Text",e),{className:r,align:i,decoration:o,casing:s,...a}=sx(e),l=rE({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,Ls.jsx)(tE.p,{ref:t,className:pS("chakra-text",e.className),...l,...a,__css:n})}));zE.displayName="Text";const VE=e=>{let{message:t,user:n,time:r,isIncomingMessage:i}=e;return(0,Ls.jsx)(Ls.Fragment,{children:(0,Ls.jsxs)(LE,{p:3,pb:5,m:1,color:"black",bg:"white",minH:"fit-content",maxW:"45%",borderRadius:10,position:"relative",isTruncated:!1,children:[(0,Ls.jsxs)(zE,{as:"b",style:{fontStyle:"italic"},color:i?"#840903eb":"#3705e9eb",children:[i?"\u2192":"\u2190"," ",n]}),(0,Ls.jsx)(zE,{isTruncated:!1,children:t}),(0,Ls.jsx)(zE,{fontSize:"xs",color:"#2d4812f3",position:"absolute",bottom:1,right:5,children:r})]})})},UE=e=>{let{displayState:t}=e;const n=(0,Os.useRef)();return(0,Os.useEffect)((()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t]),(0,Ls.jsx)(LE,{ref:n,bg:"#9ab092",color:"white",h:"90vh",p:3,borderRadius:5,overflow:"auto",opacity:"0.95",children:t.map((e=>(0,Ls.jsx)(LE,{display:"flex",justifyContent:e.isIncoming?"flex-start":"flex-end",children:(0,Ls.jsx)(VE,{isIncomingMessage:e.isIncoming,message:e.message,user:e.userName,time:e.displayTime,date:e.displayDate})},e._id)))})},BE=e=>{let{userName:t,uid:n,setDisplayState:r,displayState:i}=e;const[o,s]=(0,Os.useState)(""),{getAllMessages:a,sendMessage:l}=(0,Os.useContext)(Fs);a(r,n);return(0,Ls.jsxs)(LE,{border:"1px solid black",h:"96vh",borderRadius:5,bgColor:"#776b93",children:[(0,Ls.jsx)(LE,{children:(0,Ls.jsx)(UE,{displayState:i})}),(0,Ls.jsx)(LE,{children:(0,Ls.jsx)(ME,{onInputChange:e=>{s(e.target.value)},onSendMessage:()=>{""!==o&&l(t,o,s,n)},inputState:o})})]})},qE=()=>{const[e,t]=(0,Os.useState)();return(0,Os.useEffect)((()=>{(async()=>{const e=await $y();t(e)})()}),[]),console.log("\u042e\u0437\u0435\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u044b:",e),(0,Ls.jsx)(LE,{w:"100%",minH:"96vh",border:"2px solid black",borderRadius:5,children:(0,Ls.jsxs)(LE,{border:"1px black solid",children:["All Users:",e&&e.map((e=>(0,Ls.jsx)(LE,{border:"1px solid black",children:e.displayName},e.uid)))]})})},WE=e=>{let{setDisplayState:t}=e;return(0,Ls.jsxs)(LE,{w:"100%",minH:"96vh",border:"1px solid black",borderRadius:5,children:[(0,Ls.jsx)(LE,{border:"1px solid black",borderRadius:5,children:"SomePannel"}),(0,Ls.jsx)(LE,{children:"\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435..."}),"\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u0437\u0432\u0443\u043a \u043d\u0435 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0434\u0438\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443.",(0,Ls.jsx)("br",{}),(0,Ls.jsx)(DE,{colorScheme:"red",onClick:()=>{const e=new Audio("message.mp3");e.addEventListener("canplaythrough",(t=>{e.play()}))},children:"MessageSound"}),(0,Ls.jsx)("br",{}),"\u0410 \u044d\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u0431\u0430\u0437\u044b.",(0,Ls.jsx)("br",{})," \u041d\u0435 \u0436\u043c\u0438, \u043f\u043e\u0434\u0443\u043c\u043e\u0439!",(0,Ls.jsx)("br",{}),(0,Ls.jsx)(DE,{colorScheme:"yellow",onClick:()=>{bs(Rs(),[]),console.log("\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u044b"),t([])},children:"Clear"})]})};function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(this,arguments)}var KE;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(KE||(KE={}));const GE="popstate";function QE(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function $E(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function YE(e,t){return{usr:e.state,key:e.key,idx:t}}function XE(e,t,n,r){return void 0===n&&(n=null),HE({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ZE(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function JE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ZE(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eT(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=KE.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=KE.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:JE(e);return QE(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(HE({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GE,h),l=e,()=>{i.removeEventListener(GE,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=KE.Push;let r=XE(f.location,e,t);n&&n(r,e),c=u()+1;let h=YE(r,c),d=f.createHref(r);try{s.pushState(h,"",d)}catch(gt){if(gt instanceof DOMException&&"DataCloneError"===gt.name)throw gt;i.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=KE.Replace;let r=XE(f.location,e,t);n&&n(r,e),c=u();let i=YE(r,c),h=f.createHref(r);s.replaceState(i,"",h),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var tT;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(tT||(tT={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function nT(e,t,n){void 0===n&&(n="/");let r=gT(("string"===typeof t?ZE(t):t).pathname||"/",n);if(null==r)return null;let i=rT(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=fT(i[s],mT(r));return o}function rT(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(QE(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=wT([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(QE(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),rT(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:dT(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of iT(e.path))i(e,t,r);else i(e,t)})),t}function iT(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=iT(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const oT=/^:\w+$/,sT=3,aT=2,lT=1,cT=10,uT=-2,hT=e=>"*"===e;function dT(e,t){let n=e.split("/"),r=n.length;return n.some(hT)&&(r+=uT),t&&(r+=aT),n.filter((e=>!hT(e))).reduce(((e,t)=>e+(oT.test(t)?sT:""===t?lT:cT)),r)}function fT(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=pT({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:wT([i,c.pathname]),pathnameBase:ST(wT([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=wT([i,c.pathnameBase]))}return o}function pT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);$E("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(gt){return $E(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+gt+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function mT(e){try{return decodeURI(e)}catch(gt){return $E(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+gt+")."),e}}function gT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function vT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function yT(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function bT(e,t){let n=yT(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function _T(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=ZE(e):(i=HE({},e),QE(!i.pathname||!i.pathname.includes("?"),vT("?","pathname","search",i)),QE(!i.pathname||!i.pathname.includes("#"),vT("#","pathname","hash",i)),QE(!i.search||!i.search.includes("#"),vT("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?ZE(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:kT(r),hash:xT(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const wT=e=>e.join("/").replace(/\/\/+/g,"/"),ST=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kT=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",xT=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function CT(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ET=["post","put","patch","delete"],TT=(new Set(ET),["get",...ET]);new Set(TT),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(this,arguments)}const PT=Os.createContext(null);const RT=Os.createContext(null);const AT=Os.createContext(null);const NT=Os.createContext(null);const DT=Os.createContext({outlet:null,matches:[],isDataRoute:!1});const OT=Os.createContext(null);function MT(){return null!=Os.useContext(NT)}function LT(){return MT()||QE(!1),Os.useContext(NT).location}function FT(e){Os.useContext(AT).static||Os.useLayoutEffect(e)}function jT(){let{isDataRoute:e}=Os.useContext(DT);return e?function(){let{router:e}=GT(HT.UseNavigateStable),t=$T(KT.UseNavigateStable),n=Os.useRef(!1);FT((()=>{n.current=!0}));let r=Os.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,IT({fromRouteId:t},i)))}),[e,t]);return r}():function(){MT()||QE(!1);let e=Os.useContext(PT),{basename:t,future:n,navigator:r}=Os.useContext(AT),{matches:i}=Os.useContext(DT),{pathname:o}=LT(),s=JSON.stringify(bT(i,n.v7_relativeSplatPath)),a=Os.useRef(!1);return FT((()=>{a.current=!0})),Os.useCallback((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void r.go(n);let l=_T(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:wT([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,s,o,e])}()}function zT(e,t,n,r){MT()||QE(!1);let{navigator:i}=Os.useContext(AT),{matches:o}=Os.useContext(DT),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=LT();if(t){var h;let e="string"===typeof t?ZE(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||QE(!1),c=e}else c=u;let d=c.pathname||"/",f=nT(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});let p=WT(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:wT([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:wT([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&p?Os.createElement(NT.Provider,{value:{location:IT({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:KE.Pop}},p):p}function VT(){let e=function(){var e;let t=Os.useContext(OT),n=QT(KT.UseRouteError),r=$T(KT.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=CT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return Os.createElement(Os.Fragment,null,Os.createElement("h2",null,"Unexpected Application Error!"),Os.createElement("h3",{style:{fontStyle:"italic"}},t),n?Os.createElement("pre",{style:i},n):null,null)}const UT=Os.createElement(VT,null);class BT extends Os.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Os.createElement(DT.Provider,{value:this.props.routeContext},Os.createElement(OT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qT(e){let{routeContext:t,match:n,children:r}=e,i=Os.useContext(PT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Os.createElement(DT.Provider,{value:t},r)}function WT(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||QE(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let e=s[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let o,u=!1,h=null,d=null;var f;n&&(o=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||UT,l&&(c<0&&0===i?(f="route-fallback",!1||YT[f]||(YT[f]=!0),u=!0,d=null):c===i&&(u=!0,d=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,i+1)),m=()=>{let t;return t=o?h:u?d:r.route.Component?Os.createElement(r.route.Component,null):r.route.element?r.route.element:e,Os.createElement(qT,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?Os.createElement(BT,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}var HT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(HT||{}),KT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(KT||{});function GT(e){let t=Os.useContext(PT);return t||QE(!1),t}function QT(e){let t=Os.useContext(RT);return t||QE(!1),t}function $T(e){let t=function(e){let t=Os.useContext(DT);return t||QE(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||QE(!1),n.route.id}const YT={};Ms.startTransition;function XT(e){let{to:t,replace:n,state:r,relative:i}=e;MT()||QE(!1);let{future:o,static:s}=Os.useContext(AT),{matches:a}=Os.useContext(DT),{pathname:l}=LT(),c=jT(),u=_T(t,bT(a,o.v7_relativeSplatPath),l,"path"===i),h=JSON.stringify(u);return Os.useEffect((()=>c(JSON.parse(h),{replace:n,state:r,relative:i})),[c,h,i,n,r]),null}function JT(e){QE(!1)}function ZT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=KE.Pop,navigator:o,static:s=!1,future:a}=e;MT()&&QE(!1);let l=t.replace(/^\/*/,"/"),c=Os.useMemo((()=>({basename:l,navigator:o,static:s,future:IT({v7_relativeSplatPath:!1},a)})),[l,a,o,s]);"string"===typeof r&&(r=ZE(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=Os.useMemo((()=>{let e=gT(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}}),[l,u,h,d,f,p,i]);return null==m?null:Os.createElement(AT.Provider,{value:c},Os.createElement(NT.Provider,{children:n,value:m}))}function eI(e){let{children:t,location:n}=e;return zT(tI(t),n)}new Promise((()=>{}));Os.Component;function tI(e,t){void 0===t&&(t=[]);let n=[];return Os.Children.forEach(e,((e,r)=>{if(!Os.isValidElement(e))return;let i=[...t,r];if(e.type===Os.Fragment)return void n.push.apply(n,tI(e.props.children,i));e.type!==JT&&QE(!1),e.props.index&&e.props.children&&QE(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=tI(e.props.children,i)),n.push(o)})),n}const nI=e=>{let{userName:t}=e;const n=jT();return(0,Ls.jsxs)(LE,{border:"2px solid black",display:"flex",justifyContent:"space-between",h:"4vh",children:[(0,Ls.jsx)(LE,{border:"1px solid black",h:"35px",w:"160px",backgroundImage:"logo.svg"}),(0,Ls.jsxs)(LE,{border:"1px solid black",borderRadius:5,h:"35px",children:[(0,Ls.jsx)(zE,{as:"b",fontSize:"20px",color:"#000000",children:t||""}),localStorage.getItem("guestName")?(0,Ls.jsx)(DE,{colorScheme:"green",size:"xs",onClick:()=>{n("/register",{replace:!0})},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}):(0,Ls.jsx)(DE,{colorScheme:"blue",size:"xs",m:1,onClick:()=>{n("/userSettings")},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Ls.jsx)(DE,{onClick:()=>{lS(),n("/auth",{replace:!0})},colorScheme:"red",size:"xs",m:1,children:"\u0412\u044b\u0445\u043e\u0434"})]})]})};var rI=n(995),iI=Os,oI=Symbol.for("react-redux-context"),sI="undefined"!==typeof globalThis?globalThis:{};function aI(){var e;if(!iI.createContext)return{};const t=null!==(e=sI[oI])&&void 0!==e?e:sI[oI]=new Map;let n=t.get(iI.createContext);return n||(n=iI.createContext(null),t.set(iI.createContext,n)),n}var lI=aI(),cI=()=>{throw new Error("uSES not initialized!")};function uI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lI;return function(){return iI.useContext(e)}}var hI=uI(),dI=cI,fI=(e,t)=>e===t;function pI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lI;const t=e===lI?hI:uI(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=fI,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:s,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(iI.useRef(!0),iI.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=dI(s.addNestedSub,o.getState,a||o.getState,u,r);return iI.useDebugValue(h),h}}var mI=pI();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function gI(e){e()}var vI={notify(){},get:()=>[]};function yI(e,t){let n,r=vI,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gI((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=vI)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var bI=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?iI.useLayoutEffect:iI.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var _I=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:s="once"}=e;const a=iI.useMemo((()=>{const e=yI(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:s}}),[t,i,o,s]),l=iI.useMemo((()=>t.getState()),[t]);bI((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const c=n||lI;return iI.createElement(c.Provider,{value:a},r)};function wI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lI;const t=e===lI?hI:uI(e);return function(){const{store:e}=t();return e}}var SI=wI();function kI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lI;const t=e===lI?SI:wI(e);return function(){return t().dispatch}}var xI,CI=kI();xI=rI.useSyncExternalStoreWithSelector,dI=xI,(e=>{e})(Os.useSyncExternalStore);const EI=()=>{(0,Os.useEffect)((()=>{Le(Xe)}),[]);const{user:e}=hS(),[t,n]=(0,Os.useState)([]),r=mI((e=>e.guest.guestName));let i;r&&localStorage.setItem("guestName",r),console.log("stored:",localStorage.getItem("guestName")),r||localStorage.getItem("guestName")?i=r||localStorage.getItem("guestName"):(i=e?e.displayName:"",console.log("userName:",i));const o=mI((e=>e.guest.guestId));let s;return o&&localStorage.setItem("guestId",o),s=o||localStorage.getItem("guestId")?o||localStorage.getItem("guestId"):e&&e.uid,(0,Ls.jsx)(LE,{opacity:5,children:(0,Ls.jsxs)(LE,{h:"100vh",children:[(0,Ls.jsx)(LE,{children:(0,Ls.jsx)(dS,{children:(0,Ls.jsx)(nI,{userName:i})})}),(0,Ls.jsxs)(nE,{templateColumns:"repeat(9, 1fr)",alignItems:"stretch",children:[(0,Ls.jsx)(oE,{colSpan:2,children:(0,Ls.jsx)(qE,{})}),(0,Ls.jsx)(oE,{colSpan:5,children:(0,Ls.jsx)(js,{children:(0,Ls.jsx)(BE,{userName:i,uid:s,displayState:t,setDisplayState:n})})}),(0,Ls.jsx)(oE,{colSpan:2,children:(0,Ls.jsx)(WE,{setDisplayState:n})})]})]})})};var TI=Symbol.for("immer-nothing"),II=Symbol.for("immer-draftable"),PI=Symbol.for("immer-state");function RI(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var AI=Object.getPrototypeOf;function NI(e){return!!e&&!!e[PI]}function DI(e){var t;return!!e&&(MI(e)||Array.isArray(e)||!!e[II]||!(null===(t=e.constructor)||void 0===t||!t[II])||VI(e)||UI(e))}var OI=Object.prototype.constructor.toString();function MI(e){if(!e||"object"!==typeof e)return!1;const t=AI(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===OI}function LI(e,t){0===FI(e)?Object.entries(e).forEach((n=>{let[r,i]=n;t(r,i,e)})):e.forEach(((n,r)=>t(r,n,e)))}function FI(e){const t=e[PI];return t?t.type_:Array.isArray(e)?1:VI(e)?2:UI(e)?3:0}function jI(e,t){return 2===FI(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zI(e,t,n){const r=FI(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function VI(e){return e instanceof Map}function UI(e){return e instanceof Set}function BI(e){return e.copy_||e.base_}function qI(e,t){if(VI(e))return new Map(e);if(UI(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&MI(e)){if(!AI(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[PI];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],o=n[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(AI(e),n)}function WI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return KI(e)||NI(e)||!DI(e)||(FI(e)>1&&(e.set=e.add=e.clear=e.delete=HI),Object.freeze(e),t&&LI(e,((e,t)=>WI(t,!0)))),e}function HI(){RI(2)}function KI(e){return Object.isFrozen(e)}var GI,QI={};function $I(e){const t=QI[e];return t||RI(0),t}function YI(){return GI}function XI(e,t){t&&($I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function JI(e){ZI(e),e.drafts_.forEach(tP),e.drafts_=null}function ZI(e){e===GI&&(GI=e.parent_)}function eP(e){return GI={drafts_:[],parent_:GI,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tP(e){const t=e[PI];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function nP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[PI].modified_&&(JI(t),RI(4)),DI(e)&&(e=rP(t,e),t.parent_||oP(t,e)),t.patches_&&$I("Patches").generateReplacementPatches_(n[PI].base_,e,t.patches_,t.inversePatches_)):e=rP(t,n,[]),JI(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TI?e:void 0}function rP(e,t,n){if(KI(t))return t;const r=t[PI];if(!r)return LI(t,((i,o)=>iP(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return oP(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),LI(i,((i,s)=>iP(e,r,t,i,s,n,o))),oP(e,t,!1),n&&e.patches_&&$I("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function iP(e,t,n,r,i,o,s){if(NI(i)){const s=rP(e,i,o&&t&&3!==t.type_&&!jI(t.assigned_,r)?o.concat(r):void 0);if(zI(n,r,s),!NI(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(DI(i)&&!KI(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;rP(e,i),t&&t.scope_.parent_||oP(e,i)}}function oP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&WI(t,n)}var sP={get(e,t){if(t===PI)return e;const n=BI(e);if(!jI(n,t))return function(e,t,n){var r;const i=cP(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!DI(r)?r:r===lP(e.base_,t)?(hP(e),e.copy_[t]=dP(r,e)):r},has:(e,t)=>t in BI(e),ownKeys:e=>Reflect.ownKeys(BI(e)),set(e,t,n){const r=cP(BI(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=lP(BI(e),t),i=null===r||void 0===r?void 0:r[PI];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||jI(e.base_,t)))return!0;hP(e),uP(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==lP(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,hP(e),uP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=BI(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){RI(11)},getPrototypeOf:e=>AI(e.base_),setPrototypeOf(){RI(12)}},aP={};function lP(e,t){const n=e[PI];return(n?BI(n):e)[t]}function cP(e,t){if(!(t in e))return;let n=AI(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=AI(n)}}function uP(e){e.modified_||(e.modified_=!0,e.parent_&&uP(e.parent_))}function hP(e){e.copy_||(e.copy_=qI(e.base_,e.scope_.immer_.useStrictShallowCopy_))}LI(sP,((e,t)=>{aP[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),aP.deleteProperty=function(e,t){return aP.set.call(this,e,t,void 0)},aP.set=function(e,t,n){return sP.set.call(this,e[0],t,n,e[0])};function dP(e,t){const n=VI(e)?$I("MapSet").proxyMap_(e,t):UI(e)?$I("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:YI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=sP;n&&(i=[r],o=aP);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:YI()).drafts_.push(n),n}function fP(e){return NI(e)||RI(10),pP(e)}function pP(e){if(!DI(e)||KI(e))return e;const t=e[PI];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qI(e,t.scope_.immer_.useStrictShallowCopy_)}else n=qI(e,!0);return LI(n,((e,t)=>{zI(n,e,pP(t))})),t&&(t.finalized_=!1),n}var mP=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&RI(6),void 0!==n&&"function"!==typeof n&&RI(7),DI(e)){const i=eP(this),o=dP(e,void 0);let s=!0;try{r=t(o),s=!1}finally{s?JI(i):ZI(i)}return XI(i,n),nP(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===TI&&(r=void 0),this.autoFreeze_&&WI(r,!0),n){const t=[],i=[];$I("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}RI(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const o=this.produce(e,n,((e,t)=>{r=e,i=t}));return[o,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){DI(e)||RI(8),NI(e)&&(e=fP(e));const t=eP(this),n=dP(e,void 0);return n[PI].isManual_=!0,ZI(t),n}finishDraft(e,t){const n=e&&e[PI];n&&n.isManual_||RI(9);const{scope_:r}=n;return XI(r,t),nP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=$I("Patches").applyPatches_;return NI(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},gP=mP.produce;mP.produceWithPatches.bind(mP),mP.setAutoFreeze.bind(mP),mP.setUseStrictShallowCopy.bind(mP),mP.applyPatches.bind(mP),mP.createDraft.bind(mP),mP.finishDraft.bind(mP);function vP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var yP=e=>Array.isArray(e)?e:[e];function bP(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var _P="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},wP=0,SP=1;function kP(){return{s:wP,v:void 0,o:null,p:null}}function xP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=kP();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=kP(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=kP(),e.set(n,t)):t=r}}const a=t;let l;if(t.s===SP?l=t.v:(l=e.apply(null,arguments),o++),a.s=SP,r){var c,u,h;const e=null!==(c=null===(u=i)||void 0===u||null===(h=u.deref)||void 0===h?void 0:h.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new _P(l):l}return a.v=l,l}return s.clearCache=()=>{n=kP(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function CP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,s=0,a={},l=t.pop();"object"===typeof l&&(a=l,l=t.pop()),vP(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c={...i,...a},{memoize:u,memoizeOptions:h=[],argsMemoize:d=xP,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=yP(h),g=yP(f),v=bP(t),y=u((function(){return o++,l.apply(null,arguments)}),...m);const b=d((function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:d})};return Object.assign(o,{withTypes:()=>o}),o}var EP=CP(xP),TP=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EP;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>TP});function IP(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var PP=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),RP=()=>Math.random().toString(36).substring(7).split("").join("."),AP={INIT:"@@redux/INIT".concat(RP()),REPLACE:"@@redux/REPLACE".concat(RP()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(RP())};function NP(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function DP(e,t,n){if("function"!==typeof e)throw new Error(IP(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(IP(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(IP(1));return n(DP)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(l)throw new Error(IP(3));return i}function h(e){if("function"!==typeof e)throw new Error(IP(4));if(l)throw new Error(IP(5));let t=!0;c();const n=a++;return s.set(n,e),function(){if(t){if(l)throw new Error(IP(6));t=!1,c(),s.delete(n),o=null}}}function d(e){if(!NP(e))throw new Error(IP(7));if("undefined"===typeof e.type)throw new Error(IP(8));if("string"!==typeof e.type)throw new Error(IP(17));if(l)throw new Error(IP(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=s).forEach((e=>{e()})),e}d({type:AP.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(IP(10));r=e,d({type:AP.REPLACE})},[PP]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(IP(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[PP](){return this}}}}}function OP(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:AP.INIT}))throw new Error(IP(12));if("undefined"===typeof n(void 0,{type:AP.PROBE_UNKNOWN_ACTION()}))throw new Error(IP(13))}))}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const s={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(IP(14))}s[a]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?s:e}}function MP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function LP(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var FP=LP(),jP=LP,zP=(function(){const e=CP(...arguments)}(xP),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?MP:MP.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function VP(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(lR(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return NP(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var UP=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function BP(e){return DI(e)?gP(e,(()=>{})):e}function qP(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(lR(10));const r=n.insert(t,e);return e.set(t,r),r}var WP=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let o=new UP;return t&&(!function(e){return"boolean"===typeof e}(t)?o.push(jP(t.extraArgument)):o.push(FP)),o},HP="RTK_autoBatch",KP=e=>t=>{setTimeout(t,e)},GP="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:KP(10),QP=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new UP(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const s=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?GP:"callback"===e.type?e.queueNotification:KP(e.timeout),l=()=>{o=!1,i&&(i=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[HP]),i=!r,i&&(o||(o=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r},$P=!0;function YP(e){const t=WP(),{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:s}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!NP(n))throw new Error(lR(1));a=OP(n)}if(!$P&&r&&"function"!==typeof r)throw new Error(lR(2));if("function"===typeof r){if(l=r(t),!$P&&!Array.isArray(l))throw new Error(lR(3))}else l=t();if(!$P&&l.some((e=>"function"!==typeof e)))throw new Error(lR(4));let c=MP;i&&(c=zP({trace:!$P,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(IP(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},a=t.map((e=>e(s)));return o=MP(...a)(i.dispatch),{...i,dispatch:o}}}(...l),h=QP(u);if(!$P&&s&&"function"!==typeof s)throw new Error(lR(5));let d="function"===typeof s?s(h):h();if(!$P&&!Array.isArray(d))throw new Error(lR(6));if(!$P&&d.some((e=>"function"!==typeof e)))throw new Error(lR(7));$P||!l.length||d.includes(u)||console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");return DP(a,o,c(...d))}function XP(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(lR(28));if(r in t)throw new Error(lR(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var JP=Symbol.for("rtk-slice-createasyncthunk");function ZP(e,t){return"".concat(e,"/").concat(t)}function eR(e,t,n,r){function i(i){let o=n.call(e,i);"undefined"===typeof o&&r&&(o=e.getInitialState());for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return t(o,...a)}return i.unwrapped=t,i}var tR=function(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[JP];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(lR(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(lR(12));if(n in s.sliceCaseReducersByType)throw new Error(lR(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?XP(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=XP(t);if(function(e){return"function"===typeof e}(e))n=()=>BP(e());else{const t=BP(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(NI(e)){const r=n(e,t);return void 0===r?e:r}if(DI(e))return gP(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(lR(9))}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],s={reducerName:r,type:ZP(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:s,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(lR(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(s,r).exposeAction(s,i?VP(o,i):VP(o))}(s,o,a):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(lR(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:h}=t,d=r(i,s,h);n.exposeAction(o,d),a&&n.addCase(d.fulfilled,a);l&&n.addCase(d.pending,l);c&&n.addCase(d.rejected,c);u&&n.addMatcher(d.settled,u);n.exposeCaseReducer(o,{fulfilled:a||nR,pending:l||nR,rejected:c||nR,settled:u||nR})}(s,o,a,n)}));const c=e=>e,u=new WeakMap;let h;const d={name:t,reducerPath:r,reducer:(e,t)=>(h||(h=l()),h(e,t)),actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:()=>(h||(h=l()),h.getInitialState()),getSelectors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=qP(u,this,{insert:()=>new WeakMap});return qP(n,t,{insert:()=>{const n={};for(const[i,o]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;n[i]=eR(this,o,t,this!==d)}return n}})},selectSlice(e){let t=e[this.reducerPath];return"undefined"===typeof t&&this!==d&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=null!==t&&void 0!==t?t:this.reducerPath;return e.inject({reducerPath:r,reducer:this.reducer},n),{...this,reducerPath:r}}};return d}}();function nR(){}var rR="listener",iR="completed",oR="cancelled";"task-".concat(oR),"task-".concat(iR),"".concat(rR,"-").concat(oR),"".concat(rR,"-").concat(iR);var{assign:sR}=Object,aR="listenerMiddleware";VP("".concat(aR,"/add")),VP("".concat(aR,"/removeAll")),VP("".concat(aR,"/remove"));Symbol.for("rtk-state-proxy-original");function lR(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const cR=tR({name:"guest",initialState:{guestName:""},reducers:{setGuestName:(e,t)=>{e.guestName=t.payload,console.log("\u0417\u0410\u0421\u0422\u041e\u0420\u0418\u041b \u0438\u043c\u044f")},setGuestId:(e,t)=>{e.guestId=t.payload,console.log("\u0417\u0410\u0421\u0422\u041e\u0420\u0418\u041b \u0438\u0434\u044d")},displayState:(e,t)=>{e.displayState=t.payload}}}),{setGuestName:uR,setGuestId:hR,displayState:dR}=cR.actions,fR=cR.reducer,pR=[{id:1,name:"\u0421\u0438\u043d\u044f\u043a"},{id:2,name:"\u041a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a"},{id:3,name:"\u041a\u043e\u0442\u0438\u043a"},{id:4,name:"\u0428\u0440\u0435\u043a"},{id:5,name:"\u0422\u0430\u043f\u043e\u043a"},{id:6,name:"\u041c\u0435\u0434\u0432\u0435\u0436\u043e\u043d\u043e\u043a"},{id:7,name:"\u0427\u0435\u0431\u0443\u0440\u0430\u0448\u043a\u0430"},{id:8,name:"\u041a\u0440\u043e\u043a\u043e\u0434\u0438\u043b \u0413\u0435\u043d\u0430"},{id:9,name:"\u0412\u043e\u043b\u043a"},{id:10,name:"\u0417\u0430\u044f\u0446"},{id:11,name:"\u041f\u0438\u043d\u0433\u0432\u0438\u043d"},{id:12,name:"\u0422\u0430\u0440\u0437\u0430\u043d"},{id:13,name:"\u0421\u043b\u043e\u043d"},{id:14,name:"\u041b\u0435\u0432"},{id:15,name:"\u0422\u0438\u0433\u0440\u044c"},{id:16,name:"\u0417\u043c\u0435\u0439"},{id:17,name:"\u041a\u0440\u043e\u043b\u0438\u043a"},{id:18,name:"\u0421\u043e\u0431\u0430\u043a\u0430"},{id:19,name:"\u041a\u043e\u0442"},{id:20,name:"\u041f\u0442\u0438\u0446\u0430"},{id:21,name:"\u041b\u043e\u0432\u043a\u0430\u0447"},{id:22,name:"\u041c\u0443\u0445\u0430"},{id:23,name:"\u041f\u0447\u0435\u043b\u0430"},{id:24,name:"\u0421\u0438\u043b\u0430\u0447"},{id:25,name:"\u0416\u0438\u0440\u0430\u0444\u0438\u043a"},{id:26,name:"\u0415\u043d\u043e\u0442"},{id:27,name:"\u0412\u043e\u0440\u043e\u0431\u0435\u0439"},{id:28,name:"\u0421\u043e\u0432\u0430"},{id:29,name:"\u0413\u0430\u0442\u0441"},{id:30,name:"\u0413\u0440\u0438\u0444\u0444\u0438\u0442\u0441"},{id:31,name:"\u041a\u043e\u0442\u044d"},{id:32,name:"\u041a\u043b\u0435\u0442\u0447\u0430\u0442\u043a\u0430"},{id:33,name:"\u0413\u0435\u043d\u043d\u0430\u0434\u0438\u0439"},{id:34,name:"\u0420\u0443\u043a\u0430\u0431\u043b\u0443\u0434"},{id:35,name:"\u041d\u043e\u0433\u0430\u0431\u043b\u0443\u0434"},{id:36,name:"\u0411\u043e\u0441\u0441"},{id:37,name:"\u0422\u043e\u0432\u0430\u0440\u0438\u0449\u044c"},{id:38,name:"\u0413\u043e\u0440\u0448\u043e\u043a"},{id:39,name:"\u041d\u0435\u043a\u0438\u0439"},{id:40,name:"\u041a\u043b\u044e\u0432"},{id:41,name:"\u0421\u0430\u0439\u0442\u0430\u043c\u0430"},{id:42,name:"\u0421\u043e\u043d\u0438\u043a"},{id:43,name:"\u0412\u0435\u0434\u0436\u0438\u0442\u0442\u0430"},{id:44,name:"\u041d\u0430\u0440\u0443\u0442\u043e"},{id:45,name:"\u0421\u0430\u0441\u043a\u0435"},{id:46,name:"\u041a\u0435\u043d\u0448\u0438 \u0425\u0438\u043c\u0443\u0440\u0430"},{id:47,name:"\u041a\u0430\u043a\u0430\u0448\u0438"},{id:48,name:"\u0413\u0438\u043d\u0442\u043e\u043a\u0438"},{id:49,name:"\u041c\u0430\u0434\u0430\u043e"},{id:50,name:"\u0411\u0438\u043b\u043b\u0438 \u0425\u0435\u0440\u0440\u0438\u043d\u0433\u0442\u043e\u043d"}];var mR=fS((function(e,t){const n=dE("Link",e),{className:r,isExternal:i,...o}=sx(e);return(0,Ls.jsx)(tE.a,{target:i?"_blank":void 0,rel:i?"noopener":void 0,ref:t,className:pS("chakra-link",r),...o,__css:n})}));mR.displayName="Link";const gR=()=>(0,Ls.jsx)(mR,{color:"#fffefe",href:"https://github.com/gfR616/ChatSimple",position:"absolute",right:10,bottom:5,children:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0430 GitHub"});var vR=fS((function(e,t){var n;const r=dE("FormLabel",e),i=sx(e),{className:o,children:s,requiredIndicator:a=(0,Ls.jsx)(yR,{}),optionalIndicator:l=null,...c}=i,u=vE(),h=null!=(n=null==u?void 0:u.getLabelProps(c,t))?n:{ref:t,...c};return(0,Ls.jsxs)(tE.label,{...h,className:pS("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[s,(null==u?void 0:u.isRequired)?a:l]})}));vR.displayName="FormLabel";var yR=fS((function(e,t){const n=vE(),r=mE();if(!(null==n?void 0:n.isRequired))return null;const i=pS("chakra-form__required-indicator",e.className);return(0,Ls.jsx)(tE.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:r.requiredIndicator,className:i})}));yR.displayName="RequiredIndicator";var bR=fS((function(e,t){const{htmlSize:n,...r}=e,i=fE("Input",r),o=_E(sx(r)),s=pS("chakra-input",e.className);return(0,Ls.jsx)(tE.input,{size:n,...o,__css:i.field,ref:t,className:s})}));bR.displayName="Input",bR.id="Input";var[_R,wR]=sE({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),SR=fS((function(e,t){const n=fE("Input",e),{children:r,className:i,...o}=sx(e),s=pS("chakra-input__group",i),a={},l=function(e){return Os.Children.toArray(e).filter((e=>(0,Os.isValidElement)(e)))}(r),c=n.field;l.forEach((e=>{var t,r;n&&(c&&"InputLeftElement"===e.type.id&&(a.paddingStart=null!=(t=c.height)?t:c.h),c&&"InputRightElement"===e.type.id&&(a.paddingEnd=null!=(r=c.height)?r:c.h),"InputRightAddon"===e.type.id&&(a.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(a.borderStartRadius=0))}));const u=l.map((t=>{var n,r;const i=rE({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(r=t.props)?void 0:r.variant)||e.variant});return"Input"!==t.type.id?(0,Os.cloneElement)(t,i):(0,Os.cloneElement)(t,Object.assign(i,a,t.props))}));return(0,Ls.jsx)(tE.div,{className:s,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...n.group},"data-group":!0,...o,children:(0,Ls.jsx)(_R,{value:n,children:u})})}));SR.displayName="InputGroup";var kR=tE("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),xR=fS((function(e,t){var n,r;const{placement:i="left",...o}=e,s=wR(),a=s.field,l={["left"===i?"insetStart":"insetEnd"]:"0",width:null!=(n=null==a?void 0:a.height)?n:null==a?void 0:a.h,height:null!=(r=null==a?void 0:a.height)?r:null==a?void 0:a.h,fontSize:null==a?void 0:a.fontSize,...s.element};return(0,Ls.jsx)(kR,{ref:t,__css:l,...o})}));xR.id="InputElement",xR.displayName="InputElement";var CR=fS((function(e,t){const{className:n,...r}=e,i=pS("chakra-input__left-element",n);return(0,Ls.jsx)(xR,{ref:t,placement:"left",className:i,...r})}));CR.id="InputLeftElement",CR.displayName="InputLeftElement";var ER=fS((function(e,t){const{className:n,...r}=e,i=pS("chakra-input__right-element",n);return(0,Ls.jsx)(xR,{ref:t,placement:"right",className:i,...r})}));ER.id="InputRightElement",ER.displayName="InputRightElement";const TR=()=>{(0,Os.useEffect)((()=>{localStorage.clear(),lS()}),[]);let e=jT();const t=CI(),[n,r]=(0,Os.useState)(!1),[i,o]=(0,Os.useState)(""),[s,a]=(0,Os.useState)("");return(0,Ls.jsxs)(LE,{bgSize:"cover",w:"100vw",h:"100vh",overflow:"hidden",children:[(0,Ls.jsxs)(LE,{borderRadius:"5px",border:"1px solid black",w:"500px",h:"auto",margin:"auto",mt:"100px",overflow:"hidden",bgColor:"#2b312d",opacity:.9,children:[(0,Ls.jsx)(LE,{mt:3,mr:3,textAlign:"center",children:(0,Ls.jsx)(zE,{color:"#f4f4f4fa",as:"b",textAlign:"center",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 SimpleChat!"})}),(0,Ls.jsx)(LE,{ml:3,mt:3,children:(0,Ls.jsx)(zE,{color:"#fafafafa",children:"\u041b\u043e\u0433\u0438\u043d\u044c\u0442\u0435\u0441\u044c \u0438\u043b\u0438 \u0431\u0443\u0434\u044c\u0442\u0435 \u0433\u043e\u0441\u0442\u0435\u043c"})}),(0,Ls.jsx)(LE,{m:2,color:"#fafafafa",children:(0,Ls.jsxs)("form",{children:[(0,Ls.jsxs)(yE,{children:[(0,Ls.jsx)(vR,{m:1,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443:"}),(0,Ls.jsx)(bR,{type:"email",name:"email",placeholder:"Enter e-mail",pr:"4.5rem",onChange:e=>{o(e.target.value)},autoComplete:"email"})]}),(0,Ls.jsxs)(yE,{children:[(0,Ls.jsx)(vR,{m:1,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ls.jsxs)(SR,{size:"md",children:[(0,Ls.jsx)(bR,{name:"password",pr:"4.5rem",type:n?"text":"password",placeholder:"Enter password",onChange:e=>{a(e.target.value)},autoComplete:"current-password"}),(0,Ls.jsx)(ER,{width:"4.5rem",children:(0,Ls.jsx)(DE,{h:"1.75rem",size:"sm",onClick:()=>r(!n),children:n?"Hide":"Show"})})]})]}),(0,Ls.jsxs)(nE,{templateColumns:"repeat(5, 1fr)",gap:2,m:5,mr:0,ml:0,children:[(0,Ls.jsx)(oE,{children:(0,Ls.jsx)(DE,{w:"110px",h:"40px",colorScheme:"green",onClick:()=>(async()=>{try{await sS(i,s,e)}catch(gt){alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!"),console.log(gt.message)}})(),children:"Login"})}),(0,Ls.jsx)(oE,{children:(0,Ls.jsx)(DE,{w:"110px",h:"40px",onClick:()=>{let n=pR[Math.floor(50*Math.random())+1].name;t(uR(n)),e("/chat",{replace:!0});const r=Ds("1234567890abcdef",28)();t(hR(r))},children:"be a guest"})}),(0,Ls.jsx)(oE,{colStart:5,children:(0,Ls.jsx)(DE,{w:"110px",h:"40px",colorScheme:"whiteAlpha",onClick:()=>{e("/register")},children:"Register"})})]})]})})]}),(0,Ls.jsx)(gR,{})]})};var[IR,PR]=sE({name:"CheckboxGroupContext",strict:!1});function RR(e){return(0,Ls.jsx)(tE.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:(0,Ls.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function AR(e){return(0,Ls.jsx)(tE.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:(0,Ls.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function NR(e){const{isIndeterminate:t,isChecked:n,...r}=e,i=t?AR:RR;return n||t?(0,Ls.jsx)(tE.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,Ls.jsx)(i,{...r})}):null}var DR=Boolean(null==globalThis?void 0:globalThis.document)?Os.useLayoutEffect:Os.useEffect;function OR(e,t){const n=(0,Os.useRef)(!1),r=(0,Os.useRef)(!1);(0,Os.useEffect)((()=>{if(n.current&&r.current)return e();r.current=!0}),t),(0,Os.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[])}function MR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,Os.useRef)(e);return(0,Os.useEffect)((()=>{n.current=e})),(0,Os.useCallback)((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==(e=n.current)?void 0:e.call(n,...r)}),t)}var LR={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};var FR=()=>"undefined"!==typeof document;var jR=!1,zR=null,VR=!1,UR=!1,BR=new Set;function qR(e,t){BR.forEach((n=>n(e,t)))}var WR="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function HR(e){var t;VR=!0,(t=e).metaKey||!WR&&t.altKey||t.ctrlKey||"Control"===t.key||"Shift"===t.key||"Meta"===t.key||(zR="keyboard",qR("keyboard",e))}function KR(e){if(zR="pointer","mousedown"===e.type||"pointerdown"===e.type){VR=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;qR("pointer",e)}}function GR(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||0===t.detail&&!t.pointerType)&&(VR=!0,zR="virtual")}function QR(e){e.target!==window&&e.target!==document&&(VR||UR||(zR="virtual",qR("virtual",e)),VR=!1,UR=!1)}function $R(){VR=!1,UR=!0}function YR(){return"pointer"!==zR}function XR(){if(!FR()||jR)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(){VR=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n)},document.addEventListener("keydown",HR,!0),document.addEventListener("keyup",HR,!0),document.addEventListener("click",GR,!0),window.addEventListener("focus",QR,!0),window.addEventListener("blur",$R,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",KR,!0),document.addEventListener("pointermove",KR,!0),document.addEventListener("pointerup",KR,!0)):(document.addEventListener("mousedown",KR,!0),document.addEventListener("mousemove",KR,!0),document.addEventListener("mouseup",KR,!0)),jR=!0}function JR(e){XR(),e(YR());const t=()=>e(YR());return BR.add(t),()=>{BR.delete(t)}}function ZR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=wE(e),{isDisabled:n,isReadOnly:r,isRequired:i,isInvalid:o,id:s,onBlur:a,onFocus:l,"aria-describedby":c}=t,{defaultChecked:u,isChecked:h,isFocusable:d,onChange:f,isIndeterminate:p,name:m,value:g,tabIndex:v,"aria-label":y,"aria-labelledby":b,"aria-invalid":_,...w}=e,S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(w,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),k=MR(f),x=MR(a),C=MR(l),[E,T]=(0,Os.useState)(!1),[I,P]=(0,Os.useState)(!1),[R,A]=(0,Os.useState)(!1),[N,D]=(0,Os.useState)(!1);(0,Os.useEffect)((()=>JR(T)),[]);const O=(0,Os.useRef)(null),[M,L]=(0,Os.useState)(!0),[F,j]=(0,Os.useState)(!!u),z=void 0!==h,V=z?h:F,U=(0,Os.useCallback)((e=>{r||n?e.preventDefault():(z||j(V?e.target.checked:!!p||e.target.checked),null==k||k(e))}),[r,n,V,z,p,k]);DR((()=>{O.current&&(O.current.indeterminate=Boolean(p))}),[p]),OR((()=>{n&&P(!1)}),[n,P]),DR((()=>{const e=O.current;if(!(null==e?void 0:e.form))return;const t=()=>{j(!!u)};return e.form.addEventListener("reset",t),()=>{var n;return null==(n=e.form)?void 0:n.removeEventListener("reset",t)}}),[]);const B=n&&!d,q=(0,Os.useCallback)((e=>{" "===e.key&&D(!0)}),[D]),W=(0,Os.useCallback)((e=>{" "===e.key&&D(!1)}),[D]);DR((()=>{if(!O.current)return;O.current.checked!==V&&j(O.current.checked)}),[O.current]);const H=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,"data-active":yS(N),"data-hover":yS(R),"data-checked":yS(V),"data-focus":yS(I),"data-focus-visible":yS(I&&E),"data-indeterminate":yS(p),"data-disabled":yS(n),"data-invalid":yS(o),"data-readonly":yS(r),"aria-hidden":!0,onMouseDown:_S(e.onMouseDown,(e=>{I&&e.preventDefault(),D(!0)})),onMouseUp:_S(e.onMouseUp,(()=>D(!1))),onMouseEnter:_S(e.onMouseEnter,(()=>A(!0))),onMouseLeave:_S(e.onMouseLeave,(()=>A(!1)))}}),[N,V,n,I,E,R,p,o,r]),K=(0,Os.useCallback)((function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"data-active":yS(N),"data-hover":yS(R),"data-checked":yS(V),"data-focus":yS(I),"data-focus-visible":yS(I&&E),"data-indeterminate":yS(p),"data-disabled":yS(n),"data-invalid":yS(o),"data-readonly":yS(r)}}),[N,V,n,I,E,R,p,o,r]),G=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...S,...e,ref:aE(t,(e=>{e&&L("LABEL"===e.tagName)})),onClick:_S(e.onClick,(()=>{var e;M||(null==(e=O.current)||e.click(),requestAnimationFrame((()=>{var e;null==(e=O.current)||e.focus({preventScroll:!0})})))})),"data-disabled":yS(n),"data-checked":yS(V),"data-invalid":yS(o)}}),[S,n,V,o,M]),Q=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:aE(O,t),type:"checkbox",name:m,value:g,id:s,tabIndex:v,onChange:_S(e.onChange,U),onBlur:_S(e.onBlur,x,(()=>P(!1))),onFocus:_S(e.onFocus,C,(()=>P(!0))),onKeyDown:_S(e.onKeyDown,q),onKeyUp:_S(e.onKeyUp,W),required:i,checked:V,disabled:B,readOnly:r,"aria-label":y,"aria-labelledby":b,"aria-invalid":_?Boolean(_):o,"aria-describedby":c,"aria-disabled":n,style:LR}}),[m,g,s,U,x,C,q,W,i,V,B,r,y,b,_,o,c,n,v]),$=(0,Os.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...e,ref:t,onMouseDown:_S(e.onMouseDown,eA),"data-disabled":yS(n),"data-checked":yS(V),"data-invalid":yS(o)}}),[V,n,o]);return{state:{isInvalid:o,isFocused:I,isChecked:V,isActive:N,isHovered:R,isIndeterminate:p,isDisabled:n,isReadOnly:r,isRequired:i},getRootProps:G,getCheckboxProps:H,getIndicatorProps:K,getInputProps:Q,getLabelProps:$,htmlProps:S}}function eA(e){e.preventDefault(),e.stopPropagation()}var tA={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},nA={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},rA=PE({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),iA=PE({from:{opacity:0},to:{opacity:1}}),oA=PE({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),sA=fS((function(e,t){const n=PR(),r=fE("Checkbox",{...n,...e}),i=sx(e),{spacing:o="0.5rem",className:s,children:a,iconColor:l,iconSize:c,icon:u=(0,Ls.jsx)(NR,{}),isChecked:h,isDisabled:d=(null==n?void 0:n.isDisabled),onChange:f,inputProps:p,...m}=i;let g=h;(null==n?void 0:n.value)&&i.value&&(g=n.value.includes(i.value));let v=f;(null==n?void 0:n.onChange)&&i.value&&(v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((t=>{null==t||t(e)}))}}(n.onChange,f));const{state:y,getInputProps:b,getCheckboxProps:_,getLabelProps:w,getRootProps:S}=ZR({...m,isDisabled:d,isChecked:g,onChange:v}),k=function(e){const[t,n]=(0,Os.useState)(e),[r,i]=(0,Os.useState)(!1);return e!==t&&(i(!0),n(e)),r}(y.isChecked),x=(0,Os.useMemo)((()=>({animation:k?y.isIndeterminate?"".concat(iA," 20ms linear, ").concat(oA," 200ms linear"):"".concat(rA," 200ms linear"):void 0,fontSize:c,color:l,...r.icon})),[l,c,k,y.isIndeterminate,r.icon]),C=(0,Os.cloneElement)(u,{__css:x,isIndeterminate:y.isIndeterminate,isChecked:y.isChecked});return(0,Ls.jsxs)(tE.label,{__css:{...nA,...r.container},className:pS("chakra-checkbox",s),...S(),children:[(0,Ls.jsx)("input",{className:"chakra-checkbox__input",...b(p,t)}),(0,Ls.jsx)(tE.span,{__css:{...tA,...r.control},className:"chakra-checkbox__control",..._(),children:C}),a&&(0,Ls.jsx)(tE.span,{className:"chakra-checkbox__label",...w(),__css:{marginStart:o,...r.label},children:a})]})}));sA.displayName="Checkbox";const aA=()=>{const e=jT(),[t,n]=(0,Os.useState)(!1),[r,i]=(0,Os.useState)(!1),[o,s]=(0,Os.useState)(""),[a,l]=(0,Os.useState)(""),[c,u]=(0,Os.useState)(""),[h,d]=(0,Os.useState)(""),[f,p]=(0,Os.useState)(!1);return(0,Ls.jsxs)(LE,{bgSize:"cover",w:"100vw",h:"100vh",overflow:"hidden",children:[(0,Ls.jsxs)(LE,{borderRadius:"5px",border:"1px solid black",w:"500px",h:"auto",margin:"auto",mt:"100px",overflow:"hidden",bgColor:"#2b312d",opacity:.9,children:[(0,Ls.jsx)(LE,{mt:3,mr:3,textAlign:"center",children:(0,Ls.jsx)(zE,{color:"#f4f4f4fa",as:"b",textAlign:"center",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 SimpleChat!"})}),(0,Ls.jsx)(LE,{ml:3,mt:3,children:(0,Ls.jsx)(zE,{color:"#fafafafa",children:"\u0417\u0434\u0435\u0441\u044c \u043e\u0431\u044b\u0447\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f"})}),(0,Ls.jsxs)(LE,{m:2,color:"#fafafafa",children:[(0,Ls.jsxs)("form",{children:[(0,Ls.jsxs)(yE,{isRequired:!0,children:[(0,Ls.jsx)(vR,{m:1,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443:"}),(0,Ls.jsx)(bR,{placeholder:"Enter e-mail",pr:"4.5rem",autoComplete:"off",onChange:e=>{s(e.target.value)}})]}),(0,Ls.jsx)(LE,{h:"2rem",w:"10px"}),(0,Ls.jsxs)(yE,{isRequired:!0,children:[(0,Ls.jsx)(vR,{m:1,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ls.jsxs)(SR,{size:"md",children:[(0,Ls.jsx)(bR,{pr:"4.5rem",type:t?"text":"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:",autoComplete:"off",onChange:e=>{l(e.target.value)}}),(0,Ls.jsx)(ER,{width:"4.5rem",children:(0,Ls.jsx)(DE,{h:"1.75rem",size:"sm",onClick:()=>n(!t),children:t?"Hide":"Show"})})]})]}),(0,Ls.jsxs)(yE,{isRequired:!0,children:[(0,Ls.jsx)(vR,{m:1,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ls.jsxs)(SR,{size:"md",children:[(0,Ls.jsx)(bR,{pr:"4.5rem",type:r?"text":"password",placeholder:"Repeat password",autoComplete:"off",onChange:e=>{u(e.target.value)}}),(0,Ls.jsx)(ER,{width:"4.5rem",children:(0,Ls.jsx)(DE,{h:"1.75rem",size:"sm",onClick:()=>i(!r),children:r?"Hide":"Show"})})]})]}),(0,Ls.jsx)(LE,{h:"2rem",w:"10px"}),(0,Ls.jsxs)(yE,{isRequired:!0,children:[(0,Ls.jsx)(vR,{m:1,children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u0438\u043a\u043d\u0435\u0439\u043c:"}),(0,Ls.jsxs)(SR,{size:"md",children:[(0,Ls.jsx)(bR,{pr:"4.5rem",placeholder:"Your nickname",onChange:e=>{d(e.target.value)}}),(0,Ls.jsx)(ER,{width:"4.5rem"})]})]})]}),(0,Ls.jsx)(sA,{mt:3,onChange:()=>{p(!f)},children:"\u042f \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d(\u043d\u0430) \u043d\u0430 \u0432\u0441\u0435. \u041d\u0435 \u0431\u043e\u0439\u0441\u044f, \u0436\u043c\u0438! ; )"}),(0,Ls.jsxs)(nE,{templateColumns:"repeat(5, 1fr)",gap:2,m:5,mr:0,ml:0,children:[(0,Ls.jsx)(oE,{colStart:1,children:(0,Ls.jsx)(DE,{w:"110px",h:"40px",colorScheme:"whiteAlpha",onClick:()=>{e("/auth")},children:"Back"})}),(0,Ls.jsx)(oE,{colStart:5,children:(0,Ls.jsx)(DE,{w:"110px",h:"40px",colorScheme:"green",onClick:async()=>{if(a&&c&&h&&f)if(a===c)try{await aS(o,c,h,e)}catch(gt){alert("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),console.log(gt.message)}else alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!");else alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!")},children:"Register!"})})]})]})]}),(0,Ls.jsx)(gR,{})]})},lA=()=>{const{user:e}=hS();return(0,Ls.jsxs)(Ls.Fragment,{children:[(0,Ls.jsx)(LE,{children:e?"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f: ".concat(e.displayName):"Loading..."}),(0,Ls.jsx)(LE,{children:e?"Email: ".concat(e.email):"Loading..."})]})};function cA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uA,hA,dA=String.raw,fA=dA(uA||(uA=cA(["\n  :root,\n  :host {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root,\n    :host {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root,\n    :host {\n      --chakra-vh: 100dvh;\n    }\n  }\n"]))),pA=()=>(0,Ls.jsx)(TE,{styles:fA}),mA=e=>{let{scope:t=""}=e;return(0,Ls.jsx)(TE,{styles:dA(hA||(hA=cA(['\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        margin: 0;\n        font-feature-settings: "kern";\n      }\n\n      '," :where(*, *::before, *::after) {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n        word-wrap: break-word;\n      }\n\n      main {\n        display: block;\n      }\n\n      "," hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      "," :where(pre, code, kbd,samp) {\n        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      "," a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      "," abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      "," :where(b, strong) {\n        font-weight: bold;\n      }\n\n      "," small {\n        font-size: 80%;\n      }\n\n      "," :where(sub,sup) {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      "," sub {\n        bottom: -0.25em;\n      }\n\n      "," sup {\n        top: -0.5em;\n      }\n\n      "," img {\n        border-style: none;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      "," :where(button, input) {\n        overflow: visible;\n      }\n\n      "," :where(button, select) {\n        text-transform: none;\n      }\n\n      ",' :where(\n          button::-moz-focus-inner,\n          [type="button"]::-moz-focus-inner,\n          [type="reset"]::-moz-focus-inner,\n          [type="submit"]::-moz-focus-inner\n        ) {\n        border-style: none;\n        padding: 0;\n      }\n\n      '," fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      "," legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      "," progress {\n        vertical-align: baseline;\n      }\n\n      "," textarea {\n        overflow: auto;\n      }\n\n      ",' :where([type="checkbox"], [type="radio"]) {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      ',' input[type="number"]::-webkit-inner-spin-button,\n      ',' input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      ',' input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      ',' input[type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      ',' input[type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      '," ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      "," details {\n        display: block;\n      }\n\n      "," summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      "," :where(\n          blockquote,\n          dl,\n          dd,\n          h1,\n          h2,\n          h3,\n          h4,\n          h5,\n          h6,\n          hr,\n          figure,\n          p,\n          pre\n        ) {\n        margin: 0;\n      }\n\n      "," button {\n        background: transparent;\n        padding: 0;\n      }\n\n      "," fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," :where(ol, ul) {\n        margin: 0;\n        padding: 0;\n      }\n\n      "," textarea {\n        resize: vertical;\n      }\n\n      ",' :where(button, [role="button"]) {\n        cursor: pointer;\n      }\n\n      '," button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      "," table {\n        border-collapse: collapse;\n      }\n\n      "," :where(h1, h2, h3, h4, h5, h6) {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      "," :where(button, input, optgroup, select, textarea) {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      "," :where(img, svg, video, canvas, audio, iframe, embed, object) {\n        display: block;\n      }\n\n      "," :where(img, video) {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible]\n        :focus:not([data-focus-visible-added]):not(\n          [data-focus-visible-disabled]\n        ) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      "," select::-ms-expand {\n        display: none;\n      }\n\n      ","\n    "])),t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,fA)})},[gA,vA]=sE({strict:!1,name:"PortalManagerContext"});function yA(e){const{children:t,zIndex:n}=e;return(0,Ls.jsx)(gA,{value:{zIndex:n},children:t})}function bA(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=(0,Os.useMemo)((()=>Gk(n)),[n]);return(0,Ls.jsxs)(BC,{theme:i,children:[(0,Ls.jsx)(_A,{root:t}),r]})}function _A(e){let{root:t=":host, :root"}=e;const n=[t,"[data-theme]"].join(",");return(0,Ls.jsx)(TE,{styles:e=>({[n]:e.__cssVars})})}yA.displayName="PortalManager";var[wA,SA]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=(0,Os.createContext)(void 0);return i.displayName=r,[i.Provider,function e(){var r;const o=(0,Os.useContext)(i);if(!o&&t){const t=new Error(n);throw t.name="ContextError",null==(r=Error.captureStackTrace)||r.call(Error,t,e),t}return o},i]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function kA(){const{colorMode:e}=hx();return(0,Ls.jsx)(TE,{styles:t=>{const n=mx(dx(t,"styles.global"),{theme:t,colorMode:e});if(!n)return;return nx(n)(t)}})}var xA={light:"chakra-ui-light",dark:"chakra-ui-dark"};var CA="chakra-ui-color-mode";var EA,TA=(EA=CA,{ssr:!1,type:"localStorage",get(e){if(!(null==globalThis?void 0:globalThis.document))return e;let t;try{t=localStorage.getItem(EA)||e}catch(n){}return t||e},set(e){try{localStorage.setItem(EA,e)}catch(t){}}});function IA(e,t){const n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==n?void 0:n[2]}function PA(e,t){return{ssr:!!t,type:"cookie",get:n=>t?IA(t,e):(null==globalThis?void 0:globalThis.document)&&IA(document.cookie,e)||n,set(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}PA(CA);var RA=()=>{};function AA(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function NA(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=TA}=e,a="dark"===i?"dark":"light",[l,c]=(0,Os.useState)((()=>AA(s,a))),[u,h]=(0,Os.useState)((()=>AA(s))),{getSystemTheme:d,setClassName:f,setDataset:p,addListener:m}=(0,Os.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:t=!0}=e,n={setDataset:e=>{const r=t?n.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==r||r()},setClassName(e){document.body.classList.add(e?xA.dark:xA.light),document.body.classList.remove(e?xA.light:xA.dark)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(e){var t;return(null!=(t=n.query().matches)?t:"dark"===e)?"dark":"light"},addListener(e){const t=n.query(),r=t=>{e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(r):t.addEventListener("change",r),()=>{"function"===typeof t.removeListener?t.removeListener(r):t.removeEventListener("change",r)}},preventTransition(){const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(e)}))}))}}};return n}({preventTransition:o})),[o]),g="system"!==i||l?l:u,v=(0,Os.useCallback)((e=>{const t="system"===e?d():e;c(t),f("dark"===t),p(t),s.set(t)}),[s,d,f,p]);DR((()=>{"system"===i&&h(d())}),[]),(0,Os.useEffect)((()=>{const e=s.get();v(e||("system"!==i?a:"system"))}),[s,a,i,v]);const y=(0,Os.useCallback)((()=>{v("dark"===g?"light":"dark")}),[g,v]);(0,Os.useEffect)((()=>{if(r)return m(v)}),[r,m,v]);const b=(0,Os.useMemo)((()=>({colorMode:null!=t?t:g,toggleColorMode:t?RA:y,setColorMode:t?RA:v,forced:void 0!==t})),[g,y,v,t]);return(0,Ls.jsx)(ux.Provider,{value:b,children:n})}NA.displayName="ColorModeProvider";var DA=(0,Os.createContext)({getDocument:()=>document,getWindow:()=>window});function OA(e){const{children:t,environment:n,disabled:r}=e,i=(0,Os.useRef)(null),o=(0,Os.useMemo)((()=>n||{getDocument:()=>{var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument)?t:document},getWindow:()=>{var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument.defaultView)?t:window}}),[n]),s=!r||!n;return(0,Ls.jsxs)(DA.Provider,{value:o,children:[t,s&&(0,Ls.jsx)("span",{id:"__chakra_env",hidden:!0,ref:i})]})}DA.displayName="EnvironmentContext",OA.displayName="EnvironmentProvider";var MA=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=e,h=(0,Ls.jsx)(OA,{environment:a,disabled:c,children:t});return(0,Ls.jsx)(bA,{theme:s,cssVarsRoot:l,children:(0,Ls.jsxs)(NA,{colorModeManager:n,options:s.config,children:[o?(0,Ls.jsx)(mA,{scope:i}):(0,Ls.jsx)(pA,{}),!u&&(0,Ls.jsx)(kA,{}),r?(0,Ls.jsx)(yA,{zIndex:r,children:h}):h]})})},LA={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},FA={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},jA={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},zA={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},VA={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},UA={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},BA={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},qA={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},WA={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},HA={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},KA={...HA,max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},GA={breakpoints:zA,zIndices:FA,radii:UA,blur:qA,colors:VA,...WA,sizes:KA,shadows:BA,space:HA,borders:jA,transition:LA},{defineMultiStyleConfig:QA,definePartsStyle:$A}=rx(["stepper","step","title","description","indicator","separator","icon","number"]),YA=_k("stepper-indicator-size"),XA=_k("stepper-icon-size"),JA=_k("stepper-title-font-size"),ZA=_k("stepper-description-font-size"),eN=_k("stepper-accent-color"),tN=QA({baseStyle:$A((e=>{let{colorScheme:t}=e;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[eN.variable]:"colors.".concat(t,".500"),_dark:{[eN.variable]:"colors.".concat(t,".200")}},title:{fontSize:JA.reference,fontWeight:"medium"},description:{fontSize:ZA.reference,color:"chakra-subtle-text"},number:{fontSize:JA.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:XA.reference,height:XA.reference},indicator:{flexShrink:0,borderRadius:"full",width:YA.reference,height:YA.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:eN.reference},"&[data-status=complete]":{bg:eN.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:eN.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:"calc(100% - ".concat(YA.reference," - 8px)"),top:"calc(".concat(YA.reference," + 4px)"),insetStart:"calc(".concat(YA.reference," / 2 - 1px)")}}}})),sizes:{xs:$A({stepper:{[YA.variable]:"sizes.4",[XA.variable]:"sizes.3",[JA.variable]:"fontSizes.xs",[ZA.variable]:"fontSizes.xs"}}),sm:$A({stepper:{[YA.variable]:"sizes.6",[XA.variable]:"sizes.4",[JA.variable]:"fontSizes.sm",[ZA.variable]:"fontSizes.xs"}}),md:$A({stepper:{[YA.variable]:"sizes.8",[XA.variable]:"sizes.5",[JA.variable]:"fontSizes.md",[ZA.variable]:"fontSizes.sm"}}),lg:$A({stepper:{[YA.variable]:"sizes.10",[XA.variable]:"sizes.6",[JA.variable]:"fontSizes.lg",[ZA.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function nN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){const n=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:()=>t}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(const e of o)t[e]=r(e);return nN(e,t)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const e of i)e in t||(t[e]=r(e));return nN(e,t)},selectors:function(){const e=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.selector]})));return e},classnames:function(){const e=Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t,n.className]})));return e},get keys(){return Object.keys(t)},__type:{}}}var rN=nN("accordion").parts("root","container","button","panel").extend("icon"),iN=nN("alert").parts("title","description","container").extend("icon","spinner"),oN=nN("avatar").parts("label","badge","container").extend("excessLabel","group"),sN=nN("breadcrumb").parts("link","item","container").extend("separator"),aN=(nN("button").parts(),nN("checkbox").parts("control","icon","container").extend("label")),lN=(nN("progress").parts("track","filledTrack").extend("label"),nN("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),cN=nN("editable").parts("preview","input","textarea"),uN=nN("form").parts("container","requiredIndicator","helperText"),hN=nN("formError").parts("text","icon"),dN=nN("input").parts("addon","field","element","group"),fN=nN("list").parts("container","item","icon"),pN=nN("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),mN=nN("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),gN=nN("numberinput").parts("root","field","stepperGroup","stepper"),vN=(nN("pininput").parts("field"),nN("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),yN=nN("progress").parts("label","filledTrack","track"),bN=nN("radio").parts("container","control","label"),_N=nN("select").parts("field","icon"),wN=nN("slider").parts("container","track","thumb","filledTrack","mark"),SN=nN("stat").parts("container","label","helpText","number","icon"),kN=nN("switch").parts("container","track","thumb","label"),xN=nN("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),CN=nN("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),EN=nN("tag").parts("container","label","closeButton"),TN=nN("card").parts("container","header","body","footer");nN("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function IN(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function PN(e,t){return"var(".concat(IN(e)).concat(t?", ".concat(t):"",")")}function RN(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",IN(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function AN(e,t){const n=RN(e,null==t?void 0:t.prefix);return{variable:n,reference:PN(n,NN(null==t?void 0:t.fallback))}}function NN(e){return"string"===typeof e?e:null==e?void 0:e.reference}function DN(e){return mS(e)&&e.reference?e.reference:String(e)}var ON=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(DN).join(" ".concat(e," ")).replace(/calc/g,"")},MN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(ON("+",...t),")")},LN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(ON("-",...t),")")},FN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(ON("*",...t),")")},jN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(ON("/",...t),")")},zN=e=>{const t=DN(e);return null==t||Number.isNaN(parseFloat(t))?FN(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},VN=Object.assign((e=>({add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VN(MN(e,...n))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VN(LN(e,...n))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VN(FN(e,...n))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VN(jN(e,...n))},negate:()=>VN(zN(e)),toString:()=>e.toString()})),{add:MN,subtract:LN,multiply:FN,divide:jN,negate:zN}),{defineMultiStyleConfig:UN,definePartsStyle:BN}=rx(kN.keys),qN=AN("switch-track-width"),WN=AN("switch-track-height"),HN=AN("switch-track-diff"),KN=VN.subtract(qN,WN),GN=AN("switch-thumb-x"),QN=AN("switch-bg"),$N=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[qN.reference],height:[WN.reference],transitionProperty:"common",transitionDuration:"fast",[QN.variable]:"colors.gray.300",_dark:{[QN.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[QN.variable]:"colors.".concat(t,".500"),_dark:{[QN.variable]:"colors.".concat(t,".200")}},bg:QN.reference}},YN={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[WN.reference],height:[WN.reference],_checked:{transform:"translateX(".concat(GN.reference,")")}},XN=UN({baseStyle:BN((e=>({container:{[HN.variable]:KN,[GN.variable]:HN.reference,_rtl:{[GN.variable]:VN(HN).negate().toString()}},track:$N(e),thumb:YN}))),sizes:{sm:BN({container:{[qN.variable]:"1.375rem",[WN.variable]:"sizes.3"}}),md:BN({container:{[qN.variable]:"1.875rem",[WN.variable]:"sizes.4"}}),lg:BN({container:{[qN.variable]:"2.875rem",[WN.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}});function JN(e,t){return n=>"dark"===n.colorMode?t:e}function ZN(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?"vertical"===t?n:r:{}}var{defineMultiStyleConfig:eD,definePartsStyle:tD}=rx(xN.keys),nD=tD({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),rD={"&[data-is-numeric=true]":{textAlign:"end"}},iD=eD({baseStyle:nD,variants:{simple:tD((e=>{const{colorScheme:t}=e;return{th:{color:JN("gray.600","gray.400")(e),borderBottom:"1px",borderColor:JN("".concat(t,".100"),"".concat(t,".700"))(e),...rD},td:{borderBottom:"1px",borderColor:JN("".concat(t,".100"),"".concat(t,".700"))(e),...rD},caption:{color:JN("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),striped:tD((e=>{const{colorScheme:t}=e;return{th:{color:JN("gray.600","gray.400")(e),borderBottom:"1px",borderColor:JN("".concat(t,".100"),"".concat(t,".700"))(e),...rD},td:{borderBottom:"1px",borderColor:JN("".concat(t,".100"),"".concat(t,".700"))(e),...rD},caption:{color:JN("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:JN("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:JN("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),unstyled:{}},sizes:{sm:tD({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:tD({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:tD({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function oD(e,t,n){return Math.min(Math.max(e,n),t)}class sD extends Error{constructor(e){super('Failed to parse color: "'.concat(e,'"'))}}var aD=sD;function lD(e){if("string"!==typeof e)throw new aD(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=gD.test(e)?function(e){const t=e.toLowerCase().trim(),n=uD[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new aD(e);return"#".concat(n)}(e):e;const n=dD.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(hD(e,2),16))),parseInt(hD(e[3]||"f",2),16)/255]}const r=fD.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const i=pD.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const o=mD.exec(t);if(o){const[t,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(oD(0,100,n)!==n)throw new aD(e);if(oD(0,100,r)!==r)throw new aD(e);return[...yD(t,n,r),Number.isNaN(i)?1:i]}throw new aD(e)}const cD=e=>parseInt(e.replace(/_/g,""),36),uD="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=cD(t.substring(0,3)),r=cD(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]="".concat(i).concat(r),e}),{});const hD=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),dD=new RegExp("^#".concat(hD("([a-f0-9])",3),"([a-f0-9])?$"),"i"),fD=new RegExp("^#".concat(hD("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),pD=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(hD(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),mD=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,gD=/^[a-z]+$/i,vD=e=>Math.round(255*e),yD=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(vD);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,c=s):i>=3&&i<4?(l=s,c=o):i>=4&&i<5?(a=s,c=o):i>=5&&i<6&&(a=o,c=s);const u=r-o/2;return[a+u,l+u,c+u].map(vD)};function bD(e,t,n,r){return"rgba(".concat(oD(0,255,e).toFixed(),", ").concat(oD(0,255,t).toFixed(),", ").concat(oD(0,255,n).toFixed(),", ").concat(parseFloat(oD(0,1,r).toFixed(3)),")")}function _D(e,t){const[n,r,i,o]=lD(e);return bD(n,r,i,o-t)}var wD=(e,t,n)=>{const r=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}(e,"colors.".concat(t),t);try{return function(e){const[t,n,r,i]=lD(e);let o=e=>{const t=oD(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(o(t)).concat(o(n)).concat(o(r)).concat(i<1?o(Math.round(255*i)):"")}(r),r}catch{return null!=n?n:"#000000"}},SD=e=>t=>{const n=(e=>{const[t,n,r]=lD(e);return(299*t+587*n+114*r)/1e3})(wD(t,e));return n<128?"dark":"light"},kD=(e,t)=>n=>_D(wD(n,e),1-t);function xD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}function CD(e){const t="#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"));return e&&(n=e,0!==Object.keys(n).length)?e.string&&e.colors?function(e,t){let n=0;if(0===e.length)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){let t=0;if(0===e.length)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t&=t;let n="#";for(let r=0;r<3;r+=1){n+="00".concat((t>>8*r&255).toString(16)).substr(-2)}return n}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t:t;var n}var ED=_k("tabs-color"),TD=_k("tabs-bg"),ID=_k("tabs-border-color"),{defineMultiStyleConfig:PD,definePartsStyle:RD}=rx(CN.keys),AD=e=>{const{orientation:t}=e;return{display:"vertical"===t?"flex":"block"}},ND=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},DD=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:"vertical"===n?"column":"row"}},OD={p:4},MD=RD((e=>({root:AD(e),tab:ND(e),tablist:DD(e),tabpanel:OD}))),LD={sm:RD({tab:{py:1,px:4,fontSize:"sm"}}),md:RD({tab:{fontSize:"md",py:2,px:4}}),lg:RD({tab:{fontSize:"lg",py:3,px:4}})},FD=RD((e=>{const{colorScheme:t,orientation:n}=e,r="vertical"===n,i=r?"borderStart":"borderBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[r?"marginStart":"marginBottom"]:"-2px",_selected:{[ED.variable]:"colors.".concat(t,".600"),_dark:{[ED.variable]:"colors.".concat(t,".300")},borderColor:"currentColor"},_active:{[TD.variable]:"colors.gray.200",_dark:{[TD.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ED.reference,bg:TD.reference}}})),jD=RD((e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ID.variable]:"transparent",_selected:{[ED.variable]:"colors.".concat(t,".600"),[ID.variable]:"colors.white",_dark:{[ED.variable]:"colors.".concat(t,".300"),[ID.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ID.reference},color:ED.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),zD=RD((e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[TD.variable]:"colors.gray.50",_dark:{[TD.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[TD.variable]:"colors.white",[ED.variable]:"colors.".concat(t,".600"),_dark:{[TD.variable]:"colors.gray.800",[ED.variable]:"colors.".concat(t,".300")},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ED.reference,bg:TD.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),VD=RD((e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:wD(n,"".concat(t,".700")),bg:wD(n,"".concat(t,".100"))}}}})),UD=PD({baseStyle:MD,sizes:LD,variants:{line:FD,enclosed:jD,"enclosed-colored":zD,"soft-rounded":VD,"solid-rounded":RD((e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[ED.variable]:"colors.gray.600",_dark:{[ED.variable]:"inherit"},_selected:{[ED.variable]:"colors.white",[TD.variable]:"colors.".concat(t,".600"),_dark:{[ED.variable]:"colors.gray.800",[TD.variable]:"colors.".concat(t,".300")}},color:ED.reference,bg:TD.reference}}})),unstyled:RD({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),BD=function(e,t){const n={};for(const r of t)if(Array.isArray(r)){const[t,i]=r;n[t]=_k("".concat(e,"-").concat(t),i)}else n[r]=_k("".concat(e,"-").concat(r));return n}("badge",["bg","color","shadow"]),qD=e=>{const{colorScheme:t,theme:n}=e,r=kD("".concat(t,".500"),.6)(n);return{[BD.bg.variable]:"colors.".concat(t,".500"),[BD.color.variable]:"colors.white",_dark:{[BD.bg.variable]:r,[BD.color.variable]:"colors.whiteAlpha.800"}}},WD=e=>{const{colorScheme:t,theme:n}=e,r=kD("".concat(t,".200"),.16)(n);return{[BD.bg.variable]:"colors.".concat(t,".100"),[BD.color.variable]:"colors.".concat(t,".800"),_dark:{[BD.bg.variable]:r,[BD.color.variable]:"colors.".concat(t,".200")}}},HD=e=>{const{colorScheme:t,theme:n}=e,r=kD("".concat(t,".200"),.8)(n);return{[BD.color.variable]:"colors.".concat(t,".500"),_dark:{[BD.color.variable]:r},[BD.shadow.variable]:"inset 0 0 0px 1px ".concat(BD.color.reference)}},KD={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:BD.bg.reference,color:BD.color.reference,boxShadow:BD.shadow.reference},variants:{solid:qD,subtle:WD,outline:HD},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:GD,definePartsStyle:QD}=rx(EN.keys),$D=_k("tag-bg"),YD=_k("tag-color"),XD=_k("tag-shadow"),JD=_k("tag-min-height"),ZD=_k("tag-min-width"),eO=_k("tag-font-size"),tO=_k("tag-padding-inline"),nO=QD({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[YD.variable]:BD.color.reference,[$D.variable]:BD.bg.reference,[XD.variable]:BD.shadow.reference,color:YD.reference,bg:$D.reference,boxShadow:XD.reference,borderRadius:"md",minH:JD.reference,minW:ZD.reference,fontSize:eO.reference,px:tO.reference,_focusVisible:{[XD.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),rO={sm:QD({container:{[JD.variable]:"sizes.5",[ZD.variable]:"sizes.5",[eO.variable]:"fontSizes.xs",[tO.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:QD({container:{[JD.variable]:"sizes.6",[ZD.variable]:"sizes.6",[eO.variable]:"fontSizes.sm",[tO.variable]:"space.2"}}),lg:QD({container:{[JD.variable]:"sizes.8",[ZD.variable]:"sizes.8",[eO.variable]:"fontSizes.md",[tO.variable]:"space.3"}})},iO={subtle:QD((e=>{var t;return{container:null==(t=KD.variants)?void 0:t.subtle(e)}})),solid:QD((e=>{var t;return{container:null==(t=KD.variants)?void 0:t.solid(e)}})),outline:QD((e=>{var t;return{container:null==(t=KD.variants)?void 0:t.outline(e)}}))},oO=GD({variants:iO,baseStyle:nO,sizes:rO,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:sO,defineMultiStyleConfig:aO}=rx(dN.keys),lO=_k("input-height"),cO=_k("input-font-size"),uO=_k("input-padding"),hO=_k("input-border-radius"),dO=sO({addon:{height:lO.reference,fontSize:cO.reference,px:uO.reference,borderRadius:hO.reference},field:{width:"100%",height:lO.reference,fontSize:cO.reference,px:uO.reference,borderRadius:hO.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),fO={lg:{[cO.variable]:"fontSizes.lg",[uO.variable]:"space.4",[hO.variable]:"radii.md",[lO.variable]:"sizes.12"},md:{[cO.variable]:"fontSizes.md",[uO.variable]:"space.4",[hO.variable]:"radii.md",[lO.variable]:"sizes.10"},sm:{[cO.variable]:"fontSizes.sm",[uO.variable]:"space.3",[hO.variable]:"radii.sm",[lO.variable]:"sizes.8"},xs:{[cO.variable]:"fontSizes.xs",[uO.variable]:"space.2",[hO.variable]:"radii.sm",[lO.variable]:"sizes.6"}},pO={lg:sO({field:fO.lg,group:fO.lg}),md:sO({field:fO.md,group:fO.md}),sm:sO({field:fO.sm,group:fO.sm}),xs:sO({field:fO.xs,group:fO.xs})};function mO(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||JN("blue.500","blue.300")(e),errorBorderColor:n||JN("red.500","red.300")(e)}}var gO,vO,yO,bO,_O,wO,SO,kO,xO,CO,EO,TO=sO((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=mO(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:JN("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wD(t,r),boxShadow:"0 0 0 1px ".concat(wD(t,r))},_focusVisible:{zIndex:1,borderColor:wD(t,n),boxShadow:"0 0 0 1px ".concat(wD(t,n))}},addon:{border:"1px solid",borderColor:JN("inherit","whiteAlpha.50")(e),bg:JN("gray.100","whiteAlpha.300")(e)}}})),IO=sO((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=mO(e);return{field:{border:"2px solid",borderColor:"transparent",bg:JN("gray.100","whiteAlpha.50")(e),_hover:{bg:JN("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wD(t,r)},_focusVisible:{bg:"transparent",borderColor:wD(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:JN("gray.100","whiteAlpha.50")(e)}}})),PO=sO((e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=mO(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wD(t,r),boxShadow:"0px 1px 0px 0px ".concat(wD(t,r))},_focusVisible:{borderColor:wD(t,n),boxShadow:"0px 1px 0px 0px ".concat(wD(t,n))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),RO=aO({baseStyle:dO,sizes:pO,variants:{outline:TO,filled:IO,flushed:PO,unstyled:sO({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),AO={...null==(gO=RO.baseStyle)?void 0:gO.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},NO={outline:e=>{var t,n;return null!=(n=null==(t=RO.variants)?void 0:t.outline(e).field)?n:{}},flushed:e=>{var t,n;return null!=(n=null==(t=RO.variants)?void 0:t.flushed(e).field)?n:{}},filled:e=>{var t,n;return null!=(n=null==(t=RO.variants)?void 0:t.filled(e).field)?n:{}},unstyled:null!=(yO=null==(vO=RO.variants)?void 0:vO.unstyled.field)?yO:{}},DO={baseStyle:AO,sizes:{xs:null!=(_O=null==(bO=RO.sizes)?void 0:bO.xs.field)?_O:{},sm:null!=(SO=null==(wO=RO.sizes)?void 0:wO.sm.field)?SO:{},md:null!=(xO=null==(kO=RO.sizes)?void 0:kO.md.field)?xO:{},lg:null!=(EO=null==(CO=RO.sizes)?void 0:CO.lg.field)?EO:{}},variants:NO,defaultProps:{size:"md",variant:"outline"}},OO=AN("tooltip-bg"),MO=AN("tooltip-fg"),LO=AN("popper-arrow-bg"),FO={baseStyle:{bg:OO.reference,color:MO.reference,[OO.variable]:"colors.gray.700",[MO.variable]:"colors.whiteAlpha.900",_dark:{[OO.variable]:"colors.gray.300",[MO.variable]:"colors.gray.900"},[LO.variable]:OO.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},{defineMultiStyleConfig:jO,definePartsStyle:zO}=rx(yN.keys),VO=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=JN(xD(),xD("1rem","rgba(0,0,0,0.1)"))(e),s=JN("".concat(t,".500"),"".concat(t,".200"))(e),a="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(wD(n,s)," 50%,\n    transparent 100%\n  )");return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},UO={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},BO=e=>({bg:JN("gray.100","whiteAlpha.300")(e)}),qO=e=>({transitionProperty:"common",transitionDuration:"slow",...VO(e)}),WO=zO((e=>({label:UO,filledTrack:qO(e),track:BO(e)}))),HO=jO({sizes:{xs:zO({track:{h:"1"}}),sm:zO({track:{h:"2"}}),md:zO({track:{h:"3"}}),lg:zO({track:{h:"4"}})},baseStyle:WO,defaultProps:{size:"md",colorScheme:"blue"}});function KO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e(...n):e}var GO,QO,$O,YO,XO,JO,ZO,eM,tM,{definePartsStyle:nM,defineMultiStyleConfig:rM}=rx(aN.keys),iM=_k("checkbox-size"),oM=e=>{const{colorScheme:t}=e;return{w:iM.reference,h:iM.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:JN("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:JN("".concat(t,".500"),"".concat(t,".200"))(e),color:JN("white","gray.900")(e),_hover:{bg:JN("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:JN("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:JN("gray.200","transparent")(e),bg:JN("gray.200","whiteAlpha.300")(e),color:JN("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:JN("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:JN("".concat(t,".500"),"".concat(t,".200"))(e),color:JN("white","gray.900")(e)},_disabled:{bg:JN("gray.100","whiteAlpha.100")(e),borderColor:JN("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:JN("red.500","red.300")(e)}}},sM={_disabled:{cursor:"not-allowed"}},aM={userSelect:"none",_disabled:{opacity:.4}},lM={transitionProperty:"transform",transitionDuration:"normal"},cM=rM({baseStyle:nM((e=>({icon:lM,container:sM,control:KO(oM,e),label:aM}))),sizes:{sm:nM({control:{[iM.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:nM({control:{[iM.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:nM({control:{[iM.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:uM,definePartsStyle:hM}=rx(bN.keys),dM=e=>{var t;const n=null==(t=KO(cM.baseStyle,e))?void 0:t.control;return{...n,borderRadius:"full",_checked:{...null==n?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},fM=hM((e=>{var t,n,r,i;return{label:null==(n=(t=cM).baseStyle)?void 0:n.call(t,e).label,container:null==(i=(r=cM).baseStyle)?void 0:i.call(r,e).container,control:dM(e)}})),pM=uM({baseStyle:fM,sizes:{md:hM({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:hM({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:hM({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:mM,definePartsStyle:gM}=rx(_N.keys),vM=_k("select-bg"),yM={paddingInlineEnd:"8"},bM=mM({baseStyle:gM({field:{...null==(GO=RO.baseStyle)?void 0:GO.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:vM.reference,[vM.variable]:"colors.white",_dark:{[vM.variable]:"colors.gray.700"},"> option, > optgroup":{bg:vM.reference}},icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:{...null==(QO=RO.sizes)?void 0:QO.lg,field:{...null==($O=RO.sizes)?void 0:$O.lg.field,...yM}},md:{...null==(YO=RO.sizes)?void 0:YO.md,field:{...null==(XO=RO.sizes)?void 0:XO.md.field,...yM}},sm:{...null==(JO=RO.sizes)?void 0:JO.sm,field:{...null==(ZO=RO.sizes)?void 0:ZO.sm.field,...yM}},xs:{...null==(eM=RO.sizes)?void 0:eM.xs,field:{...null==(tM=RO.sizes)?void 0:tM.xs.field,...yM},icon:{insetEnd:"1"}}},variants:RO.variants,defaultProps:RO.defaultProps}),_M=_k("skeleton-start-color"),wM=_k("skeleton-end-color"),SM={baseStyle:{[_M.variable]:"colors.gray.100",[wM.variable]:"colors.gray.400",_dark:{[_M.variable]:"colors.gray.800",[wM.variable]:"colors.gray.600"},background:_M.reference,borderColor:wM.reference,opacity:.7,borderRadius:"sm"}},kM=_k("skip-link-bg"),xM={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[kM.variable]:"colors.white",_dark:{[kM.variable]:"colors.gray.700"},bg:kM.reference}}},{defineMultiStyleConfig:CM,definePartsStyle:EM}=rx(wN.keys),TM=_k("slider-thumb-size"),IM=_k("slider-track-size"),PM=_k("slider-bg"),RM=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...ZN({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},AM=e=>({...ZN({orientation:e.orientation,horizontal:{h:IM.reference},vertical:{w:IM.reference}}),overflow:"hidden",borderRadius:"sm",[PM.variable]:"colors.gray.200",_dark:{[PM.variable]:"colors.whiteAlpha.200"},_disabled:{[PM.variable]:"colors.gray.300",_dark:{[PM.variable]:"colors.whiteAlpha.300"}},bg:PM.reference}),NM=e=>{const{orientation:t}=e;return{...ZN({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:TM.reference,h:TM.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},DM=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[PM.variable]:"colors.".concat(t,".500"),_dark:{[PM.variable]:"colors.".concat(t,".200")},bg:PM.reference}},OM=CM({baseStyle:EM((e=>({container:RM(e),track:AM(e),thumb:NM(e),filledTrack:DM(e)}))),sizes:{lg:EM({container:{[TM.variable]:"sizes.4",[IM.variable]:"sizes.1"}}),md:EM({container:{[TM.variable]:"sizes.3.5",[IM.variable]:"sizes.1"}}),sm:EM({container:{[TM.variable]:"sizes.2.5",[IM.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),MM=AN("spinner-size"),LM={baseStyle:{width:[MM.reference],height:[MM.reference]},sizes:{xs:{[MM.variable]:"sizes.3"},sm:{[MM.variable]:"sizes.4"},md:{[MM.variable]:"sizes.6"},lg:{[MM.variable]:"sizes.8"},xl:{[MM.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:FM,definePartsStyle:jM}=rx(SN.keys),zM=FM({baseStyle:jM({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:jM({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),VM=_k("kbd-bg"),UM={baseStyle:{[VM.variable]:"colors.gray.100",_dark:{[VM.variable]:"colors.whiteAlpha.100"},bg:VM.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},BM={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:qM,definePartsStyle:WM}=rx(fN.keys),HM=qM({baseStyle:WM({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:KM,definePartsStyle:GM}=rx(pN.keys),QM=_k("menu-bg"),$M=_k("menu-shadow"),YM=KM({baseStyle:GM({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[QM.variable]:"#fff",[$M.variable]:"shadows.sm",_dark:{[QM.variable]:"colors.gray.700",[$M.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:QM.reference,boxShadow:$M.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[QM.variable]:"colors.gray.100",_dark:{[QM.variable]:"colors.whiteAlpha.100"}},_active:{[QM.variable]:"colors.gray.200",_dark:{[QM.variable]:"colors.whiteAlpha.200"}},_expanded:{[QM.variable]:"colors.gray.100",_dark:{[QM.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:QM.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:XM,definePartsStyle:JM}=rx(mN.keys),ZM=_k("modal-bg"),eL=_k("modal-shadow"),tL={bg:"blackAlpha.600",zIndex:"modal"},nL=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},rL=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[ZM.variable]:"colors.white",[eL.variable]:"shadows.lg",_dark:{[ZM.variable]:"colors.gray.700",[eL.variable]:"shadows.dark-lg"},bg:ZM.reference,boxShadow:eL.reference}},iL={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},oL={position:"absolute",top:"2",insetEnd:"3"},sL=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:"inside"===t?"auto":void 0}},aL={px:"6",py:"4"};function lL(e){return JM("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var cL=XM({baseStyle:JM((e=>({overlay:tL,dialogContainer:KO(nL,e),dialog:KO(rL,e),header:iL,closeButton:oL,body:KO(sL,e),footer:aL}))),sizes:{xs:lL("xs"),sm:lL("sm"),md:lL("md"),lg:lL("lg"),xl:lL("xl"),"2xl":lL("2xl"),"3xl":lL("3xl"),"4xl":lL("4xl"),"5xl":lL("5xl"),"6xl":lL("6xl"),full:lL("full")},defaultProps:{size:"md"}}),{defineMultiStyleConfig:uL,definePartsStyle:hL}=rx(gN.keys),dL=AN("number-input-stepper-width"),fL=AN("number-input-input-padding"),pL=VN(dL).add("0.5rem").toString(),mL=AN("number-input-bg"),gL=AN("number-input-color"),vL=AN("number-input-border-color"),yL={[dL.variable]:"sizes.6",[fL.variable]:pL},bL=e=>{var t,n;return null!=(n=null==(t=KO(RO.baseStyle,e))?void 0:t.field)?n:{}},_L={width:dL.reference},wL={borderStart:"1px solid",borderStartColor:vL.reference,color:gL.reference,bg:mL.reference,[gL.variable]:"colors.chakra-body-text",[vL.variable]:"colors.chakra-border-color",_dark:{[gL.variable]:"colors.whiteAlpha.800",[vL.variable]:"colors.whiteAlpha.300"},_active:{[mL.variable]:"colors.gray.200",_dark:{[mL.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},SL=hL((e=>{var t;return{root:yL,field:null!=(t=KO(bL,e))?t:{},stepperGroup:_L,stepper:wL}}));function kL(e){var t,n,r;const i=null==(t=RO.sizes)?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",a=WA.fontSizes[s];return hL({field:{...i.field,paddingInlineEnd:fL.reference,verticalAlign:"top"},stepper:{fontSize:VN(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var xL,CL,EL,TL=uL({baseStyle:SL,sizes:{xs:kL("xs"),sm:kL("sm"),md:kL("md"),lg:kL("lg")},variants:RO.variants,defaultProps:RO.defaultProps}),IL={...null==(xL=RO.baseStyle)?void 0:xL.field,textAlign:"center"},PL={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},RL={outline:e=>{var t,n,r;return null!=(r=null==(n=KO(null==(t=RO.variants)?void 0:t.outline,e))?void 0:n.field)?r:{}},flushed:e=>{var t,n,r;return null!=(r=null==(n=KO(null==(t=RO.variants)?void 0:t.flushed,e))?void 0:n.field)?r:{}},filled:e=>{var t,n,r;return null!=(r=null==(n=KO(null==(t=RO.variants)?void 0:t.filled,e))?void 0:n.field)?r:{}},unstyled:null!=(EL=null==(CL=RO.variants)?void 0:CL.unstyled.field)?EL:{}},AL={baseStyle:IL,sizes:PL,variants:RL,defaultProps:RO.defaultProps},{defineMultiStyleConfig:NL,definePartsStyle:DL}=rx(vN.keys),OL=AN("popper-bg"),ML=AN("popper-arrow-bg"),LL=AN("popper-arrow-shadow-color"),FL=NL({baseStyle:DL({popper:{zIndex:10},content:{[OL.variable]:"colors.white",bg:OL.reference,[ML.variable]:OL.reference,[LL.variable]:"colors.gray.200",_dark:{[OL.variable]:"colors.gray.700",[LL.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{definePartsStyle:jL,defineMultiStyleConfig:zL}=rx(lN.keys),VL=_k("drawer-bg"),UL=_k("drawer-box-shadow");function BL(e){return jL("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var qL={bg:"blackAlpha.600",zIndex:"modal"},WL={display:"flex",zIndex:"modal",justifyContent:"center"},HL=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[VL.variable]:"colors.white",[UL.variable]:"shadows.lg",_dark:{[VL.variable]:"colors.gray.700",[UL.variable]:"shadows.dark-lg"},bg:VL.reference,boxShadow:UL.reference}},KL={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},GL={position:"absolute",top:"2",insetEnd:"3"},QL={px:"6",py:"2",flex:"1",overflow:"auto"},$L={px:"6",py:"4"},YL=zL({baseStyle:jL((e=>({overlay:qL,dialogContainer:WL,dialog:KO(HL,e),header:KL,closeButton:GL,body:QL,footer:$L}))),sizes:{xs:BL("xs"),sm:BL("md"),md:BL("lg"),lg:BL("2xl"),xl:BL("4xl"),full:BL("full")},defaultProps:{size:"xs"}}),{definePartsStyle:XL,defineMultiStyleConfig:JL}=rx(cN.keys),ZL=JL({baseStyle:XL({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:eF,defineMultiStyleConfig:tF}=rx(uN.keys),nF=_k("form-control-color"),rF=tF({baseStyle:eF({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[nF.variable]:"colors.red.500",_dark:{[nF.variable]:"colors.red.300"},color:nF.reference},helperText:{mt:"2",[nF.variable]:"colors.gray.600",_dark:{[nF.variable]:"colors.whiteAlpha.600"},color:nF.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:iF,defineMultiStyleConfig:oF}=rx(hN.keys),sF=_k("form-error-color"),aF=oF({baseStyle:iF({text:{[sF.variable]:"colors.red.500",_dark:{[sF.variable]:"colors.red.300"},color:sF.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[sF.variable]:"colors.red.500",_dark:{[sF.variable]:"colors.red.300"},color:sF.reference}})}),lF={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},cF={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{defineMultiStyleConfig:uF,definePartsStyle:hF}=rx(sN.keys),dF=_k("breadcrumb-link-decor"),fF=uF({baseStyle:hF({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:dF.reference,[dF.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[dF.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})}),pF=e=>{const{colorScheme:t,theme:n}=e;if("gray"===t)return{color:JN("gray.800","whiteAlpha.900")(e),_hover:{bg:JN("gray.100","whiteAlpha.200")(e)},_active:{bg:JN("gray.200","whiteAlpha.300")(e)}};const r=kD("".concat(t,".200"),.12)(n),i=kD("".concat(t,".200"),.24)(n);return{color:JN("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:JN("".concat(t,".50"),r)(e)},_active:{bg:JN("".concat(t,".100"),i)(e)}}},mF={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},gF=e=>{var t;const{colorScheme:n}=e;if("gray"===n){const t=JN("gray.100","whiteAlpha.200")(e);return{bg:t,color:JN("gray.800","whiteAlpha.900")(e),_hover:{bg:JN("gray.200","whiteAlpha.300")(e),_disabled:{bg:t}},_active:{bg:JN("gray.300","whiteAlpha.400")(e)}}}const{bg:r="".concat(n,".500"),color:i="white",hoverBg:o="".concat(n,".600"),activeBg:s="".concat(n,".700")}=null!=(t=mF[n])?t:{},a=JN(r,"".concat(n,".200"))(e);return{bg:a,color:JN(i,"gray.800")(e),_hover:{bg:JN(o,"".concat(n,".300"))(e),_disabled:{bg:a}},_active:{bg:JN(s,"".concat(n,".400"))(e)}}},vF={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:pF,outline:e=>{const{colorScheme:t}=e,n=JN("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...KO(pF,e)}},solid:gF,link:e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:JN("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:JN("".concat(t,".700"),"".concat(t,".500"))(e)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:yF,defineMultiStyleConfig:bF}=rx(TN.keys),_F=_k("card-bg"),wF=_k("card-padding"),SF=_k("card-shadow"),kF=_k("card-radius"),xF=_k("card-border-width","0"),CF=_k("card-border-color"),EF=yF({container:{[_F.variable]:"colors.chakra-body-bg",backgroundColor:_F.reference,boxShadow:SF.reference,borderRadius:kF.reference,color:"chakra-body-text",borderWidth:xF.reference,borderColor:CF.reference},body:{padding:wF.reference,flex:"1 1 0%"},header:{padding:wF.reference},footer:{padding:wF.reference}}),TF={sm:yF({container:{[kF.variable]:"radii.base",[wF.variable]:"space.3"}}),md:yF({container:{[kF.variable]:"radii.md",[wF.variable]:"space.5"}}),lg:yF({container:{[kF.variable]:"radii.xl",[wF.variable]:"space.7"}})},IF=bF({baseStyle:EF,variants:{elevated:yF({container:{[SF.variable]:"shadows.base",_dark:{[_F.variable]:"colors.gray.700"}}}),outline:yF({container:{[xF.variable]:"1px",[CF.variable]:"colors.chakra-border-color"}}),filled:yF({container:{[_F.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wF.variable]:0},header:{[wF.variable]:0},footer:{[wF.variable]:0}}},sizes:TF,defaultProps:{variant:"elevated",size:"md"}}),PF=AN("close-button-size"),RF=AN("close-button-bg"),AF={baseStyle:{w:[PF.reference],h:[PF.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[RF.variable]:"colors.blackAlpha.100",_dark:{[RF.variable]:"colors.whiteAlpha.100"}},_active:{[RF.variable]:"colors.blackAlpha.200",_dark:{[RF.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:RF.reference},sizes:{lg:{[PF.variable]:"sizes.10",fontSize:"md"},md:{[PF.variable]:"sizes.8",fontSize:"xs"},sm:{[PF.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:NF,defaultProps:DF}=KD,OF={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:BD.bg.reference,color:BD.color.reference,boxShadow:BD.shadow.reference},variants:NF,defaultProps:DF},MF={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},LF={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:FF,defineMultiStyleConfig:jF}=rx(rN.keys),zF=jF({baseStyle:FF({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),{definePartsStyle:VF,defineMultiStyleConfig:UF}=rx(iN.keys),BF=_k("alert-fg"),qF=_k("alert-bg");function WF(e){const{theme:t,colorScheme:n}=e,r=kD("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}var HF=UF({baseStyle:VF({container:{bg:qF.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:BF.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:BF.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}}),variants:{subtle:VF((e=>{const{colorScheme:t}=e,n=WF(e);return{container:{[BF.variable]:"colors.".concat(t,".600"),[qF.variable]:n.light,_dark:{[BF.variable]:"colors.".concat(t,".200"),[qF.variable]:n.dark}}}})),"left-accent":VF((e=>{const{colorScheme:t}=e,n=WF(e);return{container:{[BF.variable]:"colors.".concat(t,".600"),[qF.variable]:n.light,_dark:{[BF.variable]:"colors.".concat(t,".200"),[qF.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:BF.reference}}})),"top-accent":VF((e=>{const{colorScheme:t}=e,n=WF(e);return{container:{[BF.variable]:"colors.".concat(t,".600"),[qF.variable]:n.light,_dark:{[BF.variable]:"colors.".concat(t,".200"),[qF.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:BF.reference}}})),solid:VF((e=>{const{colorScheme:t}=e;return{container:{[BF.variable]:"colors.white",[qF.variable]:"colors.".concat(t,".600"),_dark:{[BF.variable]:"colors.gray.900",[qF.variable]:"colors.".concat(t,".200")},color:BF.reference}}}))},defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:KF,defineMultiStyleConfig:GF}=rx(oN.keys),QF=_k("avatar-border-color"),$F=_k("avatar-bg"),YF=_k("avatar-font-size"),XF=_k("avatar-size"),JF={borderRadius:"full",border:"0.2em solid",borderColor:QF.reference,[QF.variable]:"white",_dark:{[QF.variable]:"colors.gray.800"}},ZF={bg:$F.reference,fontSize:YF.reference,width:XF.reference,height:XF.reference,lineHeight:"1",[$F.variable]:"colors.gray.200",_dark:{[$F.variable]:"colors.whiteAlpha.400"}},ej=e=>{const{name:t,theme:n}=e,r=t?CD({string:t}):"colors.gray.400",i=(e=>t=>"dark"===SD(e)(t))(r)(n);let o="white";return i||(o="gray.800"),{bg:$F.reference,fontSize:YF.reference,color:o,borderColor:QF.reference,verticalAlign:"top",width:XF.reference,height:XF.reference,"&:not([data-loaded])":{[$F.variable]:r},[QF.variable]:"colors.white",_dark:{[QF.variable]:"colors.gray.800"}}},tj={fontSize:YF.reference,lineHeight:"1"};function nj(e){const t="100%"!==e?KA[e]:void 0;return KF({container:{[XF.variable]:null!=t?t:e,[YF.variable]:"calc(".concat(null!=t?t:e," / 2.5)")},excessLabel:{[XF.variable]:null!=t?t:e,[YF.variable]:"calc(".concat(null!=t?t:e," / 2.5)")}})}var rj={Accordion:zF,Alert:HF,Avatar:GF({baseStyle:KF((e=>({badge:KO(JF,e),excessLabel:KO(ZF,e),container:KO(ej,e),label:tj}))),sizes:{"2xs":nj(4),xs:nj(6),sm:nj(8),md:nj(12),lg:nj(16),xl:nj(24),"2xl":nj(32),full:nj("100%")},defaultProps:{size:"md"}}),Badge:KD,Breadcrumb:fF,Button:vF,Checkbox:cM,CloseButton:AF,Code:OF,Container:MF,Divider:LF,Drawer:YL,Editable:ZL,Form:rF,FormError:aF,FormLabel:lF,Heading:cF,Input:RO,Kbd:UM,Link:BM,List:HM,Menu:YM,Modal:cL,NumberInput:TL,PinInput:AL,Popover:FL,Progress:HO,Radio:pM,Select:bM,Skeleton:SM,SkipLink:xM,Slider:OM,Spinner:LM,Stat:zM,Switch:XN,Table:iD,Tabs:UD,Tag:oO,Textarea:DO,Tooltip:FO,Card:IF,Stepper:tN},ij={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},oj={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},sj={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},aj={semanticTokens:ij,direction:"ltr",...GA,components:rj,styles:oj,config:sj},lj={semanticTokens:ij,direction:"ltr",components:{},...GA,styles:oj,config:sj},cj=(e,t)=>e.find((e=>e.id===t));function uj(e,t){const n=hj(e,t);return{position:n,index:n?e[n].findIndex((e=>e.id===t)):-1}}function hj(e,t){for(const[n,r]of Object.entries(e))if(cj(r,t))return n}function dj(e){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}const fj=(0,Os.createContext)(null);function pj(){return null===(e=(0,Os.useContext)(fj))||e.isPresent;var e}const mj=(0,Os.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gj=(0,Os.createContext)({}),vj="undefined"!==typeof document,yj=vj?Os.useLayoutEffect:Os.useEffect,bj=(0,Os.createContext)({strict:!1}),_j=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wj="data-"+_j("framerAppearId");function Sj(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function kj(e){return"string"===typeof e||Array.isArray(e)}function xj(e){return"object"===typeof e&&"function"===typeof e.start}const Cj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ej=["initial",...Cj];function Tj(e){return xj(e.animate)||Ej.some((t=>kj(e[t])))}function Ij(e){return Boolean(Tj(e)||e.variants)}function Pj(e){const{initial:t,animate:n}=function(e,t){if(Tj(e)){const{initial:t,animate:n}=e;return{initial:!1===t||kj(t)?t:void 0,animate:kj(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,Os.useContext)(gj));return(0,Os.useMemo)((()=>({initial:t,animate:n})),[Rj(t),Rj(n)])}function Rj(e){return Array.isArray(e)?e.join(" "):e}const Aj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nj={};for(const n in Aj)Nj[n]={isEnabled:e=>Aj[n].some((t=>!!e[t]))};const Dj=(0,Os.createContext)({}),Oj=(0,Os.createContext)({}),Mj=Symbol.for("motionComponentSymbol");function Lj(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:o}=e;t&&function(e){for(const t in e)Nj[t]={...Nj[t],...e[t]}}(t);const s=(0,Os.forwardRef)((function(e,s){let a;const l={...(0,Os.useContext)(mj),...e,layoutId:Fj(e)},{isStatic:c}=l,u=Pj(e),h=i(e,c);if(!c&&vj){u.visualElement=function(e,t,n,r){const{visualElement:i}=(0,Os.useContext)(gj),o=(0,Os.useContext)(bj),s=(0,Os.useContext)(fj),a=(0,Os.useContext)(mj).reducedMotion,l=(0,Os.useRef)();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:a}));const c=l.current;(0,Os.useInsertionEffect)((()=>{c&&c.update(n,s)}));const u=(0,Os.useRef)(Boolean(n[wj]&&!window.HandoffComplete));return yj((()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())})),(0,Os.useEffect)((()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))})),c}(o,h,l,n);const e=(0,Os.useContext)(Oj),r=(0,Os.useContext)(bj).strict;u.visualElement&&(a=u.visualElement.loadFeatures(l,r,t,e))}return Os.createElement(gj.Provider,{value:u},a&&u.visualElement?Os.createElement(a,{visualElement:u.visualElement,...l}):null,r(o,e,function(e,t,n){return(0,Os.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Sj(n)&&(n.current=r))}),[t])}(h,u.visualElement,s),h,c,u.visualElement))}));return s[Mj]=o,s}function Fj(e){let{layoutId:t}=e;const n=(0,Os.useContext)(Dj).id;return n&&void 0!==t?n+"-"+t:t}function jj(e){function t(t){return Lj(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const zj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vj(e){return"string"===typeof e&&!e.includes("-")&&!!(zj.indexOf(e)>-1||/[A-Z]/.test(e))}const Uj={};const Bj=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qj=new Set(Bj);function Wj(e,t){let{layout:n,layoutId:r}=t;return qj.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Uj[e]||"opacity"===e)}const Hj=e=>Boolean(e&&e.getVelocity),Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gj=Bj.length;const Qj=e=>t=>"string"===typeof t&&t.startsWith(e),$j=Qj("--"),Yj=Qj("var(--"),Xj=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Jj=(e,t,n)=>Math.min(Math.max(n,e),t),Zj={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ez={...Zj,transform:e=>Jj(0,1,e)},tz={...Zj,default:1},nz=e=>Math.round(1e5*e)/1e5,rz=/(-)?([\d]*\.?[\d])+/g,iz=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sz(e){return"string"===typeof e}const az=e=>({test:t=>sz(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),lz=az("deg"),cz=az("%"),uz=az("px"),hz=az("vh"),dz=az("vw"),fz={...cz,parse:e=>cz.parse(e)/100,transform:e=>cz.transform(100*e)},pz={...Zj,transform:Math.round},mz={borderWidth:uz,borderTopWidth:uz,borderRightWidth:uz,borderBottomWidth:uz,borderLeftWidth:uz,borderRadius:uz,radius:uz,borderTopLeftRadius:uz,borderTopRightRadius:uz,borderBottomRightRadius:uz,borderBottomLeftRadius:uz,width:uz,maxWidth:uz,height:uz,maxHeight:uz,size:uz,top:uz,right:uz,bottom:uz,left:uz,padding:uz,paddingTop:uz,paddingRight:uz,paddingBottom:uz,paddingLeft:uz,margin:uz,marginTop:uz,marginRight:uz,marginBottom:uz,marginLeft:uz,rotate:lz,rotateX:lz,rotateY:lz,rotateZ:lz,scale:tz,scaleX:tz,scaleY:tz,scaleZ:tz,skew:lz,skewX:lz,skewY:lz,distance:uz,translateX:uz,translateY:uz,translateZ:uz,x:uz,y:uz,z:uz,perspective:uz,transformPerspective:uz,opacity:ez,originX:fz,originY:fz,originZ:uz,zIndex:pz,fillOpacity:ez,strokeOpacity:ez,numOctaves:pz};function gz(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if($j(h)){o[h]=e;continue}const n=mz[h],r=Xj(e,n);if(qj.has(h)){if(l=!0,s[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,s="";for(let a=0;a<Gj;a++){const t=Bj[a];if(void 0!==e[t]){const n=Kj[t]||t;s+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,n?"":s):o&&n&&(s="none"),s}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const vz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yz(e,t,n){for(const r in t)Hj(t[r])||Wj(r,n)||(e[r]=t[r])}function bz(e,t,n){const r={};return yz(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,Os.useMemo)((()=>{const e=vz();return gz(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function _z(e,t,n){const r={},i=bz(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const wz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Sz(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||wz.has(e)}let kz=e=>!Sz(e);try{(xz=require("@emotion/is-prop-valid").default)&&(kz=e=>e.startsWith("on")?!Sz(e):xz(e))}catch(qC){}var xz;function Cz(e,t,n){return"string"===typeof e?e:uz.transform(t+n*e)}const Ez={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tz={offset:"strokeDashoffset",array:"strokeDasharray"};function Iz(e,t,n,r,i){let{attrX:o,attrY:s,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(gz(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Cz(t,e.x,e.width),i=Cz(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==s&&(p.y=s),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?Ez:Tz;e[o.offset]=uz.transform(-r);const s=uz.transform(t),a=uz.transform(n);e[o.array]="".concat(s," ").concat(a)}(p,u,h,d,!1)}const Pz=()=>({...vz(),attrs:{}}),Rz=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Az(e,t,n,r){const i=(0,Os.useMemo)((()=>{const n=Pz();return Iz(n,t,{enableHardwareAcceleration:!1},Rz(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};yz(t,e.style,e),i.style={...t,...i.style}}return i}function Nz(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,o)=>{let{latestValues:s}=i;const a=(Vj(t)?Az:_z)(n,s,o,t),l=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(kz(i)||!0===n&&Sz(i)||!t&&!Sz(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c={...l,...a,ref:r},{children:u}=n,h=(0,Os.useMemo)((()=>Hj(u)?u.get():u),[u]);return(0,Os.createElement)(t,{...c,children:h})}}function Dz(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const Oz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mz(e,t,n,r){Dz(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Oz.has(i)?i:_j(i),t.attrs[i])}function Lz(e,t){const{style:n}=e,r={};for(const i in n)(Hj(n[i])||t.style&&Hj(t.style[i])||Wj(i,e))&&(r[i]=n[i]);return r}function Fz(e,t){const n=Lz(e,t);for(const r in e)if(Hj(e[r])||Hj(t[r])){n[-1!==Bj.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function jz(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function zz(e){const t=(0,Os.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Vz=e=>Array.isArray(e),Uz=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Bz=e=>Vz(e)?e[e.length-1]||0:e;function qz(e){const t=Hj(e)?e.get():e;return Uz(t)?t.toValue():t}const Wz=e=>(t,n)=>{const r=(0,Os.useContext)(gj),i=(0,Os.useContext)(fj),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:s}=e;const a={latestValues:Hz(t,n,r,i),renderState:o()};return s&&(a.mount=e=>s(t,e,a)),a}(e,t,r,i);return n?o():zz(o)};function Hz(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=qz(o[d]);let{initial:s,animate:a}=e;const l=Tj(e),c=Ij(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?a:s;if(h&&"boolean"!==typeof h&&!xj(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=jz(e,t);if(!n)return;const{transitionEnd:r,transition:o,...s}=n;for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Kz=e=>e;class Gz{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Qz=["prepare","read","update","preRender","render","postRender"];const{schedule:$z,cancel:Yz,state:Xz,steps:Jz}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Qz.reduce(((e,t)=>(e[t]=function(e){let t=new Gz,n=new Gz,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),a.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),s.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),s.has(r)&&(a.schedule(r),e())}i=!1,o&&(o=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),s=e=>o[e].process(i),a=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,Qz.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=Qz.reduce(((t,s)=>{const l=o[s];return t[s]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,o,s)},t}),{});return{schedule:l,cancel:e=>Qz.forEach((t=>o[t].cancel(e))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Kz,!0),Zz={useVisualState:Wz({scrapeMotionValuesFromProps:Fz,createRenderState:Pz,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;$z.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),$z.render((()=>{Iz(r,i,{enableHardwareAcceleration:!1},Rz(t.tagName),e.transformTemplate),Mz(t,r)}))}})},eV={useVisualState:Wz({scrapeMotionValuesFromProps:Lz,createRenderState:vz})};function tV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const nV=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function rV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const iV=e=>t=>nV(t)&&e(t,rV(t));function oV(e,t,n,r){return tV(e,t,iV(n),r)}const sV=(e,t)=>n=>t(e(n)),aV=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(sV)};function lV(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const cV=lV("dragHorizontal"),uV=lV("dragVertical");function hV(e){let t=!1;if("y"===e)t=uV();else if("x"===e)t=cV();else{const e=cV(),n=uV();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function dV(){const e=hV(!0);return!e||(e(),!1)}class fV{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pV(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return oV(e.current,n,((n,i)=>{if("touch"===n.type||dV())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&$z.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const mV=(e,t)=>!!t&&(e===t||mV(e,t.parentElement));function gV(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,rV(n))}const vV=new WeakMap,yV=new WeakMap,bV=e=>{const t=vV.get(e.target);t&&t(e)},_V=e=>{e.forEach(bV)};function wV(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;yV.has(r)||yV.set(r,{});const i=yV.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(_V,{root:t,...n})),i[o]}(t);return vV.set(e,n),r.observe(e),()=>{vV.delete(e),r.unobserve(e)}}const SV={some:0,all:1};const kV={inView:{Feature:class extends fV{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:SV[r]};return wV(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends fV{constructor(){super(...arguments),this.removeStartListeners=Kz,this.removeEndListeners=Kz,this.removeAccessibleListeners=Kz,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=oV(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();$z.update((()=>{mV(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=oV(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=aV(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=tV(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=tV(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&gV("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&$z.update((()=>n(e,t)))}))})),gV("down",((e,t)=>{this.startPress(e,t)}))})),t=tV(this.node.current,"blur",(()=>{this.isPressing&&gV("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=aV(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&$z.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dV()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&$z.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=oV(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=tV(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=aV(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends fV{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=aV(tV(this.node.current,"focus",(()=>this.onFocus())),tV(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends fV{mount(){this.unmount=aV(pV(this.node,!0),pV(this.node,!1))}unmount(){}}}};function xV(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function CV(e,t,n){const r=e.getProps();return jz(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let EV=Kz,TV=Kz;const IV=e=>1e3*e,PV=e=>e/1e3,RV=!1,AV=e=>Array.isArray(e)&&"number"===typeof e[0];function NV(e){return Boolean(!e||"string"===typeof e&&OV[e]||AV(e)||Array.isArray(e)&&e.every(NV))}const DV=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},OV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:DV([0,.65,.55,1]),circOut:DV([.55,0,1,.45]),backIn:DV([.31,.01,.66,-.59]),backOut:DV([.33,1.53,.69,.99])};function MV(e){if(e)return AV(e)?DV(e):Array.isArray(e)?e.map(MV):OV[e]}const LV=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FV=1e-7,jV=12;function zV(e,t,n,r){if(e===t&&n===r)return Kz;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=LV(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>FV&&++a<jV);return s}(t,0,1,e,n);return e=>0===e||1===e?e:LV(i(e),t,r)}const VV=zV(.42,0,1,1),UV=zV(0,0,.58,1),BV=zV(.42,0,.58,1),qV=e=>Array.isArray(e)&&"number"!==typeof e[0],WV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HV=e=>t=>1-e(1-t),KV=e=>1-Math.sin(Math.acos(e)),GV=HV(KV),QV=WV(KV),$V=zV(.33,1.53,.69,.99),YV=HV($V),XV=WV(YV),JV={linear:Kz,easeIn:VV,easeInOut:BV,easeOut:UV,circIn:KV,circInOut:QV,circOut:GV,backIn:YV,backInOut:XV,backOut:$V,anticipate:e=>(e*=2)<1?.5*YV(e):.5*(2-Math.pow(2,-10*(e-1)))},ZV=e=>{if(Array.isArray(e)){TV(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return zV(t,n,r,i)}return"string"===typeof e?(TV(void 0!==JV[e],"Invalid easing type '".concat(e,"'")),JV[e]):e},eU=(e,t)=>n=>Boolean(sz(n)&&oz.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),tU=(e,t,n)=>r=>{if(!sz(r))return r;const[i,o,s,a]=r.match(rz);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},nU={...Zj,transform:e=>Math.round((e=>Jj(0,255,e))(e))},rU={test:eU("rgb","red"),parse:tU("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+nU.transform(t)+", "+nU.transform(n)+", "+nU.transform(r)+", "+nz(ez.transform(i))+")"}};const iU={test:eU("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:rU.transform},oU={test:eU("hsl","hue"),parse:tU("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+cz.transform(nz(n))+", "+cz.transform(nz(r))+", "+nz(ez.transform(i))+")"}},sU={test:e=>rU.test(e)||iU.test(e)||oU.test(e),parse:e=>rU.test(e)?rU.parse(e):oU.test(e)?oU.parse(e):iU.parse(e),transform:e=>sz(e)?e:e.hasOwnProperty("red")?rU.transform(e):oU.transform(e)},aU=(e,t,n)=>-n*e+n*t+e;function lU(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const cU=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},uU=[iU,rU,oU];function hU(e){const t=(e=>uU.find((t=>t.test(e))))(e);TV(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===oU&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=lU(i,e,t+1/3),s=lU(i,e,t),a=lU(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}const dU=(e,t)=>{const n=hU(e),r=hU(t),i={...n};return e=>(i.red=cU(n.red,r.red,e),i.green=cU(n.green,r.green,e),i.blue=cU(n.blue,r.blue,e),i.alpha=aU(n.alpha,r.alpha,e),rU.transform(i))};const fU={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Kz},pU={regex:iz,countKey:"Colors",token:"${c}",parse:sU.parse},mU={regex:rz,countKey:"Numbers",token:"${n}",parse:Zj.parse};function gU(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const s=e.tokenised.match(n);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...s.map(o)))}function vU(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&gU(n,fU),gU(n,pU),gU(n,mU),n}function yU(e){return vU(e).values}function bU(e){const{values:t,numColors:n,numVars:r,tokenised:i}=vU(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(fU.token,e[i]):i<r+n?t.replace(pU.token,sU.transform(e[i])):t.replace(mU.token,nz(e[i]));return t}}const _U=e=>"number"===typeof e?0:e;const wU={test:function(e){var t,n;return isNaN(e)&&sz(e)&&((null===(t=e.match(rz))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(iz))||void 0===n?void 0:n.length)||0)>0},parse:yU,createTransformer:bU,getAnimatableNone:function(e){const t=yU(e);return bU(e)(t.map(_U))}},SU=(e,t)=>n=>"".concat(n>0?t:e);function kU(e,t){return"number"===typeof e?n=>aU(e,t,n):sU.test(e)?dU(e,t):e.startsWith("var(")?SU(e,t):EU(e,t)}const xU=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>kU(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},CU=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=kU(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},EU=(e,t)=>{const n=wU.createTransformer(t),r=vU(e),i=vU(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?aV(xU(r.values,i.values),n):(EV(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),SU(e,t))},TU=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},IU=(e,t)=>n=>aU(e,t,n);function PU(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?IU:"string"===typeof e?sU.test(e)?dU:EU:Array.isArray(e)?xU:"object"===typeof e?CU:IU}(e[0]),o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Kz:t;n=aV(e,n)}r.push(n)}return r}function RU(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(TV(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=PU(t,r,i),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=TU(e[n],e[n+1],t);return s[n](r)};return n?t=>l(Jj(e[0],e[o-1],t)):l}function AU(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=TU(0,t,r);e.push(aU(n,1,i))}}(t,e.length-1),t}function NU(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=qV(i)?i.map(ZV):ZV(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:AU(n),t),l=RU(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||BV)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}function DU(e,t){return t?e*(1e3/t):0}const OU=5;function MU(e,t,n){const r=Math.max(t-OU,0);return DU(n-e(r),t-r)}const LU=.001,FU=.01,jU=10,zU=.05,VU=1;function UU(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:s=1}=e;EV(r<=IV(jU),"Spring duration must be 10 seconds or less");let a=1-i;a=Jj(zU,VU,a),r=Jj(FU,jU,PV(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=qU(e,a),l=Math.exp(-n);return LU-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=qU(Math.pow(e,2),a);return(-t(e)+LU>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-LU,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<BU;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=IV(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const BU=12;function qU(e,t){return e*Math.sqrt(1-t*t)}const WU=["duration","bounce"],HU=["stiffness","damping","mass"];function KU(e,t){return t.some((t=>void 0!==e[t]))}function GU(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],s=t[t.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!KU(e,HU)&&KU(e,WU)){const n=UU(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-PV(i.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=s-o,v=PV(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=qU(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)a.done=e>=h;else{let i=p;0!==e&&(i=m<1?MU(b,e,t):0);const o=Math.abs(i)<=r,l=Math.abs(s-t)<=n;a.done=o&&l}return a.value=a.done?s:t,a}}}function QU(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),_=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,S;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,S=GU({keyframes:[f.value,p(f.value)],velocity:MU(b,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==w||(t=!0,_(e),k(e)),void 0!==w&&e>w?S.next(e-w):(!t&&_(e),f)}}}const $U=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>$z.update(t,!0),stop:()=>Yz(t),now:()=>Xz.isProcessing?Xz.timestamp:performance.now()}},YU=2e4;function XU(e){let t=0;let n=e.next(t);for(;!n.done&&t<YU;)t+=50,n=e.next(t);return t>=YU?1/0:t}const JU={decay:QU,inertia:QU,tween:NU,keyframes:NU,spring:GU};function ZU(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=$U,keyframes:s,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,v=!1;const y=()=>{n=new Promise((e=>{t=e}))};let b;y();const _=JU[a]||NU;let w;_!==NU&&"number"!==typeof s[0]&&(w=RU([0,100],s,{clamp:!1}),s=[0,100]);const S=_({...m,keyframes:s});let k;"mirror"===u&&(k=_({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let x="idle",C=null,E=null,T=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=XU(S));const{calculatedDuration:I}=S;let P=1/0,R=1/0;null!==I&&(P=I+c,R=P*(l+1)-c);let A=0;const N=e=>{if(null===E)return;g>0&&(E=Math.min(E,e)),g<0&&(E=Math.min(e-R/g,E)),A=null!==C?C:Math.round(e-E)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>R;A=Math.max(t,0),"finished"===x&&null===C&&(A=R);let r=A,o=S;if(l){const e=Math.min(A,R)/P;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/P)):"mirror"===u&&(o=k)),r=Jj(0,1,n)*P}const a=n?{done:!1,value:s[0]}:o.next(r);w&&(a.value=w(a.value));let{done:h}=a;n||null===I||(h=g>=0?A>=R:A<=0);const d=null===C&&("finished"===x||"running"===x&&h);return p&&p(a.value),d&&M(),a},D=()=>{b&&b.stop(),b=void 0},O=()=>{x="idle",D(),t(),y(),E=T=null},M=()=>{x="finished",f&&f(),D(),t()},L=()=>{if(v)return;b||(b=o(N));const e=b.now();h&&h(),null!==C?E=e-C:E&&"finished"!==x||(E=e),"finished"===x&&y(),T=E,C=null,x="running",b.start()};r&&L();const F={then:(e,t)=>n.then(e,t),get time(){return PV(A)},set time(e){e=IV(e),A=e,null===C&&b&&0!==g?E=b.now()-e/g:C=e},get duration(){const e=null===S.calculatedDuration?XU(S):S.calculatedDuration;return PV(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,F.time=PV(A))},get state(){return x},play:L,pause:()=>{x="paused",C=A},stop:()=>{v=!0,"idle"!==x&&(x="idle",d&&d(),O())},cancel:()=>{null!==T&&N(T),O()},complete:()=>{x="finished"},sample:e=>(E=0,N(e))};return F}const eB=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),tB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function nB(e,t,n){let{onUpdate:r,onComplete:i,...o}=n;if(!(eB()&&tB.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let s,a,l=!1,c=!1;const u=()=>{a=new Promise((e=>{s=e}))};u();let{keyframes:h,duration:d=300,ease:f,times:p}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!NV(t.ease))(t,o)){const e=ZU({...o,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=MV(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,h,{...o,duration:d,ease:f,times:p}),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,$z.update(g),s(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,o)),i&&i(),v())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Kz),get time(){return PV(m.currentTime||0)},set time(e){m.currentTime=IV(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return PV(d)},play:()=>{l||(m.play(),Yz(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=ZU({...o,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{c||m.finish()},cancel:v}}const rB={type:"spring",stiffness:500,damping:25,restSpeed:10},iB={type:"keyframes",duration:.8},oB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sB=(e,t)=>{let{keyframes:n}=t;return n.length>2?iB:qj.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:rB:oB},aB=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!wU.test(t)&&"0"!==t||t.startsWith("url("))),lB=new Set(["brightness","contrast","saturate","opacity"]);function cB(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(rz)||[];if(!r)return e;const i=n.replace(r,"");let o=lB.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const uB=/([a-z-]*)\(.*?\)/g,hB={...wU,getAnimatableNone:e=>{const t=e.match(uB);return t?t.map(cB).join(" "):e}},dB={...mz,color:sU,backgroundColor:sU,outlineColor:sU,fill:sU,stroke:sU,borderColor:sU,borderTopColor:sU,borderRightColor:sU,borderBottomColor:sU,borderLeftColor:sU,filter:hB,WebkitFilter:hB},fB=e=>dB[e];function pB(e,t){let n=fB(e);return n!==hB&&(n=wU),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mB=e=>/^0[^.\s]+$/.test(e);function gB(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||mB(e):void 0}function vB(e,t){return e[t]||e.default||e}const yB=!1,bB=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=vB(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a-=IV(s);const l=function(e,t,n,r){const i=aB(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const s=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?s:o[c-1]),gB(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++)o[l[c]]=pB(t,a);return o}(t,e,n,o),c=l[0],u=l[l.length-1],h=aB(e,c),d=aB(e,u);EV(h===d,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length}(o)||(f={...f,...sB(e,f)}),f.duration&&(f.duration=IV(f.duration)),f.repeatDelay&&(f.repeatDelay=IV(f.repeatDelay)),!h||!d||RV||!1===o.type||yB)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Kz,pause:Kz,stop:Kz,then:e=>(e(),Promise.resolve()),cancel:Kz,complete:Kz});return n?ZU({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(RV?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=nB(t,e,f);if(n)return n}return ZU(f)}};function _B(e){return Boolean(Hj(e)&&e.add)}const wB=e=>/^\-?\d*\.?\d+$/.test(e);function SB(e,t){-1===e.indexOf(t)&&e.push(t)}function kB(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xB{constructor(){this.subscriptions=[]}add(e){return SB(this.subscriptions,e),()=>kB(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CB={current:void 0};class EB{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.17.6",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Xz;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,$z.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>$z.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new xB);const n=this.events[e].add(t);return"change"===e?()=>{n(),$z.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return CB.current&&CB.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DU(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function TB(e,t){return new EB(e,t)}const IB=e=>t=>t.test(e),PB=[Zj,uz,cz,lz,dz,hz,{test:e=>"auto"===e,parse:e=>e}],RB=e=>PB.find(IB(e)),AB=[...PB,sU,wU],NB=e=>AB.find(IB(e));function DB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,TB(n))}function OB(e,t){const n=CV(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){DB(e,s,Bz(o[s]))}}function MB(e,t){if(!t)return;return(t[e]||t.default||t).from}function LB(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function FB(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function jB(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||u&&LB(u,h))continue;const i={delay:n,elapsed:0,...vB(o||{},h)};if(window.HandoffAppearAnimations){const n=e.getProps()[wj];if(n){const e=window.HandoffAppearAnimations(n,h,t,$z);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let s=!i.isHandoff&&!FB(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(bB(h,t,r,e.shouldReduceMotion&&qj.has(h)?{type:!1}:i));const d=t.animation;_B(l)&&(l.add(h),d.then((()=>l.remove(h)))),c.push(d)}return s&&Promise.all(c).then((()=>{s&&OB(e,s)})),c}function zB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=CV(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(jB(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(VB).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(zB(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,o+r,s,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[o,s]:[s,o];return e().then((()=>t()))}return Promise.all([o(),s(n.delay)])}function VB(e,t){return e.sortNodePosition(t)}const UB=[...Cj].reverse(),BB=Cj.length;function qB(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>zB(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=zB(e,t,r);else{const i="function"===typeof t?CV(e,t,r.custom):t;n=Promise.all(jB(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function WB(e){let t=qB(e);const n={animate:KB(!0),whileInView:KB(),whileHover:KB(),whileTap:KB(),whileDrag:KB(),whileFocus:KB(),exit:KB()};let r=!0;const i=(t,n)=>{const r=CV(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,s){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let t=0;t<BB;t++){const f=UB[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=kj(m),v=f===s?p.isActive:null;!1===v&&(d=t);let y=m===l[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...h},!p.isActive&&null===v||!m&&!p.prevProp||xj(m)||"boolean"===typeof m)continue;let b=HB(p.prevProp,m)||f===s&&p.isActive&&!y&&g||t>d&&g,_=!1;const w=Array.isArray(m)?m:[m];let S=w.reduce(i,{});!1===v&&(S={});const{prevResolvedValues:k={}}=p,x={...k,...S},C=e=>{b=!0,u.has(e)&&(_=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in x){const t=S[e],n=k[e];if(h.hasOwnProperty(e))continue;let r=!1;r=Vz(t)&&Vz(n)?!xV(t,n):t!==n,r?void 0!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h={...h,...S}),r&&e.blockInitialAnimation&&(b=!1),!b||y&&!_||c.push(...w.map((e=>({animation:e,options:{type:f,...o}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=o(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function HB(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!xV(t,e)}function KB(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let GB=0;const QB={animation:{Feature:class extends fV{constructor(e){super(e),e.animationState||(e.animationState=WB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xj(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends fV{constructor(){super(...arguments),this.id=GB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},$B=(e,t)=>Math.abs(e-t);class YB{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ZB(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=$B(e.x,t.x),r=$B(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Xz;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=XB(t,this.transformPagePoint),$z.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=ZB("pointercancel"===e.type?this.lastMoveEventInfo:XB(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!nV(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=XB(rV(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=Xz;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,ZB(o,this.history)),this.removeListeners=aV(oV(this.contextWindow,"pointermove",this.handlePointerMove),oV(this.contextWindow,"pointerup",this.handlePointerUp),oV(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yz(this.updatePoint)}}function XB(e,t){return t?{point:t(e.point)}:e}function JB(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ZB(e,t){let{point:n}=e;return{point:n,delta:JB(n,tq(t)),offset:JB(n,eq(t)),velocity:nq(t,.1)}}function eq(e){return e[0]}function tq(e){return e[e.length-1]}function nq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=tq(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>IV(t)));)n--;if(!r)return{x:0,y:0};const o=PV(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function rq(e){return e.max-e.min}function iq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function oq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=aU(t.min,t.max,e.origin),e.scale=rq(n)/rq(t),(iq(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=aU(n.min,n.max,e.origin)-e.originPoint,(iq(e.translate)||isNaN(e.translate))&&(e.translate=0)}function sq(e,t,n,r){oq(e.x,t.x,n.x,r?r.originX:void 0),oq(e.y,t.y,n.y,r?r.originY:void 0)}function aq(e,t,n){e.min=n.min+t.min,e.max=e.min+rq(t)}function lq(e,t,n){e.min=t.min-n.min,e.max=e.min+rq(t)}function cq(e,t,n){lq(e.x,t.x,n.x),lq(e.y,t.y,n.y)}function uq(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function hq(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const dq=.35;function fq(e,t,n){return{min:pq(e,t),max:pq(e,n)}}function pq(e,t){return"number"===typeof e?e:e[t]||0}const mq=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),gq=()=>({x:{min:0,max:0},y:{min:0,max:0}});function vq(e){return[e("x"),e("y")]}function yq(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function bq(e){return void 0===e||1===e}function _q(e){let{scale:t,scaleX:n,scaleY:r}=e;return!bq(t)||!bq(n)||!bq(r)}function wq(e){return _q(e)||Sq(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Sq(e){return kq(e.x)||kq(e.y)}function kq(e){return e&&"0%"!==e}function xq(e,t,n){return n+t*(e-n)}function Cq(e,t,n,r,i){return void 0!==i&&(e=xq(e,i,r)),xq(e,n,r)+t}function Eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Cq(e.min,t,n,r,i),e.max=Cq(e.max,t,n,r,i)}function Tq(e,t){let{x:n,y:r}=t;Eq(e.x,n.translate,n.scale,n.originPoint),Eq(e.y,r.translate,r.scale,r.originPoint)}function Iq(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pq(e,t){e.min=e.min+t,e.max=e.max+t}function Rq(e,t,n){let[r,i,o]=n;const s=void 0!==t[o]?t[o]:.5,a=aU(e.min,e.max,s);Eq(e,t[r],t[i],a,t.scale)}const Aq=["x","scaleX","originX"],Nq=["y","scaleY","originY"];function Dq(e,t){Rq(e.x,t,Aq),Rq(e.y,t,Nq)}function Oq(e,t){return yq(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Mq=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Lq=new WeakMap;class Fq{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gq(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new YB(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rV(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hV(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vq((e=>{let t=this.getAxisMotionValue(e).get()||0;if(cz.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=rq(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&$z.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>vq((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Mq(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&$z.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!jq(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?aU(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?aU(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Sj(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:uq(e.x,r,o),y:uq(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dq;return!1===e?e=0:!0===e&&(e=dq),{x:fq(e,"left","right"),y:fq(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vq((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sj(e))return!1;const n=e.current;TV(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Oq(e,n),{scroll:i}=t;return i&&(Pq(r.x,i.offset.x),Pq(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:hq(e.x,t.x),y:hq(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=yq(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=vq((s=>{if(!jq(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(bB(e,n,0,t))}stopAnimation(){vq((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){vq((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){vq((t=>{const{drag:n}=this.getProps();if(!jq(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-aU(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Sj(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vq((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=rq(e),i=rq(t);return i>r?n=TU(t.min,t.max-r,e.min):r>i&&(n=TU(e.min,e.max-i,t.min)),Jj(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vq((t=>{if(!jq(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(aU(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Lq.set(this.visualElement,this);const e=oV(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Sj(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=tV(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(vq((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=dq,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function jq(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const zq=e=>(t,n)=>{e&&$z.update((()=>e(t,n)))};const Vq={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uq(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bq={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!uz.test(e))return e;e=parseFloat(e)}const n=Uq(e,t.target.x),r=Uq(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},qq={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=wU.parse(e);if(o.length>5)return i;const s=wU.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=aU(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}};class Wq extends Os.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=Kq,Object.assign(Uj,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vq.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||$z.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hq(e){const[t,n]=function(){const e=(0,Os.useContext)(fj);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=(0,Os.useId)();return(0,Os.useEffect)((()=>r(i)),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=(0,Os.useContext)(Dj);return Os.createElement(Wq,{...e,layoutGroup:r,switchLayoutGroup:(0,Os.useContext)(Oj),isPresent:t,safeToRemove:n})}const Kq={borderRadius:{...Bq,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bq,borderTopRightRadius:Bq,borderBottomLeftRadius:Bq,borderBottomRightRadius:Bq,boxShadow:qq},Gq=["TopLeft","TopRight","BottomLeft","BottomRight"],Qq=Gq.length,$q=e=>"string"===typeof e?parseFloat(e):e,Yq=e=>"number"===typeof e||uz.test(e);function Xq(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Jq=eW(0,.5,GV),Zq=eW(.5,.95,Kz);function eW(e,t,n){return r=>r<e?0:r>t?1:n(TU(e,t,r))}function tW(e,t){e.min=t.min,e.max=t.max}function nW(e,t){tW(e.x,t.x),tW(e.y,t.y)}function rW(e,t,n,r,i){return e=xq(e-=t,1/n,r),void 0!==i&&(e=xq(e,1/i,r)),e}function iW(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;cz.test(t)&&(t=parseFloat(t),t=aU(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=aU(o.min,o.max,r);e===o&&(a-=t),e.min=rW(e.min,t,n,a,i),e.max=rW(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const oW=["x","scaleX","originX"],sW=["y","scaleY","originY"];function aW(e,t,n,r){iW(e.x,t,oW,n?n.x:void 0,r?r.x:void 0),iW(e.y,t,sW,n?n.y:void 0,r?r.y:void 0)}function lW(e){return 0===e.translate&&1===e.scale}function cW(e){return lW(e.x)&&lW(e.y)}function uW(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function hW(e){return rq(e.x)/rq(e.y)}class dW{constructor(){this.members=[]}add(e){SB(this.members,e),e.scheduleRender()}remove(e){if(kB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fW(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const s=e.x.scale*t.x,a=e.y.scale*t.y;return 1===s&&1===a||(r+="scale(".concat(s,", ").concat(a,")")),r||"none"}const pW=(e,t)=>e.depth-t.depth;class mW{constructor(){this.children=[],this.isDirty=!1}add(e){SB(this.children,e),this.isDirty=!0}remove(e){kB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pW),this.isDirty=!1,this.children.forEach(e)}}const gW=["","X","Y","Z"],vW={visibility:"hidden"};let yW=0;const bW={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _W(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=yW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,bW.totalNodes=bW.resolvedTargetDeltas=bW.recalculatedProjection=0,this.nodes.forEach(kW),this.nodes.forEach(RW),this.nodes.forEach(AW),this.nodes.forEach(xW),e=bW,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new mW)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new xB),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(Yz(r),e(s-t))};return $z.read(r,!0),()=>Yz(r)}(r,250),Vq.hasAnimatedSinceResize&&(Vq.hasAnimatedSinceResize=!1,this.nodes.forEach(PW))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||FW,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!uW(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...vB(o,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||PW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yz(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NW),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(EW);this.isUpdating||this.nodes.forEach(TW),this.isUpdating=!1,this.nodes.forEach(IW),this.nodes.forEach(wW),this.nodes.forEach(SW),this.clearAllSnapshots();const e=performance.now();Xz.delta=Jj(0,1e3/60,e-Xz.timestamp),Xz.timestamp=e,Xz.isProcessing=!0,Jz.update.process(Xz),Jz.preRender.process(Xz),Jz.render.process(Xz),Xz.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(CW),this.sharedNodes.forEach(DW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$z.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gq(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!cW(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||wq(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),VW((r=n).x),VW(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return gq();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Pq(t.x,n.offset.x),Pq(t.y,n.offset.y)),t}removeElementScroll(e){const t=gq();nW(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){nW(t,e);const{scroll:n}=this.root;n&&(Pq(t.x,-n.offset.x),Pq(t.y,-n.offset.y))}Pq(t.x,i.offset.x),Pq(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=gq();nW(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Dq(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),wq(e.latestValues)&&Dq(n,e.latestValues)}return wq(this.latestValues)&&Dq(n,this.latestValues),n}removeTransform(e){const t=gq();nW(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!wq(e.latestValues))continue;_q(e.latestValues)&&e.updateSnapshot();const r=gq();nW(r,e.measurePageBox()),aW(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return wq(this.latestValues)&&aW(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xz.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Xz.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gq(),this.relativeTargetOrigin=gq(),cq(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),nW(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target=gq(),this.targetWithTransforms=gq()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,aq(s.x,a.x,l.x),aq(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):nW(this.target,this.layout.layoutBox),Tq(this.target,this.targetDelta)):nW(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gq(),this.relativeTargetOrigin=gq(),cq(this.relativeTargetOrigin,this.target,e.target),nW(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bW.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!_q(this.parent.latestValues)&&!Sq(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Xz.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;nW(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dq(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Tq(e,s)),r&&wq(o.latestValues)&&Dq(e,o.latestValues))}t.x=Iq(t.x),t.y=Iq(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=mq(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=mq(),this.projectionDeltaWithTransform=mq());const c=this.projectionTransform;sq(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=fW(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),bW.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=mq();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s=gq(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(LW));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;OW(o.x,e.x,n),OW(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cq(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){MW(e.x,t.x,n.x,r),MW(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=gq()),nW(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=aU(0,void 0!==n.opacity?n.opacity:1,Jq(r)),e.opacityExit=aU(void 0!==t.opacity?t.opacity:1,0,Zq(r))):o&&(e.opacity=aU(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Qq;s++){const i="border".concat(Gq[s],"Radius");let o=Xq(t,i),a=Xq(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||Yq(o)===Yq(a)?(e[i]=Math.max(aU($q(o),$q(a),r),0),(cz.test(a)||cz.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=aU(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yz(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$z.update((()=>{Vq.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Hj(e)?e:TB(e);return r.start(bB("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&UW(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||gq();const t=rq(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=rq(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}nW(t,n),Dq(t,i),sq(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new dW);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<gW.length;i++){const t="rotate"+gW[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vW;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=qz(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=qz(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!wq(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=fW(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Uj){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Uj[c],n="none"===r.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?qz(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(EW),this.root.sharedNodes.clear()}}}function wW(e){e.updateLayout()}function SW(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?vq((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=rq(r);r.min=t[e].min,r.max=r.min+i})):UW(i,n.layoutBox,t)&&vq((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=rq(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s=mq();sq(s,t,n.layoutBox);const a=mq();o?sq(a,e.applyTransform(r,!0),n.measuredBox):sq(a,t,n.layoutBox);const l=!cW(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s=gq();cq(s,n.layoutBox,i.layoutBox);const a=gq();cq(a,t,o.layoutBox),uW(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function kW(e){bW.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CW(e){e.clearSnapshot()}function EW(e){e.clearMeasurements()}function TW(e){e.isLayoutDirty=!1}function IW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function PW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RW(e){e.resolveTargetDelta()}function AW(e){e.calcProjection()}function NW(e){e.resetRotation()}function DW(e){e.removeLeadSnapshot()}function OW(e,t,n){e.translate=aU(t.translate,0,n),e.scale=aU(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function MW(e,t,n,r){e.min=aU(t.min,n.min,r),e.max=aU(t.max,n.max,r)}function LW(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const FW={duration:.45,ease:[.4,0,.1,1]},jW=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),zW=jW("applewebkit/")&&!jW("chrome/")?Math.round:Kz;function VW(e){e.min=zW(e.min),e.max=zW(e.max)}function UW(e,t,n){return"position"===e||"preserve-aspect"===e&&!iq(hW(t),hW(n),.2)}const BW=_W({attachResizeListener:(e,t)=>tV(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qW={current:void 0},WW=_W({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qW.current){const e=new BW({});e.mount(window),e.setOptions({layoutScroll:!0}),qW.current=e}return qW.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),HW={pan:{Feature:class extends fV{constructor(){super(...arguments),this.removePointerDownListener=Kz}onPointerDown(e){this.session=new YB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:zq(e),onStart:zq(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&$z.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=oV(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends fV{constructor(e){super(e),this.removeGroupControls=Kz,this.removeListeners=Kz,this.controls=new Fq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kz}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:WW,MeasureLayout:Hq}},KW=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const GW=4;function QW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;TV(n<=GW,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=KW.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return wB(e)?parseFloat(e):e}return Yj(i)?QW(i,t,n+1):i}const $W=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YW=e=>$W.has(e),XW=e=>e===Zj||e===uz,JW=(e,t)=>parseFloat(e.split(", ")[t]),ZW=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return JW(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?JW(t[1],e):0}},eH=new Set(["x","y","z"]),tH=Bj.filter((e=>!eH.has(e)));const nH={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ZW(4,13),y:ZW(5,14)};nH.translateX=nH.x,nH.translateY=nH.y;const rH=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(YW);let o=[],s=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=RB(c);const h=t[i];let d;if(Vz(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=RB(c);for(let n=t;n<e&&null!==h[n];n++)d?TV(RB(h[n])===d,"All keyframes must be of the same type"):(d=RB(h[n]),TV(d===u||XW(u)&&XW(d),"Keyframes must be of the same dimension as the current value"))}else d=RB(h);if(u!==d)if(XW(u)&&XW(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===uz&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[i]=u.transform(h):(s||(o=function(e){const t=[];return tH.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=nH[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=nH[n](l,o)})),e})(t,e,a);return o.length&&o.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),vj&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function iH(e,t,n,r){return(e=>Object.keys(e).some(YW))(t)?rH(e,t,n,r):{target:t,transitionEnd:r}}const oH=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Yj(t))return;const n=QW(t,i);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Yj(e))continue;const t=QW(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}(e,t,r);return iH(e,t=i.target,n,r=i.transitionEnd)},sH={current:null},aH={current:!1};const lH=new WeakMap,cH=Object.keys(Nj),uH=cH.length,hH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dH=Ej.length;class fH{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$z.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Tj(n),this.isVariantNode=Ij(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const e=u[h];void 0!==a[h]&&Hj(e)&&(e.set(a[h],!1),_B(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,lH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),aH.current||function(){if(aH.current=!0,vj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sH.current=e.matches;e.addListener(t),t()}else sH.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||sH.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lH.delete(this.current),this.projection&&this.projection.unmount(),Yz(this.notifyUpdate),Yz(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=qj.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&$z.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:s,...a}=e;for(let l=0;l<uH;l++){const e=cH[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:s}=Nj[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),s&&(o=s))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:s,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&Sj(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gq()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<hH.length;n++){const t=hH[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(Hj(o))e.addValue(i,o),_B(r)&&r.add(i);else if(Hj(s))e.addValue(i,TB(o,{owner:e})),_B(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,TB(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<dH;t++){const n=Ej[t],r=this.props[n];(kj(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=TB(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=jz(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Hj(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new xB),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class pH extends fH{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...o}=e,{transformValues:s}=t,a=function(e,t,n){const r={};for(const i in e){const e=MB(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(s&&(i&&(i=s(i)),o&&(o=s(o)),a&&(a=s(a))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),s=o.length;if(s)for(let a=0;a<s;a++){const s=o[a],l=t[s];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==i?i:t[s]),void 0!==c&&null!==c&&("string"===typeof c&&(wB(c)||mB(c))?c=parseFloat(c):!NB(c)&&wU.test(l)&&(c=pB(s,l)),e.addValue(s,TB(c,{owner:e})),void 0===n[s]&&(n[s]=c),null!==c&&e.setBaseTarget(s,c))}}(this,o,a);const e=oH(this,o,a,i);i=e.transitionEnd,o=e.target}return{transition:r,transitionEnd:i,...o}}}class mH extends pH{readValueFromInstance(e,t){if(qj.has(t)){const e=fB(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=($j(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Oq(e,n)}build(e,t,n,r){gz(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Lz(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hj(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Dz(e,t,n,r)}}class gH extends pH{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qj.has(t)){const e=fB(t);return e&&e.default||0}return t=Oz.has(t)?t:_j(t),e.getAttribute(t)}measureInstanceViewportBox(){return gq()}scrapeMotionValuesFromProps(e,t){return Fz(e,t)}build(e,t,n,r){Iz(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Mz(e,t,0,r)}mount(e){this.isSVGTag=Rz(e.tagName),super.mount(e)}}const vH=(e,t)=>Vj(e)?new gH(t,{enableHardwareAcceleration:!1}):new mH(t,{enableHardwareAcceleration:!0}),yH={...QB,...kV,...HW,...{layout:{ProjectionNode:WW,MeasureLayout:Hq}}},bH=jj(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Vj(e)?Zz:eV,preloadedFeatures:n,useRender:Nz(i),createVisualElement:r,Component:e}}(e,t,yH,vH)));var _H={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},wH=(0,Os.memo)((e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=_H,toastSpacing:u="0.5rem"}=e,[h,d]=(0,Os.useState)(a),f=pj();OR((()=>{f||null==r||r()}),[f]),OR((()=>{d(a)}),[a]);const p=()=>{f&&i()};(0,Os.useEffect)((()=>{f&&o&&i()}),[f,o,i]),function(e,t){const n=MR(e);(0,Os.useEffect)((()=>{if(null==t)return;let e=null;return e=window.setTimeout((()=>{n()}),t),()=>{e&&window.clearTimeout(e)}}),[t,n])}(p,h);const m=(0,Os.useMemo)((()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l})),[l,u]),g=(0,Os.useMemo)((()=>function(e){let t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(s)),[s]);return(0,Ls.jsx)(bH.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>d(null),onHoverEnd:()=>d(a),custom:{position:s},style:g,children:(0,Ls.jsx)(tE.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:m,children:gS(n,{id:t,onClose:p})})})}));wH.displayName="ToastComponent";var SH={path:(0,Ls.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Ls.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Ls.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Ls.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},kH=fS(((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...c}=e,u={ref:t,focusable:o,className:pS("chakra-icon",a),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...dE("Icon",e)}},h=null!=r?r:SH.viewBox;if(n&&"string"!==typeof n)return(0,Ls.jsx)(tE.svg,{as:n,...u,...c});const d=null!=s?s:SH.path;return(0,Ls.jsx)(tE.svg,{verticalAlign:"middle",viewBox:h,...u,...c,children:d})}));kH.displayName="Icon";function xH(e){return(0,Ls.jsx)(kH,{viewBox:"0 0 24 24",...e,children:(0,Ls.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var[CH,EH]=sE({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[TH,IH]=sE({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),PH={info:{icon:function(e){return(0,Ls.jsx)(kH,{viewBox:"0 0 24 24",...e,children:(0,Ls.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})},colorScheme:"blue"},warning:{icon:xH,colorScheme:"orange"},success:{icon:function(e){return(0,Ls.jsx)(kH,{viewBox:"0 0 24 24",...e,children:(0,Ls.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})},colorScheme:"green"},error:{icon:xH,colorScheme:"red"},loading:{icon:AE,colorScheme:"blue"}};var RH=fS((function(e,t){var n;const{status:r="info",addRole:i=!0,...o}=sx(e),s=null!=(n=e.colorScheme)?n:function(e){return PH[e].colorScheme}(r),a=fE("Alert",{...e,colorScheme:s}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return(0,Ls.jsx)(CH,{value:{status:r},children:(0,Ls.jsx)(TH,{value:a,children:(0,Ls.jsx)(tE.div,{"data-status":r,role:i?"alert":void 0,ref:t,...o,className:pS("chakra-alert",e.className),__css:l})})})}));function AH(e){const{status:t}=EH(),n=function(e){return PH[e].icon}(t),r=IH(),i="loading"===t?r.spinner:r.icon;return(0,Ls.jsx)(tE.span,{display:"inherit","data-status":t,...e,className:pS("chakra-alert__icon",e.className),__css:i,children:e.children||(0,Ls.jsx)(n,{h:"100%",w:"100%"})})}RH.displayName="Alert",AH.displayName="AlertIcon";var NH=fS((function(e,t){const n=IH(),{status:r}=EH();return(0,Ls.jsx)(tE.div,{ref:t,"data-status":r,...e,className:pS("chakra-alert__title",e.className),__css:n.title})}));NH.displayName="AlertTitle";var DH=fS((function(e,t){const n=IH(),{status:r}=EH(),i={display:"inline",...n.description};return(0,Ls.jsx)(tE.div,{ref:t,"data-status":r,...e,className:pS("chakra-alert__desc",e.className),__css:i})}));function OH(e){return(0,Ls.jsx)(kH,{focusable:"false","aria-hidden":!0,...e,children:(0,Ls.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}DH.displayName="AlertDescription";var MH=fS((function(e,t){const n=dE("CloseButton",e),{children:r,isDisabled:i,__css:o,...s}=sx(e);return(0,Ls.jsx)(tE.button,{type:"button","aria-label":"Close",ref:t,disabled:i,__css:{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...n,...o},...s,children:r||(0,Ls.jsx)(OH,{width:"1em",height:"1em"})})}));MH.displayName="CloseButton";var LH=function(e){let t=e;const n=new Set,r=e=>{t=e(t),n.forEach((e=>e()))};return{getState:()=>t,subscribe:t=>(n.add(t),()=>{r((()=>e)),n.delete(t)}),removeToast:(e,t)=>{r((n=>({...n,[t]:n[t].filter((t=>t.id!=e))})))},notify:(e,t)=>{const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;FH+=1;const i=null!=(n=t.id)?n:FH,o=null!=(r=t.position)?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>LH.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}(e,t),{position:i,id:o}=n;return r((e=>{var t,r;const o=i.includes("top")?[n,...null!=(t=e[i])?t:[]]:[...null!=(r=e[i])?r:[],n];return{...e,[i]:o}})),o},update:(e,t)=>{e&&r((n=>{const r={...n},{position:i,index:o}=uj(r,e);return i&&-1!==o&&(r[i][o]={...r[i][o],...t,message:zH(t)}),r}))},closeAll:function(){let{positions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((t=>(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((e,n)=>(e[n]=t[n].map((e=>({...e,requestClose:!0}))),e)),{...t})))},close:e=>{r((t=>{const n=hj(t,e);return n?{...t,[n]:t[n].map((t=>t.id==e?{...t,requestClose:!0}:t))}:t}))},isActive:e=>Boolean(uj(LH.getState(),e).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var FH=0;var jH=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:c}=e,u=r?{root:"toast-".concat(r),title:"toast-".concat(r,"-title"),description:"toast-".concat(r,"-description")}:void 0;return(0,Ls.jsxs)(RH,{addRole:!1,status:t,variant:n,id:null==u?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,Ls.jsx)(AH,{children:c}),(0,Ls.jsxs)(tE.div,{flex:"1",maxWidth:"100%",children:[i&&(0,Ls.jsx)(NH,{id:null==u?void 0:u.title,children:i}),a&&(0,Ls.jsx)(DH,{id:null==u?void 0:u.description,display:"block",children:a})]}),o&&(0,Ls.jsx)(MH,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function zH(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:t,toastComponent:n=jH}=e;return r=>"function"===typeof t?t({...r,...e}):(0,Ls.jsx)(n,{...r,...e})}function VH(){const e=(0,Os.useRef)(!1);return yj((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class UH extends Os.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function BH(e){let{children:t,isPresent:n}=e;const r=(0,Os.useId)(),i=(0,Os.useRef)(null),o=(0,Os.useRef)({width:0,height:0,top:0,left:0});return(0,Os.useInsertionEffect)((()=>{const{width:e,height:t,top:s,left:a}=o.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[n]),Os.createElement(UH,{isPresent:n,childRef:i,sizeRef:o},Os.cloneElement(t,{ref:i}))}const qH=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:s,mode:a}=e;const l=zz(WH),c=(0,Os.useId)(),u=(0,Os.useMemo)((()=>({id:c,initial:n,isPresent:r,custom:o,onExitComplete:e=>{l.set(e,!0);for(const t of l.values())if(!t)return;i&&i()},register:e=>(l.set(e,!1),()=>l.delete(e))})),s?void 0:[r]);return(0,Os.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[r]),Os.useEffect((()=>{!r&&!l.size&&i&&i()}),[r]),"popLayout"===a&&(t=Os.createElement(BH,{isPresent:r},t)),Os.createElement(fj.Provider,{value:u},t)};function WH(){return new Map}const HH=e=>e.key||"";const KH=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:a="sync"}=e;TV(!o,"Replace exitBeforeEnter with mode='wait'");const l=(0,Os.useContext)(Dj).forceRender||function(){const e=VH(),[t,n]=(0,Os.useState)(0),r=(0,Os.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,Os.useCallback)((()=>$z.postRender(r)),[r]),t]}()[0],c=VH(),u=function(e){const t=[];return Os.Children.forEach(e,(e=>{(0,Os.isValidElement)(e)&&t.push(e)})),t}(t);let h=u;const d=(0,Os.useRef)(new Map).current,f=(0,Os.useRef)(h),p=(0,Os.useRef)(new Map).current,m=(0,Os.useRef)(!0);if(yj((()=>{m.current=!1,function(e,t){e.forEach((e=>{const n=HH(e);t.set(n,e)}))}(u,p),f.current=h})),function(e){(0,Os.useEffect)((()=>()=>e()),[])}((()=>{m.current=!0,p.clear(),d.clear()})),m.current)return Os.createElement(Os.Fragment,null,h.map((e=>Os.createElement(qH,{key:HH(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:a},e))));h=[...h];const g=f.current.map(HH),v=u.map(HH),y=g.length;for(let b=0;b<y;b++){const e=g[b];-1!==v.indexOf(e)||d.has(e)||d.set(e,void 0)}return"wait"===a&&d.size&&(h=[]),d.forEach(((e,t)=>{if(-1!==v.indexOf(t))return;const r=p.get(t);if(!r)return;const o=g.indexOf(t);let m=e;if(!m){const e=()=>{d.delete(t);const e=Array.from(p.keys()).filter((e=>!v.includes(e)));if(e.forEach((e=>p.delete(e))),f.current=u.filter((n=>{const r=HH(n);return r===t||e.includes(r)})),!d.size){if(!1===c.current)return;l(),i&&i()}};m=Os.createElement(qH,{key:HH(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:s,mode:a},r),d.set(t,m)}h.splice(o,0,m)})),h=h.map((e=>{const t=e.key;return d.has(t)?e:Os.createElement(qH,{key:HH(e),isPresent:!0,presenceAffectsLayout:s,mode:a},e)})),Os.createElement(Os.Fragment,null,d.size?h:h.map((e=>(0,Os.cloneElement)(e))))};var GH=n(164),QH=n.t(GH,2),[$H,YH]=sE({strict:!1,name:"PortalContext"}),XH="chakra-portal",JH=e=>(0,Ls.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),ZH=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=(0,Os.useState)(null),o=(0,Os.useRef)(null),[,s]=(0,Os.useState)({});(0,Os.useEffect)((()=>s({})),[]);const a=YH(),l=vA();DR((()=>{if(!r)return;const e=r.ownerDocument,n=t&&null!=a?a:e.body;if(!n)return;o.current=e.createElement("div"),o.current.className=XH,n.appendChild(o.current),s({});const i=o.current;return()=>{n.contains(i)&&n.removeChild(i)}}),[r]);const c=(null==l?void 0:l.zIndex)?(0,Ls.jsx)(JH,{zIndex:null==l?void 0:l.zIndex,children:n}):n;return o.current?(0,GH.createPortal)((0,Ls.jsx)($H,{value:o.current,children:c}),o.current):(0,Ls.jsx)("span",{ref:e=>{e&&i(e)}})},eK=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=null!=i?i:"undefined"!==typeof window?document.body:void 0,s=(0,Os.useMemo)((()=>{const e=null==i?void 0:i.ownerDocument.createElement("div");return e&&(e.className=XH),e}),[i]),[,a]=(0,Os.useState)({});return DR((()=>a({})),[]),DR((()=>{if(s&&o)return o.appendChild(s),()=>{o.removeChild(s)}}),[s,o]),o&&s?(0,GH.createPortal)((0,Ls.jsx)($H,{value:r?s:null,children:t}),s):null};function tK(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?(0,Ls.jsx)(eK,{containerRef:n,...r}):(0,Ls.jsx)(ZH,{...r})}tK.className=XH,tK.selector=".chakra-portal",tK.displayName="Portal";var[nK,rK]=sE({name:"ToastOptionsContext",strict:!1}),iK=e=>{const t=(0,Os.useSyncExternalStore)(LH.subscribe,LH.getState,LH.getState),{motionVariants:n,component:r=wH,portalProps:i}=e,o=Object.keys(t).map((e=>{const i=t[e];return(0,Ls.jsx)("div",{role:"region","aria-live":"polite","aria-label":"Notifications-".concat(e),id:"chakra-toast-manager-".concat(e),style:dj(e),children:(0,Ls.jsx)(KH,{initial:!1,children:i.map((e=>(0,Ls.jsx)(r,{motionVariants:n,...e},e.id)))})},e)}));return(0,Ls.jsx)(tK,{...i,children:o})},oK=e=>function(t){let{children:n,theme:r=e,toastOptions:i,...o}=t;return(0,Ls.jsxs)(MA,{theme:r,...o,children:[(0,Ls.jsx)(nK,{value:null==i?void 0:i.defaultOptions,children:n}),(0,Ls.jsx)(iK,{...i})]})},sK=oK(aj);oK(lj);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const aK=Ms.startTransition;QH.flushSync;function lK(e){let{basename:t,children:n,future:r,window:i}=e,o=Os.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),eT((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=ZE(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),XE("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:JE(t))}),(function(e,t){$E("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let a=o.current,[l,c]=Os.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=Os.useCallback((e=>{u&&aK?aK((()=>c(e))):c(e)}),[c,u]);return Os.useLayoutEffect((()=>a.listen(h)),[a,h]),Os.createElement(ZT,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var cK,uK;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cK||(cK={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(uK||(uK={}));const hK=function(){return(0,Ls.jsx)(sK,{children:(0,Ls.jsx)(dS,{children:(0,Ls.jsx)(lK,{children:(0,Ls.jsxs)(eI,{children:[(0,Ls.jsx)(JT,{exact:!0,path:"/auth",element:(0,Ls.jsx)(TR,{})}),(0,Ls.jsx)(JT,{path:"/register",element:(0,Ls.jsx)(aA,{})}),(0,Ls.jsx)(JT,{exact:!0,path:"/chat",element:(0,Ls.jsx)(EI,{})}),(0,Ls.jsx)(JT,{exact:!0,path:"/userSettings",element:(0,Ls.jsx)(lA,{})}),(0,Ls.jsx)(JT,{path:"/",element:(0,Ls.jsx)(XT,{to:"/auth"})})]})})})})},dK=OP({guest:fR});const fK=function(){return YP({reducer:{guest:fR}})};var pK=n(250);const mK=fK(dK,{});pK.createRoot(document.getElementById("root")).render((0,Ls.jsx)(_I,{store:mK,children:(0,Ls.jsx)(hK,{})}))})()})();
//# sourceMappingURL=main.54b14c13.js.map